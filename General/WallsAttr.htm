<html>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta http-equiv="Content-Language" content="en-us">
<title>Walls Attributes</title>
<link href="ManverusStyle.css" type=text/css rel=stylesheet>
</head>

<body>

<p>&nbsp;</p>
<p align="center"><font size="5">How to modify walls attributes using Hex Editor
?</font></p>
<p>Firstly you check where is placed secondary header of WED file that you want
to edit :<br>
<br>
<br>
In header :</p>
<table border="1" width="100%">
  <tr>
    <td>0x0014</td>
  </tr>
  <tr>
    <td>4 (dword)</td>
  </tr>
  <tr>
    <td>Offset (from start of file) to secondary header</td>
  </tr>
</table>
<p><br>
Then in secondary header you look for two informations that will be needed to
find proper wall that you want to edit :</p>
<table border="1" width="100%">
  <tr>
    <td>0x0000</td>
  </tr>
  <tr>
    <td>4 (dword)</td>
  </tr>
  <tr>
    <td>Number of polygons used to represent walls</td>
  </tr>
  <tr>
    <td>0x0004</td>
  </tr>
  <tr>
    <td>4 (dword)</td>
  </tr>
  <tr>
    <td>Offset to polygons</td>
  </tr>
</table>
<p>You simply get in ICM the number of wall that you want to edit and......
information from offset 0x0004 of secondary header is your reference to the
beginning of Polygons sections where our clipped flag is located.<br>
<br>
You have to find this place in the WED file and............<br>
<br>
All polygons section have 12h length as IESDP says, they are not numerated, you
have to just count the sections manually if you want to find your desired wall -
simply find the n -th section where &quot;n&quot; is your wall number that you
have get from ICM.<br>
<br>
Then you are interested in the following offset of your Polygon section :<br>
<br>
</p>
<table border="1" width="100%">
  <tr>
    <td>0x0008</td>
  </tr>
  <tr>
    <td>1 (unsigned byte)</td>
  </tr>
  <tr>
    <td>Indicates whether this polygon is a polygon or a hole (i.e. whether it
      is a section of impassability or one of passability.)</td>
  </tr>
</table>
<p><br>
The default is that wall has shading from both sides - it is modified by flag. -
so value 00 is default<br>
<br>
Here we have 8 bit flag :</p>
<ul>
  <li>Bit 0 : If set to 1 then the NPC/creature/PC appears to be behind wall if
    his location point is inside wall polygon boundaries. If the character
    location is &quot;beneath&quot; the wall polygon then the character's
    animation is shown in front of the wall and it is not shaded.</li>
  <li>Bit 1 : If set to 1 this disable wall appearance at all.</li>
  <li>Bit 2 : There appears errors and game crushes ( Assertion failed in
    ChVidPoly.cpp, line 523) , however there are some condition when it works ok
    (used in AR0300 in BG2) but exact results are unknown at the moment.</li>
  <li>Bit 3 : Also used in game areas, in many places, but at first glance it
    doesn't seem to do anything.</li>
  <li>Bit 4 : unknown, unused ?&nbsp;</li>
  <li>Bit 5 : unknown, unused ?&nbsp;</li>
  <li>Bit 6 : unknown, unused ?&nbsp;</li>
  <li>Bit 7 : unknown, I have seen this in doors walls flags.&nbsp;</li>
</ul>
<p>NOTE : after this byte is the next byte always actually set to FFh value, so
you may see in hex editor the pairs : 01FF or 09FF or anything else depending on
the set bits in the 0x0008 offset flag.<br>
<br>
You just have to modify this byte in the needed polygon section, save WED file
and either Biff it or put in override.<br>
<br>
For reference what the bit flag is or other concepts , please check :</p>
<ul>
  <li><a href="HexGlossary.htm"><font color="#FF0000">IESDP hex glossary</font></a></li>
  <li><a href="../FilesFormats/WEDformat.htm"><font color="#FF0000">WED
    description</font></a></li>
</ul>

</body>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</html>
