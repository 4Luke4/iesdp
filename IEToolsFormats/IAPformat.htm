<html>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>IAP files</title>
<meta name="Microsoft Theme" content="none, default">
</head>

<body>

<h1 align="center">IAP files</h1>
<table border="1" width="610">
  <tr>
    <td width="28%">FileExtension :</td>
    <td width="72%">IAP</td>
  </tr>
  <tr>
    <td width="28%">Content :</td>
    <td width="72%">Infinity Add-on Patch files (libraries of TBG and other
      files)</td>
  </tr>
  <tr>
    <td width="28%">History :</td>
    <td width="72%">File done by TL , format made by TL (ToddTeamBG)</td>
  </tr>
</table>
<h2>Description</h2>
<p>IAP formatted files allow for multiple files, both TBG formatted and Other,
to be placed together along with their paths inside the Infinity Engine game
directory itself to allow importation, in the case of TBG formatted files, or
simply file placement, in the case of Other files, for customizations. This
makes it easier to have complete customs inserted into an Infinity Engine game
with little manual work required on the installer's part.</p>
<h2><a name="formIAP_Versions">IAP file versions</a></h2>
<ul>
  <li><a href="#formIAPV1_0">V1.0 - Original format devised.</a></li>
</ul>
&nbsp;
<h2 class="frmhead"><a name="formIAPV1_0">IAP V1.0</a></h2>
<p>Overall structure</p>
<ul>
  <li><a href="#formIAPV1_0_Header">Header</a>
  <li><a href="#formIAPV1_0_File_Header">File Header</a>
  <li><a href="#formIAPV1_0_FileNames">File Names</a>
  <li><a href="#formIAPV1_0_Files">Files</a></li>
</ul>
<h4 class="reshead"><a name="formIAPV1_0_Header">IAP V1.0 Header</a></h4>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (datatype)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>4 (Char Array)</td>
      <td>IAP Identifier (&quot;IAP &quot;)</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (dword)</td>
      <td>Null</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (dword)</td>
      <td>TBG File Header Count</td>
    </tr>
    <tr>
      <td>0x000c</td>
      <td>4 (dword)</td>
      <td>Other File Header Count</td>
    </tr>
    <tr>
      <td>0x0010</td>
      <td>1 (Byte)</td>
      <td>Infinity Engine Identification:
        <ul>
          <li>value 0x01- Baldur's Gate
          <li>value 0x02- Planescape: Torment
          <li>value 0x03- Icewind Dale
          <li>value 0x04- Baldur's Gate II: Shadows of Amn</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>0x0011</td>
      <td>4 (dword)</td>
      <td>Total IAP File Length</td>
    </tr>
    <tr>
      <td>0x0015</td>
      <td>-----</td>
      <td>End of Structure</td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formIAPV1_0_File_Header">IAP V1.0 File Header</a></h4>
<p>This header is used for both TBG and Other files present in the IAP. These
header are in the order of all TBG files are first then all Other files are next
and the numbers of each is defined by the parameters in the IAP V1.0 Header
itself.</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (datatype)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>4 (dword)</td>
      <td>Offset to FileName (from beginning of File)</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (dword)</td>
      <td>Length of FileName</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (dword)</td>
      <td>File Launch on IAP Completion (TXT or RTF files only):
        <ul>
          <li>value 0x00- No
          <li>value 0x01- Yes</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>0x000C</td>
      <td>4 (dword)</td>
      <td>Offset to File (from beginning of File)</td>
    </tr>
    <tr>
      <td>0x0010</td>
      <td>4 (dword)</td>
      <td>Length of File</td>
    </tr>
    <tr>
      <td>0x0014</td>
      <td>-----</td>
      <td>End of Structure</td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formIAPV1_0_FileNames">IAP V1.0 File Names</a></h4>
<p>This is the actual text for the file names of the individual files
themselves.</p>
<h4 class="reshead"><a name="formIAPV1_0_Files">IAP V1.0 Files</a></h4>
<p>This is the actual files themselves.</p>

</body>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</html>
