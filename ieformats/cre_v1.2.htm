<html>
<head>
<link rel="stylesheet" type="text/css" href="general.css" />
</head>
<body>
<div class="title_main">CRE file format</div>
<br />
<div class="fileheader">Applies to:</div>
<div class="indent1">PST</div>
<br />
<div class="fileheader">General Description</div>
<div class="indent1">
This file format describes a &quot;creature&quot; (i.e. for lack of a better
description, any object you are capable of attacking. Not all objects you can
open a dialog with are creatures. Doors, for instance, can have associated
dialogs, and could even talk to you, if they were so programmed.) Interestingly
enough, the same format for this file is used in Baldur's Gate 2 and Baldur's
Gate. The additional capabilities (such as new weapons proficiencies) are
attached to the creature as long-lived effects. I will attempt to document this
at some point in the future, but essentially, they are attached in EFF V2.0
formatted blocks (though with the header zeroed), and an effect type of 0xe9.
The specific stats which are stored in the given structures are given by a
mapping in one of the IDS or 2DA files. Details will be forthcoming when I get
some more time.<br />
NB. PST creature disguises are not stored as a field in the creature file, they are held as a GLOBAL variable, named 'appearance'. A value of 1 equates to zombie disguise, a value of 2 equates to dustman disguise.<br />
</div>
<br />
<div class="fileheader">Detailed Description</div>
<div class="indent1">
Overall Structure<br />
<div class="indent1">
  <li><a href="#CREV1_2_Header">Header</a>
  <li><a href="#CREV1_2_Overlay">Overlays</a>
  <li><a href="#CREV1_2_KnownSpell">Known spells section</a>
  <li><a href="#CREV1_2_MemSpellInfo">Spell memorization info</a>
  <li><a href="#CREV1_2_MemSpell">Memorized spells section</a>
  <li><a href="eff_v2.htm">Effects</a>
  <li><a href="#CREV1_2_Item">Items section</a>
  <li><a href="#CREV1_2_ItemSlots">&quot;Item slots&quot;</a></li>
</div>
</div>
<br />
<div class="fileheader"><a name="CREV1_2_Header">CRE V1.2 Header</a></div>
<br />
<div class="indent1">
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (datatype)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
  <tr>
    <td>0x00000</td>
    <td>4 (char array)</td>
    <td>Signature ('CRE ')</td>
  </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (char array)</td>
      <td>Version ('V1.2')</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (strref)</td>
      <td>Long Creature name</td>
    </tr>
    <tr>
      <td>0x000c</td>
      <td>4 (strref)</td>
      <td>Short Creature name (used for tooltips)</td>
    </tr>
    <tr>
      <td>0x0010</td>
      <td>4 (dword)</td>
      <td>Creature flags
        <div class="indent1">
          <li><span class="unknown">bit 0 Damage don't stop casting </span></li>
          <li>bit 1 No corpse</li>          
          <li>bit 2 Keep corpse</li>
          <li>bit 3 Original class was Fighter</li>
          <li>bit 4 Original class was Mage</li>
          <li>bit 5 Original class was Cleric</li>
          <li>bit 6 Original class was Thief</li>
          <li>bit 7 Original class was Druid</li>
          <li>bit 8 Original class was Ranger</li>
          <li>bit 9 Fallen Paladin</li>
          <li>bit 10 Fallen Ranger</li>
          <li>bit 11 Exportable</li>
          <li><span class="unknown">bit 12 unused ?</span></li>
          <li><span class="unknown">bit 13 unused ?</span></li>
          <li><span class="unknown">bit 14 Can activate "Can not be used by NPC" triggers?</span></li>
          <li>bit 15 Been in Party</li>
        </div>
        The way a multiclass char is indicated is by the absence of any of the
        &quot;original class&quot; flags being set.<br />
      </td>
    </tr>
    <tr>
      <td>0x0014</td>
      <td>4 (dword)</td>
      <td>XP (gained for killing this creature)</td>
    </tr>
    <tr>
      <td>0x0018</td>
      <td>4 (dword)</td>
      <td>Creature Power Level (for summoning spells) / XP of the creature (for party members)</td>
    </tr>
    <tr>
      <td>0x001c</td>
      <td>4 (dword)</td>
      <td>Gold carried</td>
    </tr>
    <tr>
      <td>0x0020</td>
      <td>4 (dword)</td>
      <td>Permanent status flags, as per STATE.IDS</td>
    </tr>
    <tr>
      <td>0x0024</td>
      <td>2 (word)</td>
      <td>Current Hit Points</td>
    </tr>
    <tr>
      <td>0x0026</td>
      <td>2 (word)</td>
      <td>Maximum Hit Points</td>
    </tr>
    <tr>
      <td>0x0028</td>
      <td>2 (word)</td>
      <td>Animation ID, as per ANIMATE.IDS.<br />
          There is some structure to the ordering of these entries. BAM files are mapped by the RESDATA.ini files.
      </td>
    </tr>
    <tr>
      <td>0x002a</td>
      <td>2 (word)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>
    <tr>
      <td>0x002c</td>
      <td>1 (byte)</td>
      <td>Metal Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x002d</td>
      <td>1 (byte)</td>
      <td>Minor Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x002e</td>
      <td>1 (byte)</td>
      <td>Major Color Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x002f</td>
      <td>1 (byte)</td>
      <td>Skin Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x0030</td>
      <td>1 (byte)</td>
      <td>Leather Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x0031</td>
      <td>1 (byte)</td>
      <td>Armor Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x0032</td>
      <td>1 (byte)</td>
      <td>Hair Colour Index (BG1 animations)</td>
    </tr>
    <tr>
      <td>0x0033</td>
      <td>1 (byte)</td>
      <td><div class="unknown">
        Eff structure version:
        <div class="indent1">
          0: Version 1 EFF<br />
          1: Version 2 EFF<br />
        </div>
      </div>
    </td>
    </tr>
    <tr>
      <td>0x0034</td>
      <td>8 (resref)</td>
      <td>Small Portrait resource</td>
    </tr>
    <tr>
      <td>0x003c</td>
      <td>8 (resref)</td>
      <td>Large Portrait resource</td>
    </tr>
    <tr>
      <td>0x0044</td>
      <td>1 (signed byte)</td>
      <td>Reputation (minimum value: 0)</td>
    </tr>
    <tr>
      <td>0x0045</td>
      <td>1 (byte)</td>
      <td>Hide In Shadows (base)</td>
    </tr>
    <tr>
      <td>0x0046</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Natural)</td>
    </tr>
    <tr>
      <td>0x0048</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Effective)</td>
    </tr>
    <tr>
      <td>0x004a</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Crushing Attacks Modifier)</td>
    </tr>
    <tr>
      <td>0x004c</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Missile Attacks Modifier)</td>
    </tr>
    <tr>
      <td>0x004e</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Piercing Attacks Modifier)</td>
    </tr>
    <tr>
      <td>0x0050</td>
      <td>2 (signed word)</td>
      <td>Armor Class (Slashing Attacks Modifier)</td>
    </tr>
    <tr>
      <td>0x0052</td>
      <td>1 (byte)</td>
      <td>THAC0 (1-25)</td>
    </tr>
    <tr>
      <td>0x0053</td>
      <td>1 (byte)</td>
      <td>Number of attacks (0-10)</td>
    </tr>
    <tr>
      <td>0x0054</td>
      <td>1 (byte)</td>
      <td>Save versus death (0-20)</td>
    </tr>
    <tr>
      <td>0x0055</td>
      <td>1 (byte)</td>
      <td>Save versus wands (0-20)</td>
    </tr>
    <tr>
      <td>0x0056</td>
      <td>1 (byte)</td>
      <td>Save versus polymorph (0-20)</td>
    </tr>
    <tr>
      <td>0x0057</td>
      <td>1 (byte)</td>
      <td>Save versus breath attacks (0-20)</td>
    </tr>
    <tr>
      <td>0x0058</td>
      <td>1 (byte)</td>
      <td>Save versus spells (0-20)</td>
    </tr>
    <tr>
      <td>0x0059</td>
      <td>1 (byte)</td>
      <td>Resist fire (0-100)</td>
    </tr>
    <tr>
      <td>0x005a</td>
      <td>1 (byte)</td>
      <td>Resist cold (0-100)</td>
    </tr>
    <tr>
      <td>0x005b</td>
      <td>1 (byte)</td>
      <td>Resist electricity (0-100)</td>
    </tr>
    <tr>
      <td>0x005c</td>
      <td>1 (byte)</td>
      <td>Resist acid (0-100)</td>
    </tr>
    <tr>
      <td>0x005d</td>
      <td>1 (byte)</td>
      <td>Resist magic (0-100)</td>
    </tr>
    <tr>
      <td>0x005e</td>
      <td>1 (byte)</td>
      <td>Resist magic fire (0-100)</td>
    </tr>
    <tr>
      <td>0x005f</td>
      <td>1 (byte)</td>
      <td>Resist magic cold (0-100)</td>
    </tr>
    <tr>
      <td>0x0060</td>
      <td>1 (byte)</td>
      <td>Resist slashing (0-100)</td>
    </tr>
    <tr>
      <td>0x0061</td>
      <td>1 (byte)</td>
      <td>Resist crushing (0-100)</td>
    </tr>
    <tr>
      <td>0x0062</td>
      <td>1 (byte)</td>
      <td>Resist piercing (0-100)</td>
    </tr>
    <tr>
      <td>0x0063</td>
      <td>1 (byte)</td>
      <td>Resist missile (0-100)</td>
    </tr>
    <tr>
      <td>0x0064</td>
      <td>1 (byte)</td>
      <td><span class="unknown">Detect illusion (minimum value : 0)</span></td>
    </tr>
    <tr>
      <td>0x0065</td>
      <td>1 (byte)</td>
      <td><span class="unknown">Set traps</span></td>
    </tr>
    <tr>
      <td>0x0066</td>
      <td>1 (byte)</td>
      <td>Lore (0-100)*</td>
    </tr>
    <tr>
      <td>0x0067</td>
      <td>1 (byte)</td>
      <td>Lockpicking (minimum value: 0)</td>
    </tr>
    <tr>
      <td>0x0068</td>
      <td>1 (byte)</td>
      <td>Stealth (minimum value: 0)</td>
    </tr>
    <tr>
      <td>0x0069</td>
      <td>1 (byte)</td>
      <td>Find/disarm traps (minimum value: 0)</td>
    </tr>
    <tr>
      <td>0x006a</td>
      <td>1 (byte)</td>
      <td>Pick pockets (minimum value: 0)</td>
    </tr>
    <tr>
      <td>0x006b</td>
      <td>1 (byte)</td>
      <td>Fatigue (0-100)</td>
    </tr>
    <tr>
      <td>0x006c</td>
      <td>1 (byte)</td>
      <td>Intoxification (0-100)</td>
    </tr>
    <tr>
      <td>0x006d</td>
      <td>1 (byte)</td>
      <td>Luck</td>
    </tr>
    <tr>
      <td>0x006e</td>
      <td>1 (byte)</td>
      <td>Fist proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    </tr>
    <tr>
      <td>0x006f</td>
      <td>1 (byte)</td>
      <td>Edged proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    </tr>
    <tr>
      <td>0x0070</td>
      <td>1 (byte)</td>
      <td>Hammer proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    </tr>
    <tr>
      <td>0x0071</td>
      <td>1 (byte)</td>
        <td>Axe proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    </tr>
    <tr>
      <td>0x0072</td>
      <td>1 (byte)</td>
      <td>Club proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    <tr>
      <td>0x0073</td>
      <td>1 (byte)</td>
      <td>Bow proficiency (Proficiencies 
        maybe be packed into 3-bit chunks for the primary
        and secondary classes)</td>
    </tr>
    <tr>
      <td>0x0074</td>
      <td>1 (byte)</td>
      <td>Unused Proficiency Slots</td>
    </tr>
    <tr>
      <td>0x0075</td>
      <td>1 (byte)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0076</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0077</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0078</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0079</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007a</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007b</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007c</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007d</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007e</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x007f</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0080</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0081</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0082</td>
      <td>1 (bytes)</td>
      <td>Unused Proficiency Slot</td>
    </tr>
    <tr>
      <td>0x0083</td>
      <td>1 (byte)</td>
      <td><span class="unknown">Tracking skill (0-100)</span></td>
    </tr>
    <tr>
      <td>0x0084</td>
      <td>32 (bytes)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>
    <tr>
      <td>0x00a4</td>
      <td>4*100 (strref*100)</td>
      <td>Strrefs pertaining to the character. <br />
         Most are connected with the sound-set (see SOUNDOFF.IDS (for BG1) 
         and SNDSLOT.IDS for (BG2)).</td>
    </tr>
    <tr>
      <td>0x0234</td>
      <td>1 (byte)</td>
      <td>Highest attained level in primary class (0-100). If dual-classed,
        this value is put in the next field, and this field is set to 1.</td>
    </tr>
    <tr>
      <td>0x0235</td>
      <td>1 (byte)</td>
      <td>Highest attained level in secondary class (0-100)</td>
    </tr>
    <tr>
      <td>0x0236</td>
      <td>1 (byte)</td>
      <td>Highest attained level in tertiary class (0-100)<br />
        0 is Dual Classed cre (if 0x0235 is non-zero, &gt;0 is multi-classed)</p>
      </td>
    </tr>
    <tr>
      <td>0x0237</td>
      <td>1 (byte)</td>
      <td>Sex (from gender.ids) - not changed by effects</td>
    </tr>
    <tr>
      <td>0x0238</td>
      <td>1 (byte)</td>
      <td>Strength (1-25)</td>
    </tr>
    <tr>
      <td>0x0239</td>
      <td>1 (byte)</td>
      <td>Strength % Bonus (0-100)</td>
    </tr>
    <tr>
      <td>0x023a</td>
      <td>1 (byte)</td>
      <td>Intelligence (1-25)</td>
    </tr>
    <tr>
      <td>0x023b</td>
      <td>1 (byte)</td>
      <td>Wisdom (1-25)</td>
    </tr>
    <tr>
      <td>0x023c</td>
      <td>1 (byte)</td>
      <td>Dexterity (1-25)</td>
    </tr>
    <tr>
      <td>0x023d</td>
      <td>1 (byte)</td>
      <td>Constitution (1-25)</td>
    </tr>
    <tr>
      <td>0x023e</td>
      <td>1 (byte)</td>
      <td>Charisma (1-25)</td>
    </tr>
    <tr>
      <td>0x023f</td>
      <td>1 (byte)</td>
      <td>Morale</td>
    </tr>
    <tr>
      <td>0x0240</td>
      <td>1 (byte)</td>
      <td>Morale break</td>
    </tr>
    <tr>
      <td>0x0241</td>
      <td>1 (byte)</td>
      <td>Racial enemy (RACE.IDS)</td>
    </tr>
    <tr>
      <td>0x0242</td>
      <td>1 (byte)</td>
      <td>Morale Recovery Time</td>
    </tr>
    <tr>
      <td>0x0243</td>
      <td>1 (byte)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>
    <tr>
      <td>0x0244</td>
      <td>4 (dword)</td>
      <td>Kit information<br />
        NONE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x00000000<br />
        ABJURER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x00400000<br />
        CONJURER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x00800000<br />
        DIVINER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x01000000<br />
        ENCHANTER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x02000000<br />
        ILLUSIONIST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x04000000<br />
        INVOKER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x08000000<br />
        NECROMANCER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x10000000<br />
        TRANSMUTER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;0x20000000<br />
        <br />
        NB.: The values of this offset are written in big endian style.<br />
      </td>
    </tr>
    <tr>
      <td>0x0248</td>
      <td>8 (resref)</td>
      <td>Creature <a href="bcs.htm">script</a> - Override</td>
    </tr>
    <tr>
      <td>0x0250</td>
      <td>8 (resref)</td>
      <td>Creature <a href="bcs.htm">script</a> - Class</td>
    </tr>
    <tr>
      <td>0x0258</td>
      <td>8 (resref)</td>
      <td>Creature <a href="bcs.htm">script</a> - Race</td>
    </tr>
    <tr>
      <td>0x0260</td>
      <td>8 (resref)</td>
      <td>Creature <a href="bcs.htm">script</a> - General </td>
    </tr>
    <tr>
      <td>0x0268</td>
      <td>8 (resref)</td>
      <td>Creature <a href="bcs.htm">script</a> - Default</td>
    </tr>
    <tr>
      <td>0x0270</td>
      <td>52 (bytes)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>

    <tr>
      <td>0x0294</td>
      <td>4 (dword)</td>
      <td>Offset to overlay section</td>
    </tr>
    <tr>
      <td>0x0298</td>
      <td>4 (dword)</td>
      <td>Size of overlay section</td>
    </tr>
    <tr>
      <td>0x029c</td>
      <td>4 (dword)</td>
      <td>XP (Secondary class)</td>
    </tr>
    <tr>
      <td>0x02a0</td>
      <td>4 (dword)</td>
      <td>XP (Tertiary class)</td>
    </tr>
    <tr>
      <td>0x02a4</td>
      <td>2 (word)</td>
      <td>Internal 0</td>
    </tr>
    <tr>
      <td>0x02a6</td>
      <td>2 (word)</td>
      <td>Internal 1</td>
    </tr>
    <tr>
      <td>0x02a8</td>
      <td>2 (word)</td>
      <td>Internal 2</td>
    </tr>
    <tr>
      <td>0x02aa</td>
      <td>2 (word)</td>
      <td>Internal 3</td>
    </tr>
    <tr>
      <td>0x02ac</td>
      <td>2 (word)</td>
      <td>Internal 4</td>
    </tr>
    <tr>
      <td>0x02ae</td>
      <td>2 (word)</td>
      <td>Internal 5</td>
    </tr>
    <tr>
      <td>0x02b0</td>
      <td>2 (word)</td>
      <td>Internal 6</td>
    </tr>
    <tr>
      <td>0x02b2</td>
      <td>2 (word)</td>
      <td>Internal 7</td>
    </tr>
    <tr>
      <td>0x02b4</td>
      <td>2 (word)</td>
      <td>Internal 8</td>
    </tr>
    <tr>
      <td>0x02b6</td>
      <td>2 (word)</td>
      <td>Internal 9</td>
    </tr>
    <tr>
      <td>0x02b8</td>
      <td>32 (char array)</td>
      <td>Monstrous Compendium Entry</td>
    </tr>
    <tr>
      <td>0x02dc</td>
      <td>1 (char)</td>
      <td>Dialog Activation Range</td>
    </tr>
    <tr>
      <td>0x02dd</td>
      <td>1 (word)</td>
      <td>Selection circle size</td>
    </tr>
    <tr>
      <td>0x02de</td>
      <td>1 (word)</td>
      <td><span class="unknown"> Unknown </span></td>
    </tr>
    <tr>
      <td>0x02df</td>
      <td>1 (byte)</td>
      <td>Number of Colours</td>
    </tr>
    <tr>
      <td>0x02e0</td>
      <td>4 (dword)</td>
      <td>Attribute Flags:<br />
        <div class="indent1">
          <span class="unknown">bit 1: Unknown</span><br />
          bit 1: Transparent <br />
          <span class="unknown">bit 2: Unknown</span><br />
          <span class="unknown">bit 3: Unknown</span><br />
          <span class="unknown">bit 4: Unknown</span><br />
          <span class="unknown">bit 5: Unknown</span><br />
          <span class="unknown">bit 6: Unknown</span><br />
          <span class="unknown">bit 7: Unknown</span><br />
          <span class="unknown">bit 8: Unknown</span><br />
          bit 9: Invulnerable<br />
          <span class="unknown">bit 9: Unknown</span><br />
          <span class="unknown">bit 10: Unknown</span><br />
          <span class="unknown">bit 11: Unknown</span><br />
          <span class="unknown">bit 12: Unknown</span><br />
        </div>
      </td>
    </tr>
    <tr>
      <td>0x02e4</td>
      <td>2 (word)</td>
      <td>Colour 1 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02e6</td>
      <td>2 (word)</td>
      <td>Colour 2 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02e8</td>
      <td>2 (word)</td>
      <td>Colour 3 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02ea</td>
      <td>2 (word)</td>
      <td>Colour 4 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02ec</td>
      <td>2 (word)</td>
      <td>Colour 5 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02ee</td>
      <td>2 (word)</td>
      <td>Colour 6 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02f0</td>
      <td>2 (word)</td>
      <td>Colour 7 (Clownclr.ids)</td>
    </tr>
    <tr>
      <td>0x02f2</td>
      <td>3 (bytes)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>
    <tr>
      <td>0x02f5</td>
      <td>1 (char)</td>
      <td>Colour Placement 1</td>
    </tr>
    <tr>
      <td>0x02f6</td>
      <td>1 (char)</td>
      <td>Colour Placement 2</td>
    </tr>
    <tr>
      <td>0x02f7</td>
      <td>1 (char)</td>
      <td>Colour Placement 3</td>
    </tr>
    <tr>
      <td>0x02f8</td>
      <td>1 (char)</td>
      <td>Colour Placement 4</td>
    </tr>
    <tr>
      <td>0x02f9</td>
      <td>1 (char)</td>
      <td>Colour Placement 5</td>
    </tr>
    <tr>
      <td>0x02fa</td>
      <td>1 (char)</td>
      <td>Colour Placement 6</td>
    </tr>
    <tr>
      <td>0x02fb</td>
      <td>1 (char)</td>
      <td>Colour Placement 7</td>
    </tr>
    <tr>
      <td>0x02fc</td>
      <td>21 (bytes)</td>
      <td><span class="unknown">Unknown</span</td>
    </tr>
    <tr>
      <td>0x0311</td>
      <td>1 (byte)</td>
      <td>Species (RACE.IDS)</td>
    </tr>
    <tr>
      <td>0x0312</td>
      <td>1 (byte)</td>
      <td>Team (TEAM.IDS)<br />
          Start of 'object identifier' fields.</td>
      </td>
    </tr>
    <tr>
      <td>0x0313</td>
      <td>1 (byte)</td>
      <td>Faction (FACTION.IDS)</td>
    </tr>
    <tr>
      <td>0x0314</td>
      <td>1 (byte)</td>
      <td>Enemy-Ally (EA.IDS)</td>
    </tr>
    <tr>
      <td>0x0315</td>
      <td>1 (byte)</td>
      <td>General (GENERAL.IDS)</td>
    </tr>
    <tr>
      <td>0x0316</td>
      <td>1 (byte)</td>
      <td>Race (RACE.IDS)</td>
    </tr>
    <tr>
      <td>0x0317</td>
      <td>1 (byte)</td>
      <td>Class (CLASS.IDS)</td>
    </tr>
    <tr>
      <td>0x0318</td>
      <td>1 (byte)</td>
      <td>Specific (SPECIFIC.IDS)</td>
    </tr>
    <tr>
      <td>0x0319</td>
      <td>1 (byte)</td>
      <td>Gender (GENDER.IDS)</td>
    </tr>
    <tr>
      <td>0x031a</td>
      <td>5 (bytes)</td>
      <td><span class="unknown">Unknown. Possibly OBJECT.IDS reference</td>
    </tr>
    <tr>
      <td>0x031f</td>
      <td>1 (byte)</td>
      <td>Alignment (ALIGNMEN.IDS)</td>
    </tr>
    <tr>
      <td>0x0320</td>
      <td>2 (word)</td>
      <td>Global actor enumeration value.</td>
    </tr>
    <tr>
      <td>0x0322</td>
      <td>2 (word)</td>
      <td>Local (area) actor enumeration value.</td>
    </tr>
    <tr>
      <td>0x0324</td>
      <td>32 (char array)</td>
      <td>Death Variable</td>
    </tr>
    <tr>
      <td>0x0344</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_KnownSpell">Known spells</a> offset</td>
    </tr>
    <tr>
      <td>0x0348</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_KnownSpell">Known spells</a> count</td>
    </tr>
    <tr>
      <td>0x034c</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_MemSpellInfo">Spell memorization info</a> offset</td>
    </tr>
    <tr>
      <td>0x0350</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_MemSpellInfo">Spell memorization info</a> entries count</td>
    </tr>
    <tr>
      <td>0x0354</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_MemSpell">Memorized spells</a> offset</td>
    </tr>
    <tr>
      <td>0x0358</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_MemSpell">Memorized spells</a> count</td>
    </tr>
    <tr>
      <td>0x035c</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_ItemSlots">Item slots</a> offset</td>
    </tr>
    <tr>
      <td>0x0360</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_Item">Items </a>offset</td>
    </tr>
    <tr>
      <td>0x0364</td>
      <td>4 (dword)</td>
      <td><a href="#CREV1_2_Item">Items </a>count</td>
    </tr>
    <tr>
      <td>0x0368</td>
      <td>4 (dword)</td>
      <td>Offset to effects</td>
    </tr>
    <tr>
      <td>0x036c</td>
      <td>4 (dword)</td>
      <td>Count to effects</td>
    </tr>
    <tr>
      <td>0x0370</td>
      <td>8 (resref)</td>
      <td><a href="DLGformat.htm">Dialog file</a>. Can be overriden by script, or area.
    </tr>
  </tbody>
</table>
</div>

<br />
NB. Lore is calculated as ((level * rate) + int_bonus + wis_bonus). Intelligence and wisdom bonuses are from lorebon.2da and the rate is the lookup value in lore.2da, based on class. For multiclass characters, (level * rate) is calculated for both classes separately and the higher of the two values is used - they are not cumulative.<br />

<br />
<div class="fileheader"><a name="CREV1_2_Overlay">CRE V1.2 Overlays</a></div>
<br />
<div class="indent1">
This section details visual effects applied to the creature. Each entry is 36 bytes.<br />
<br />
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (data type)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>36 (bytes)</td>
      <td><div class="unknown"> Unknown </div></td>
    </tr>
  </tbody>
</table>
</div>


<br />
<div class="fileheader"><a name="CREV1_2_KnownSpell">CRE V1.2 Known Spells</a></div>
<br />
<div class="indent1">
This section details which spells the creature knows, and it consists of an array of entries formatted as follows.<br />
<br />
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (data type)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>8 (resref)</td>
      <td>Resource name of the <a href="SPL_V1.htm">SPL file</a> holding the particular spell</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>2 (word)</td>
      <td>Spell Level -1</td>
    </tr>
    <tr>
      <td>0x000a</td>
      <td>2 (word)</td>
      <td>Type of the spell: <br />
        <div class="indent1">
          0=Priest<br />
          1=Wizard<br />
          2=Innate<br />
        </div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<br />

<div class="fileheader"><a name="CREV1_2_MemSpellInfo">CRE V1.2 Spell Memorization Info</a></div>
<br />
<div class="indent1">
This section details how many spells the creature can memorize, and how many
it has memorized. It consists of an array of entries formatted as follows.<br />
<br />
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (data type)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>2 (word)</td>
      <td>Spell level (less 1)</td>
    </tr>
    <tr>
      <td>0x0002</td>
      <td>2 (word)</td>
      <td>Number of spells memorizable</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>2 (word)</td>
      <td>Number of spells memorizable (after effects)</td>
    </tr>
    <tr>
      <td>0x0006</td>
      <td>2 (word)</td>
      <td>Spell type (as above in <a href="#CREV1_2_KnownSpell">Known Spells</a>:
        <div class="indent1">
          0=Priest<br />
          1=Wizard<br />
          2=Innate<br />
        </div>
      </td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (dword)</td>
      <td>Index into <a href="#CREV1_2_MemSpell">memorized spells</a> array
        of first memorized spell of this type in this level.</td>
    </tr>
    <tr>
      <td>0x000c</td>
      <td>4 (dword)</td>
      <td>Count of memorized spell entries in <a href="#CREV1_2_MemSpell">memorized
        spells</a> array of memorized spells of this type in this level.</td>
    </tr>
  </tbody>
</table>
</div>

<br />
<div class="fileheader"><a name="CREV1_2_MemSpell">CRE V1.2 Memorized Spells Table</a></div>
<br />
<div class="indent1">
This section details which spells the character has memorized. It consists of
an array of entries formatted as follows.<br />
<br />
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (data type)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>8 (resref)</td>
      <td>Resource name of the <a href="SPL_V1.htm">SPL file</a> holding the particular memorized spell</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (dword)</td>
      <td>Memorised: 0 = no, 1 = yes</td>
    </tr>
  </tbody>
</table>
</div>

<br />
<div class="fileheader"><a name="CREV1_2_Item">CRE V1.2 Items Table</a></div>
<br />
<div class="indent1">
This section details which items the character has. It consists of an array
of entries formatted as follows:<br />
<br />
<table border="1" width="98%">
  <colgroup>
    <col width="5%">
    <col width="12%">
    <col width="*">
  </colgroup>
  <thead>
    <tr>
      <th>Offset</th>
      <th>Size (data type)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>8 (resref)</td>
      <td>Resource name of the <a href="ITM_V1.htm">ITM file</a> holding the particular item</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>2 (word)</td>
      <td><span class="unknown">Unknown</span></td>
    </tr>
    <tr>
      <td>0x000a</td>
      <td>2 (word)</td>
      <td>Usage1 - often the count of the item (stack), or the number of uses remaining.</td>
    </tr>
    <tr>
      <td>0x000c</td>
      <td>2 (word)</td>
      <td>Usage2</td>
    </tr>
    <tr>
      <td>0x000e</td>
      <td>2 (word)</td>
      <td>Usage3</td>
    </tr>
    <tr>
      <td>0x0010</td>
      <td>4 (dword)</td>
      <td>Flags:
        <div class="indent1">
          bit 0: Identified<br />
          bit 1: Unstealable<br />
          bit 2: Stolen<br />
          bit 3: Undroppable<br />
        </div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<br />
<div class="fileheader"><a name="CREV1_2_ItemSlots">CRE V1.2 Item Slots</a></div>
<br />
<div class="indent1">
This is an array keeping track of which items are located in each particular
location in the CRE's inventory. There are 45 slots, and they are NOT the same
as the order specified in specified in SLOTS.IDS. The actual order is: <br />
<div class="indent1">
  <li>Right Earring/Lens/Helmet</li>
  <li>Armor</li>
  <li>Left Tattoo</li>
  <li>Hand</li>
  <li>L.Ring</li>
  <li>R.Ring</li>
  <li>Left Earring/Eyeball</li>
  <li>Right Tattoo (lower)</li>
  <li>Boots</li>
  <li>Weapon 1</li>
  <li>Weapon 2</li>
  <li>Weapon 3</li>
  <li>Weapon 4</li>
  <li>Quiver 1</li>
  <li>Quiver 2</li>
  <li>Quiver 3</li>
  <li>Quiver 4</li>
  <li>Quiver 5</li>
  <li>?</li>
  <li>Right Tattoo (upper)</li>
  <li>Quick item 1</li>
  <li>Quick item 2</li>
  <li>Quick item 3</li>
  <li>Quick item 4</li>
  <li>Quick item 5</li>
  <li>Inventory item (1 to 20)</li>
  <li>Selected</li>
</div>
  Each entry in here will either be 0xffff, meaning &quot;empty&quot;, or it will be an index into the <a href="#CREV1_2_Item">Items table</a>. Selected is a dword indicating which weapon slot us currently selected. Values are: <br />
<div class="indent1">
<li>0 (Weapon 1)</li>
<li>1 (Weapon 2)</li>
<li>2 (Weapon 3)</li>
<li>3 (Weapon 4)</li>
<li>1000 (No slot)</li>
<li>65512-Quiver 1</li>
<li>65513-Quiver 2</li>
<li>65514-Quiver 3</li>
</div>
</div>
</div>
</body>
</html>
