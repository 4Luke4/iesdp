<html>
<head>
<link rel="stylesheet" type="text/css" href="general.css" />
</head>
<body>
<div class="title_main">2DA file format</div>
<br />
<div class="fileheader">Applies to:</div>
<div class="indent1">BG1, BG1: TotS, BG2, BG2: ToB, PST, IWD, IWD:HoW, IWD:TotL, IWD2</div><br />

<div class="fileheader">General Description</div>
<div class="indent1">
2DA (&quot;2-Dimensional Array&quot;) files contain a two-dimensional array of data. It used to represent many forms of tabular data, for instance the 2nd edition D&amp;D rules. Other data, including the experience cap, kits descriptions in BG2 SoA and ToB and so on... is stored this format of file, as well.<br />
</div>
<br />

<div class="fileheader">Detailed Description</div>
<div class="indent1">
2DA files are text files. If the first two bytes are 0xff, the file is encrypted. Otherwise, the entire file is plaintext. All fields in the file are white space separated. As a result, the fields cannot contain spaces. The first row has the signature, &quot;2DA V1.0&quot;, which may be preceded by white space. The second row has the &quot;default value&quot;. The next row has column-headings. Following rows consist of first a row heading, then the row data. There cannot be more row data in any row than there are column headings, but if there are fewer, the values which are not filled in are assumed to have the default value from the second line of the file. A sample file appears below.
<pre>2DA V1.0
1234
        NAME    VALUE   WEIGHT
A       alpha
B
C       beta    2345    123
</pre>
In the above example, row A has the values <code>{ alpha, 1234, 1234 }</code>. Row B has the values <code>{ 1234, 1234, 1234 }</code>. Row C has the values <code>{beta, 2345, 123 }</code>. The only important thing to remember is that alignment counts for nothing. The only thing that counts for anything is the ordinal index of the field within the line.<br />
</div>
<br />

<div class="fileheader">Encryption</div>
<div class="indent1">
NB. Some files are encrypted, as detailed on the <a href="encryption.htm">encryption page</a>.
</div>
</body>
</html>
