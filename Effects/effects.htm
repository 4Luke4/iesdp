<html>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta http-equiv="Content-Language" content="en-us">
<link href="ManverusStyle.css" type=text/css rel=stylesheet>
<title>Effects</title>
</head>

<body>

<h1 align="center">Effects</h1>
<h2>Description</h2>
<p>In the Infinity Engine games, there is the pivotally important concept of an
&quot;effect&quot;. Effects can do many different things, but examples include
modification of stats, damage, playing of a sound, display of an animation, or a
number of other things. These effects are identified by &quot;type&quot; and by
several additional parameters. The valid types in BG ranged at least from 0x00
through 0xae. Whether all the intervening values were used or not is unclear,
but it appears that most of them are. This section will be devoted to a detailed
explanation of the general format of effects and the specific format of
different types of effects.</p>
<p>The Effects were also called Op Codes or Operation Codes.</p>
<p>This file is under construction. There is much information which needs to go
in this file.&nbsp;&nbsp;&nbsp;</p>
<p>The basic format of an effect is as follows. Note that some of these fields
are put to differing uses by different object types. The sizes of all of the
fields is known to be accurate. For ease of reference, each parameter which is
referenced by the specific effects will be given a <code>tag</code>.</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (datatype)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>2 (word)</td>
      <td>Effect type (varies by <a href="#eff_GameIdx">game</a>)</td>
    </tr>
    <tr>
      <td>0x0002</td>
      <td>1 (byte)</td>
      <td>Target type</td>
    </tr>
    <tr>
      <td>0x0003</td>
      <td>1 (byte)</td>
      <td>Unknown</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (dword)</td>
      <td>Numeric parameter 1 (<code>NP1</code>). Purpose of field varies from
        effect to effect.</td>
    </tr>
    <tr>
      <td>0x0008</td>
      <td>4 (dword)</td>
      <td>Numeric parameter 2 (<code>NP2</code>). Purpose of field varies from
        effect to effect.</td>
    </tr>
    <tr>
      <td>0x000c</td>
      <td>2 (word)</td>
      <td><code>Flags</code>:
        <ul>
          <li>bit 0: permanent
          <li>other bits: TODO</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>0x000e</td>
      <td>4 (dword)</td>
      <td>Time parameter (<code>Time</code>). This determines either when the
        effect occurs, or when the effect wears off, if either of the two is
        applicable. Note that they are only applicable if the relevant flags in
        the <code>Flags</code> field are set.</td>
    </tr>
    <tr>
      <td>0x0012</td>
      <td>1 (byte)</td>
      <td>Probability (<code>Prob</code>) (Note: This field is actually a word
        in pre-Icewind Dale games -- i.e. 2 bytes, but since it is always
        &lt;=100, they split it into two probabilities.)</td>
    </tr>
    <tr>
      <td>0x0013</td>
      <td>1 (byte)</td>
      <td>Unknown. Another probability?</td>
    </tr>
    <tr>
      <td>0x0014</td>
      <td>8 (resref)</td>
      <td>Resref parameter (<code>Resource</code>)</td>
    </tr>
    <tr>
      <td>0x001c</td>
      <td>4 (dword)</td>
      <td>Dice count (<code>NumDice</code>)</td>
    </tr>
    <tr>
      <td>0x0020</td>
      <td>4 (dword)</td>
      <td>Dice sides (<code>NumSides</code>)</td>
    </tr>
    <tr>
      <td>0x0024</td>
      <td>4 (dword)</td>
      <td>Saving throw type (<code>SaveType</code>)</td>
    </tr>
    <tr>
      <td>0x0028</td>
      <td>4 (dword)</td>
      <td>Saving throw bonus (<code>SaveBonus</code>)</td>
    </tr>
    <tr>
      <td>0x002c</td>
      <td>4 (dword)</td>
      <td>Unknown</td>
    </tr>
  </tbody>
</table>
<h2>Global behavior of effects</h2>
<p>This section describes the behaviors which are invariant from effect to
effect. Each effect, when the associated ability of an <a href="../FilesFormats/ITMformat.htm"><font color="#FF0000">ITM</font></a>
or <a href="../FilesFormats/SPLformat.htm"><font color="#FF0000">SPL</font></a> is invoked, will be applied to some target with a certain
probability, given by the <code>Prob</code> field. Basically, a random roll
between 0 and 99 is made, and if it is less than <code>Prob</code> for the given
effect, the effect will be invoked. When the effect is invoked, the target is
given a chance to save against it according to the <code>SaveType</code> and <code>SaveBonus</code>,
as well as the resistances for their particular <a href="../FilesFormats/CREformat.htm"><font color="#FF0000">CRE</font></a>
resource. If the effect is invoked and the target fails the saving throw, then
the effect actually occurs. The <code>Flags</code> determine when the effect
begins and when it ends. Typically an effect will either occur immediately and
expire later or will be an instantaneous effect which occurs later. Frequently,
delayed events are sound effects and such. <strong>Conventions</strong>
<p>The following conventions will be observed below for simplicity:</p>
<ul>
  <li>An effect for which the <code>Flags</code> word is equal to either 0x0001
    or 0x0101 will be called a &quot;<i>Permanent</i>&quot; effect.
    Equivalently, this is an effect for which <code>(Flags &amp; ~0x100) ==
    0x0001</code>. It is clear that this is the form that the test takes in the
    actual Infinity Engine code.</li>
</ul>
</body>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</html>
