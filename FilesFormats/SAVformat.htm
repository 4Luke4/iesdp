<html>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta http-equiv="Content-Language" content="en-us">
<link href="ManverusStyle.css" type=text/css rel=stylesheet>
<title>IE File Formats</title>
</head>

<body>

<h1 align="center">SAV file format</h1>
<table border="1" width="610">
  <tr>
    <td width="28%">FileExtension :</td>
    <td width="72%">SAV</td>
  </tr>
  <tr>
    <td width="28%">Content :</td>
    <td width="72%">Description of Savegame files V.1</td>
  </tr>
  <tr>
    <td width="28%">History :</td>
    <td width="72%">File done by IEFFHP</td>
  </tr>
</table>
<h2>Description</h2>
<p>This is another simple archive format; unlike BIFF files, though, this is a
standalone format, and employs compression. Moreover, it is written in such a
way as to make incremental additions easy and quick. It employs the compression
of <a href="http://www.info-zip.org/pub/infozip/zlib"><code>zlib</code></a>,
written by <em>Jean-loup Gailly</em> and <em>Mark Adler</em>.</p>
<h2><a name="formSAV_Versions">SAV file versions</a></h2>
<ul>
  <li><a href="#formSAVV1">V1: Baldur's Gate, Planescape: Torment, Icewind Dale,
    Baldur's Gate 2</a></li>
</ul>
<h2 class="specverhead"><a name="formSAVV1">SAV V1</a></h2>
<p>Overall structure</p>
<ul>
  <li><a href="#formSAVV1_Header">Header</a>
  <li><a href="#formSAVV1_File">Files</a></li>
</ul>
<p>Included here is a quick-n-dirty C program, using zlib, to extract the
components of a SAV file to their original filenames.&nbsp;</p>
<h4 class="reshead"><a name="formSAVV1_Header">SAV V1 Header</a></h4>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (data type)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>4 (char array)</td>
      <td>Signature ('SAV ')</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (char array)</td>
      <td>Version ('V1 ')</td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formSAVV1_File">SAV V1 Files</a></h4>
<p>The entries each represent one file, in its modified state, typically <a href="AreFormat.htm"><font color="#FF0000"> AREA</font></a>
and <a href="STOformat.htm"><font color="#FF0000"> STOR</font></a> files. They are merely concatenated. In order to seek a particular
file, you read the header of the current section (i.e. all except the raw data
in the below table). If the filename is the one you are looking for, decompress
the section. Otherwise, skip the file stream ahead by &quot;compressed data
length&quot; bytes and repeat.</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (data type)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>4 (dword)</td>
      <td>Length of filename</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>variable (ASCIIZ char array)</td>
      <td>Filename (length specified by previous field)</td>
    </tr>
    <tr>
      <td>sizeof(filename)+0x0004</td>
      <td>4 (dword)</td>
      <td>uncompressed data length</td>
    </tr>
    <tr>
      <td>sizeof(filename)+0x0008</td>
      <td>4 (dword)</td>
      <td>compressed data length</td>
    </tr>
    <tr>
      <td>sizeof(filename)+0x000c</td>
      <td>variable (raw data)</td>
      <td>compressed data (length in bytes specified by previous field)</td>
    </tr>
  </tbody>
</table></body>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</html>
