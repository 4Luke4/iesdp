<html>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta http-equiv="Content-Language" content="en-us">
<link href="ManverusStyle.css" type=text/css rel=stylesheet>
<title>IE File Formats</title>
</head>

<body>

<h1 align="center">GAME files</h1>
<table border="1" width="610">
  <tr>
    <td width="28%">FileExtension :</td>
    <td width="72%">GAM</td>
  </tr>
  <tr>
    <td width="28%">Content :</td>
    <td width="72%">Description of GAM save game file V.1.1</td>
  </tr>
  <tr>
    <td width="28%">History :</td>
    <td width="72%">File done by IEFFHP</td>
  </tr>
</table>
<h2>&nbsp;</h2>
<h2>Description</h2>
<p>This format is used for the save game files. It doesn't store area specific
information. Instead, it stores information on the party members and the global
variables which affect the party members.</p>
<h2><a name="formGAME_Versions">GAME file versions</a></h2>
<ul>
  <li><a href="#formGAMEV1_1">V1.1: Baldur's Gate, Planescape: Torment, Icewind
    Dale</a></li>
</ul>
<h2 class="frmhead"><a name="formGAMEV1_1">GAME V1.1</a></h2>
<p>Overall structure</p>
<ul>
  <li><a href="#formGAMEV1_1_Header">Header</a>
  <li><a href="#formGAMEV1_1_NPC">Party members</a>
  <li><a href="CREformat.htm"><font color="#FF0000">Party
    member CRE file data</font></a>
  <li><a href="#formGAMEV1_1_NPC">NPCs (who are not in the party)</a>
  <li><a href="#formGAMEV1_1_Stats">NPC kills statistics (embedded in NPC struct)</a>
  <li><a href="CREformat.htm"><font color="#FF0000">NPC
    CRE file data</font></a>
  <li><em>(Torment only) Unknown section</em>
  <li><a href="#formGAMEV1_1_Variable">Variables (in the GLOBAL namespace)</a>
  <li><a href="#formGAMEV1_1_Variable">(Torment only) Kill variables (set when
    particular critters are killed)</a>
  <li><a href="#formGAMEV1_1_Journal">Journal entries</a>
  <li><em>(Torment only) Unknown section</em></li>
</ul>
<h4 class="reshead"><a name="formGAMEV1_1_Header">GAME V1.1 Header</a></h4>
<table border="1" class="tbl3" width="509">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th width="48"><font color="#000000">Offset</font></th>
      <th width="103"><font color="#000000">Size (data type)</font></th>
      <th width="336"><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td width="48">0x0000</td>
      <td width="103">4 (char array)</td>
      <td width="336">Signature ('GAME')</td>
    </tr>
    <tr>
      <td width="48">0x0004</td>
      <td width="103">4 (char array)</td>
      <td width="336">Version ('V1.1')</td>
    </tr>
    <tr>
      <td width="48">0x0008</td>
      <td width="103">4 (dword)</td>
      <td width="336">Game time (300 units == 1 hour). According to Eddy Jansson, this field
        is exactly 7 hours (2100 units) ahead of the time displayed in the game.
        <font color="#000099">
        Precisely why this is so is unknown.</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x000c</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x000e</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0010</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0012</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0014</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0016</td>
      <td width="103">2 (word)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x0018</td>
      <td width="103">4 (dword)</td>
      <td width="336">Party gold</td>
    </tr>
    <tr class="unk">
      <td width="48">0x001c</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x0020</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to <a href="#formGAMEV1_1_NPC">NPC structs for party members</a>.</td>
    </tr>
    <tr>
      <td width="48">0x0024</td>
      <td width="103">4 (dword)</td>
      <td width="336">Count of <a href="#formGAMEV1_1_NPC">NPC structs for party members</a>.
        (i.e. how many characters in party)</td>
    </tr>
    <tr class="unk">
      <td width="48">0x0028</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x002c</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x0030</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to <a href="#formGAMEV1_1_NPC">NPC structs for non-party
        members</a>.</td>
    </tr>
    <tr>
      <td width="48">0x0034</td>
      <td width="103">4 (dword)</td>
      <td width="336">Count of <a href="#formGAMEV1_1_NPC">NPC structs for non-party members</a>.</td>
    </tr>
    <tr>
      <td width="48">0x0038</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to <a href="#formGAMEV1_1_Variable">GLOBAL namespace variables
        (i.e. non-local plot variables)</a>.</td>
    </tr>
    <tr>
      <td width="48">0x003c</td>
      <td width="103">4 (dword)</td>
      <td width="336">Count of <a href="#formGAMEV1_1_Variable">GLOBAL namespace variables</a>.</td>
    </tr>
    <tr class="unc">
      <td width="48">0x0040</td>
      <td width="103">8 (resref)</td>
      <td width="336">The resref of some area. (Possibly refers to a <code>.are</code> type
        resource.</td>
    </tr>
    <tr class="unk">
      <td width="48">0x0048</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x004c</td>
      <td width="103">4 (dword)</td>
      <td width="336">Count of journal entries</td>
    </tr>
    <tr>
      <td width="48">0x0050</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to journal entries (near end of file)</td>
    </tr>
  </tbody>
</table>
<p>Now, the format diverges a little between BG and PT. In BG, the next fields
in the header look like:</p>
<table border="1" class="tbl3" width="509">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th width="96"><font color="#000000">Offset</font></th>
      <th width="103"><font color="#000000">Size (data type)</font></th>
      <th width="288"><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr class="unk">
      <td width="96">0x0054</td>
      <td width="103">4 (dword)</td>
      <td width="288"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unc">
      <td width="96">0x0058</td>
      <td width="103">8 (resref)</td>
      <td width="288">Current area (?)</td>
    </tr>
    <tr class="unk">
      <td width="96">0x0060</td>
      <td width="103">84 (bytes)</td>
      <td width="288"><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<p>In Planescape, the next fields look like:</p>
<table border="1" class="tbl3" width="509">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th width="48"><font color="#000000">Offset</font></th>
      <th width="103"><font color="#000000">Size (data type)</font></th>
      <th width="336"><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr class="unc">
      <td width="48">0x0054</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Offset to entries of an unknown format (26 bytes apiece) in middle of
        file. My belief is that these entries cover some aspect of the inter-NPC
        relations, but I don't have much hard evidence to back it up, and I
        don't have any idea what the meaning of the various fields would be,
        so...</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0058</td>
      <td width="103">4 (dword)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unc">
      <td width="48">0x005c</td>
      <td width="103">8 (resref)</td>
      <td width="336">Current area (?)</td>
    </tr>
    <tr>
      <td width="48">0x0064</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to &quot;<a href="#formGAMEV1_1_Variable">kill variables</a>&quot;,
        which are set when a particular creature type is killed. Which variable
        is set is determined by beasts.ini, I believe.</td>
    </tr>
    <tr>
      <td width="48">0x0068</td>
      <td width="103">4 (dword)</td>
      <td width="336">Count of &quot;<a href="#formGAMEV1_1_Variable">kill variables</a>&quot;.</td>
    </tr>
    <tr class="unc">
      <td width="48">0x006c</td>
      <td width="103">4 (dword)</td>
      <td width="336">Offset to an array of bytes, (apparently usually 0 or 1), whose
        significance is not known. These bytes appear at the end of the file,
        and may indicate which pictures appear in the journal, or which quests
        have been undertaken, or any number of things. I do not yet know the
        purpose of the bytes.</td>
    </tr>
    <tr class="unc">
      <td width="48">0x0070</td>
      <td width="103">8 (resref)</td>
      <td width="336">Current area (?)</td>
    </tr>
    <tr class="unk">
      <td width="48">0x0078</td>
      <td width="103">64 (bytes)</td>
      <td width="336"><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formGAMEV1_1_NPC">GAME V1.1 NPCs (both in-party and
out-of-party NPCs)</a></h4>
<p>This structure represents data about any character who can possibly be in
your party.</p>
<table border="1" class="tbl3" width="509">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th width="48"><font color="#000000">Offset</font></th>
      <th width="107"><font color="#000000">Size (data type)</font></th>
      <th width="332"><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr class="unk">
      <td width="48">0x0000</td>
      <td width="107">2 (word)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x0002</td>
      <td width="107">2 (word)</td>
      <td width="332">Party order (0-5, or 0xffff if not in party)</td>
    </tr>
    <tr>
      <td width="48">0x0004</td>
      <td width="107">4 (dword)</td>
      <td width="332">Offset from start of file to <a href="CREformat.htm"><font color="#FF0000">CRE
        resource data</font></a> for this character.</td>
    </tr>
    <tr>
      <td width="48">0x0008</td>
      <td width="107">4 (dword)</td>
      <td width="332">Size of <a href="CREformat.htm"><font color="#FF0000">CRE
        resource data</font></a> for this character.</td>
    </tr>
    <tr class="unk">
      <td width="48">0x000c</td>
      <td width="107">8 (bytes)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x0014</td>
      <td width="107">4 (dword)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td width="48">0x0018</td>
      <td width="107">8 (resref)</td>
      <td width="332">Area where character is currently located.</td>
    </tr>
    <tr>
      <td width="48">0x0020</td>
      <td width="107">2 (word)</td>
      <td width="332">Current X coordinate of character</td>
    </tr>
    <tr>
      <td width="48">0x0022</td>
      <td width="107">2 (word)</td>
      <td width="332">Current Y coordinate of character</td>
    </tr>
    <tr>
      <td width="48">0x0024</td>
      <td width="107">2 (word)</td>
      <td width="332">X coordinate of viewing rectangle. possibly this is stored per
        character so that multi-player games allow the characters to have
        different saved view rects?</td>
    </tr>
    <tr>
      <td width="48">0x0026</td>
      <td width="107">2 (word)</td>
      <td width="332">Y coordinate of viewing rectangle</td>
    </tr>
    <tr class="unk">
      <td width="48">0x0028</td>
      <td width="107">100 (bytes)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x008c</td>
      <td width="107">16 (bytes)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td width="48">0x009c</td>
      <td width="107">3*8 (resref array)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unc">
      <td width="48">0x00b4</td>
      <td width="107">12 (bytes)</td>
      <td width="332"><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<p>For BG/TotSC:</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <tbody>
    <tr class="upd">
      <td>0x00c0</td>
      <td>32 (bytes)</td>
      <td>Name</td>
    </tr>
    <tr class="unk">
      <td>0x00e0</td>
      <td>4 (dword)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td>0x00e4</td>
      <td>116 bytes (<a href="#formGAMEV1_1_Stats">Char stats</a>)</td>
      <td>stats for this character</td>
    </tr>
    <tr class="unk">
      <td>0x0158</td>
      <td>8 bytes</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<p>For Torment:</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <tbody>
    <tr class="unk">
      <td>0x00c0</td>
      <td>32 (bytes)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td>0x00e0</td>
      <td>3*4 (dword)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td>0x00ec</td>
      <td>116 bytes (<a href="#formGAMEV1_1_Stats">Char stats</a>)</td>
      <td>stats for this character</td>
    </tr>
    <tr class="unk">
      <td>0x0160</td>
      <td>8 bytes</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<p>For Icewind Dale:</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <tbody>
    <tr class="upd">
      <td>0x00c0</td>
      <td>32 (bytes)</td>
      <td>Name</td>
    </tr>
    <tr class="unk">
      <td>0x00e0</td>
      <td>4 (dword)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td>0x00e4</td>
      <td>116 bytes (<a href="#formGAMEV1_1_Stats">Char stats</a>)</td>
      <td>stats for this character</td>
    </tr>
    <tr class="unk">
      <td>0x0158</td>
      <td>8 bytes</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr class="unk">
      <td>0x0160</td>
      <td>32 (bytes)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formGAMEV1_1_Stats">GAME V1.1 Character stats (i.e.
most powerful vanquished, etc)</a></h4>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (data type)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>4 (strref)</td>
      <td>Name of &quot;most powerful vanquished&quot;</td>
    </tr>
    <tr>
      <td>0x0004</td>
      <td>4 (dword)</td>
      <td>XP of &quot;most powerful vanquished&quot;</td>
    </tr>
    <tr class="unk">
      <td>0x0008</td>
      <td>4*3 (dword array)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td>0x0014</td>
      <td>4 (dword)</td>
      <td>kill XP (chapter)</td>
    </tr>
    <tr>
      <td>0x0018</td>
      <td>4 (dword)</td>
      <td>kill number (chapter)</td>
    </tr>
    <tr>
      <td>0x001c</td>
      <td>4 (dword)</td>
      <td>kill XP (game)</td>
    </tr>
    <tr>
      <td>0x0020</td>
      <td>4 (dword)</td>
      <td>kill number (game)</td>
    </tr>
    <tr>
      <td>0x0024</td>
      <td>4*8 (resref array)</td>
      <td>Favorite spells</td>
    </tr>
    <tr>
      <td>0x0044</td>
      <td>4*2 (word array)</td>
      <td>favorite spell count</td>
    </tr>
    <tr>
      <td>0x004c</td>
      <td>4*8 (resref array)</td>
      <td>Favorite weapons</td>
    </tr>
    <tr>
      <td>0x006c</td>
      <td>4*2 (word)</td>
      <td>favorite weapon count</td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formGAMEV1_1_Variable">GAME V1.1 Game variables
(plot variables)</a></h4>
<p>These structures represent variables with a textual name an an integer value.
Most variables are in some namespace or other -- a namespace being a 6-byte
character string. Most variables go in the &quot;GLOBAL&quot; namespace, though
some go in area-specific namespaces.</p>
<table border="1" class="tbl3" width="98%">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th><font color="#000000">Offset</font></th>
      <th><font color="#000000">Size (data type)</font></th>
      <th><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0x0000</td>
      <td>32 (char array)</td>
      <td>Variable name</td>
    </tr>
    <tr class="unk">
      <td>0x0020</td>
      <td>8 (bytes)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
    <tr>
      <td>0x0028</td>
      <td>4 (dword)</td>
      <td>Variable value</td>
    </tr>
    <tr class="unk">
      <td>0x002c</td>
      <td>40 (bytes)</td>
      <td><font color="#000099">Unknown</font></td>
    </tr>
  </tbody>
</table>
<h4 class="reshead"><a name="formGAMEV1_1_Variable">GAME V1.1 Journal entries</a></h4>
<p>Every time some text is entered into your journal, its strref is added to
this table, along with the time (in seconds! not in 12-second increments, as the
earlier game time in this file), as well as the &quot;current chapter&quot;.</p>
<table border="1" class="tbl3" width="509">
  <colgroup>
    <col class="col1" width="5%">
    <col class="col2" width="12%">
    <col class="col3" width="*">
  </colgroup>
  <thead>
    <tr>
      <th width="48"><font color="#000000">Offset</font></th>
      <th width="103"><font color="#000000">Size (data type)</font></th>
      <th width="336"><font color="#000000">Description</font></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td width="48">0x0000</td>
      <td width="103">4 (strref)</td>
      <td width="336">Journal text</td>
    </tr>
    <tr>
      <td width="48">0x0004</td>
      <td width="103">4 (dword)</td>
      <td width="336">Time in seconds (I believe. The number goes up approximately 12 times
        too fast to be on the same scale as the earlier time values.</td>
    </tr>
    <tr>
      <td width="48">0x0008</td>
      <td width="103">4 (dword)</td>
      <td width="336">Current chapter number. (Always 0 for Torment).</td>
    </tr>
  </tbody>
</table>
<p class="toindex">&nbsp;</p>

</body>


<!-- Mirrored from www25.brinkster.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</html>
