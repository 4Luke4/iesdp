<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title> BG2: ToB Script Actions </title>
<link rel="stylesheet" type="text/css" href="general.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>

<body>
<div class="title_main"> BG2: ToB Script Actions </div>
<div>

Original descriptions (0-175): KensaiRyu<br />
Revised descriptions (0-175) + 176-351: Max <br />
Additional input: SimDing0.<br />
<br />

<div class="center">
<a href="#20"> 20 </a> || <a href="#40"> 40 </a> || <a href="#60"> 60 </a> || <a href="#82"> 82 </a> || <a href="#100"> 100 </a> || <a href="#120"> 120 </a> || <a href="#140"> 140 </a> || <a href="#160"> 160 </a> || <a href="#180"> 180 </a> || <a href="#200"> 200 </a> || <a href="#220"> 220 </a> || <a href="#240"> 240 </a> || <a href="#260"> 260 </a> || <a href="#280"> 280 </a> || <a href="#300"> 300 </a> || <a href="#320"> 320 </a> || <a href="#342"> 342 </a> || <a href="#351"> 351 </a>
</div>

<div class="actionHeader"><a name="0">0 NoAction()</a></div>
<div class="indent1">
This action is sometimes used as an alternate to doing something. As an example to make characters walk around randomly or stand in one place doing nothing:<br />
<br />
<pre class="code">
IF
  True()
THEN
  RESPONSE #50
    RandomWalk()
  RESPONSE #50
    NoAction()
END
</pre>
<br />
This command also sets a creatures ModalState to 0, and so can be used, for example, to stop Bard Song in a kit.<br />
<br />
<pre class="code">
IF
  ModalState(BATTLESONG)
THEN
  RESPONSE #100
    NoAction()
END
</pre>
<br />
NoAction() is also commonly used as a hanging action in targeting blocks. Using it is not necessary, but is good practice. NoAction() will never be hit since the block always returns false, but the NoAction() allows other scripting programs to accurately check for errors. For example:<br />
<br />
<pre class="code">
IF
  See(NearestEnemyOf(Myself))
  False()
THEN
  RESPONSE #100
    NoAction()
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="1"> 1 ActionOverride(O:Actor*,A:Action*)</a></div>
<div class="indent1">
This action is used to tell an actor to do something overriding his own actions. It is mostly used in cutscenes, but it can be used for anything. <br />
Note that it appears you cannot ActionOverride a creature via a token set by SetTokenObject.<br />
The following is from the Irenicus cutscene after leaving his abode in Chapter 1. It shows a good example of using this command.<br />
<br />
<pre class="code">
IF
  True()
THEN
  RESPONSE #100
    CutSceneId(Player1)
    Wait(1)
    FadeToColor([20.0],0)
    Wait(2)
    JumpToPoint([869.340])
    MoveViewPoint([909.346],INSTANT)
    ActionOverride(Player2,JumpToPoint([825.370]))
    ActionOverride(Player3,JumpToPoint([886.384]))
    ActionOverride(Player4,JumpToPoint([952.386]))
    ActionOverride(Player5,JumpToPoint([987.362]))
    ActionOverride(Player6,JumpToPoint([1005.404]))
    Face(10)
    ActionOverride(Player2,Face(10))
    ActionOverride(Player3,Face(10))
    ActionOverride(Player4,Face(8))
    ActionOverride(Player5,Face(6))
    ActionOverride(Player6,Face(6))
    ActionOverride(&quot;Anomen&quot;,JumpToPoint([909.346]))
    ActionOverride(&quot;Anomen&quot;,Face(10))
    Wait(1)
    FadeFromColor([20.0],0)
    Wait(2)
    ActionOverride(&quot;Anomen&quot;,StartDialogueNoSet(Player1))
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="2">2 AddWayPoint(P:WayPoint*)</a></div>
<div class="indent1">
This acton is used to set waypoints for a cre to move from one location to another. Examples of this are barmaids and anyone moving in a set pattern.<br />
<br />
This is how you would script to make the way points, a good place to add this is in the area scripts. With the ([Number.Number]) being the X and Y coordinates.<br />
<br />
<pre class="code">
IF
  Global(&quot;KRNEWWAY&quot;,&quot;GLOBAL&quot;,0)
THEN
  RESPONSE #100
    SetGlobal(&quot;KRNEWWAY&quot;,&quot;GLOBAL&quot;,1)
    AddWayPoint([100.200])
    AddWayPoint([200.300])
END
</pre>
<br />
The following Script is taken from the barmaid at the Copper Coronet the way points are already set in the Area file as triggers this is an example of how to move to the waypoints:<br />
<br />
<pre class="code">
IF
  Detect([PC])
  Allegiance(Myself,NEUTRAL)
  Global(&quot;quest1&quot;,&quot;LOCALS&quot;,0)
THEN
  RESPONSE #100
    MoveToObject(&quot;Way3&quot;)
    ActionOverride(&quot;DRUNK2&quot;,DisplayStringHead(Myself,4592)
    Wait(1)
    DisplayStringHead(Myself,4604)
    Wait(2)
    MoveToObject(&quot;Way4&quot;)
    Wait(1)
    MoveToObject(&quot;Way3&quot;)
    DisplayStringHead(Myself,4611)
    Wait(2)
    SetGlobal(&quot;quest1&quot;,&quot;LOCALS&quot;,1)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="3">3 Attack(O:Target*)</a></div>
<div class="indent1">
Is used to Attack something until it dies. It is used in place of attack reevaluate if you dont want to reevaluate, just want to continue attacking the same target. I use it to insure high priority creatures are dead before moving on to lower priority targets in my scripts. I would use the following to attack mages with tanks until they are dead. I check for slimes and wyverns because those are also listed as MAGE_ALL).<br />
<br />
<pre class="code">
IF
  See([EVILCUTOFF])            // If I see enemies
  Class(LastSeenBy(),MAGE_ALL) // mages
  !Race(LastSeenBy(),SLIME)    // not slimes though
  !Race(LastSeenBy(),WYVERN)   // or wyverns
  !InParty(LastSeenBy())       // and not in party
THEN
  RESPONSE #100
    Attack(LastSeenBy())
END<br />
</pre>
<br />
</div>

<div class="actionHeader"><a name="5">5 BackStab(O:Target*)</a></div>
<div class="indent1">
Is used to backstab the target. However some enemies like Dragons and Golems are immune to backstab so it wont work on them. I rarely see this command in a script because any of the attack actions work as a backstab if you are a thief and hidden and you attack with a valid backstab weapon (like dagger, shortsword, katana,etc...) from behind.<br />
<br />
(Note it was pointed out to me by the moderator of another scripting group that this command is broken and does not work, and has been confirmed by Bioware to crash the game thats why I rarely see it in a script he he)<br />
<br />
If you want to Backstab, don't script it as backstab, just make sure you are invisible and behind the target with a backstab weapon and you dont miss the first swing.<br />
<br />
<pre class="code">
IF
 See(NearestEnemyOf())            // see enemy
 Range(NearestEnemyOf(),4)
 !Race(NearestEnemyOf(),DRAGON)   // not dragon
 !Race(NearestEnemyOf(),GOLEM)    // not golem
 !InParty(NearestEnemyOf(Myself)) // not in party
 OR(2)
   StateCheck(Myself,STATE_INVISIBLE)           // I'm invisible
   StateCheck(Myself,STATE_IMPROVEDINVISIBLITY) // or improved invisible
THEN
  RESPONSE #100
    Attack(NearestEnemyOf())
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="7">7 CreateCreature(S:NewObject*,P:Location*,I:Face*)</a></div>
<div class="indent1">
Is used to create anything from creature files (.cre like Orc01.cre) to NPC's (.cre as in Aerie.cre). With NewObject being the creature name, Location being [x.y] and direction being which way they are facing (from 0-15, 0 being south and the facing values increasing as the character turns clockwise) .<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CreateCreature(&quot;ccguard1&quot;,[2338.412],14)<br />
&nbsp;&nbsp;&nbsp;&nbsp;CreateCreature (&quot;CRENAME&quot;,[X.Y],D)<br />
<br />
An example of this command is spawning additional guards in the Copper Coronet via the area script (AR0406) when the Player Characters are discovered in the back room (where they are not supposed to be).<br />
<br />
<pre class="code">
IF
  Global(&quot;CopperGuards&quot;,&quot;GLOBAL&quot;,1)
THEN
  RESPONSE #100
    CreateCreature(&quot;ccguard1&quot;,[2338.412],14)
    CreateCreature(&quot;ccguard2&quot;,[2318.457],14)
    CreateCreature(&quot;ccguard1&quot;,[2749.793],6)
    CreateCreature(&quot;ccguard2&quot;,[2791.831],6)
    CreateCreature(&quot;ccguard1&quot;,[1981.762],14)
    CreateCreature(&quot;ccguard1&quot;,[1286.1500],14)
END
</pre>
<br />
Another use for this command is spawning creatures near the protagonist. Heres an example of failed thieving:<br />
<br />
<pre class="code">
IF
  Opened([ANYONE])
  See([NOTGOOD])
  !StateCheck(LastTrigger,STATE_INVISIBLE)
  !StateCheck(LastTrigger,STATE_IMPROVEDINVISIBILITY)
THEN
  RESPONSE #100
    DisplayString(LastTrigger,9896) //Someone has noticed you! You hear the guards being summoned
    Wait(3)
    CreateCreature(&quot;WATCHN&quot;,[-1.-1],0)
    CreateCreature(&quot;WATCHN2&quot;,[-1.-1],0)
    CreateCreature(&quot;WATCHN2&quot;,[-1.-1],0)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="8">8 Dialogue(O:Object*)<br />
8 Dialog(O:Object*)</a></div>
<div class="indent1">
Because these 2 actions have the same # (8) they both have the same function. To start a dialog file with the listed object.<br />
Dialog files are found in Dialog.tlk and use the same language as scripting commands. If the creature using this action has been assigned a dialog that has all top level conditions returning false, this action will not work.<br />
<br />
In the example Yeslick will start a conversation if both of the following are true: the global timer &quot;Yeslick&quot; is expired and the Global Variable &quot;FLOODED&quot; is at 0.<br />
<br />
<pre class="code">
IF
  GlobalTimerExpired(&quot;Yeslick&quot;,&quot;GLOBAL&quot;)
  Global(&quot;FLOODED&quot;,&quot;GLOBAL&quot;,0)
THEN
  RESPONSE #100
    Dialogue([PC])
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="9">9 DropItem(S:Object*,P:Location*)</a></div>
<div class="indent1">
Is used to drop an object to the [x.y] coordinates. An example I created is dropping a scroll on the ground after the PC's rotate a wheel by clicking on it. Note the object running the script must be carrying the object to drop it.<br />
<br />
<pre class="code">
IF
  Clicked([ANYONE])
  Range(LastTrigger,12)
  Global(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,0)
THEN
  RESPONSE #100
    DisplayStringHead(Myself,48334) // you may rotate the wheel if you want
    SetGlobal(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,1)
END

IF
  Clicked([ANYONE])
  Range(LastTrigger,12)
  Global(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,1)
THEN
  RESPONSE #100
    DropItem(&quot;SCRL1B&quot;,345.1210)
END
</pre>
<br />
You can also use this command to drop items the player is carrying by changing the X Y locations to [-1.-1]<br />
<br />
One use for this could be scripting your characters to automatically drop any cursed items found.<br />
<br />
<pre class="code">
IF
  HasItem(&quot;Sw1h01&quot;,Myself)
THEN
  RESPONSE #100
    DropItem(&quot;Sw1h01&quot;,[-1.-1])
END
</pre>
<br />
When used from a character's or creatures script, the Location is relative to that actor's position on the map.<br />
For example, using 
<span class="code">ActionOverride(&quot;Minsc&quot;,DropItem(&quot;POTN52&quot;,[0.0]))</span> 
would make the item drop right below Minsc's feet.<br />
<br />
</div>

<div class="actionHeader"><a name="10">10 Enemy()</a></div>
<div class="indent1">
Is used to Set the Enemy/Ally Allegiance to Enemy of Player Characters. An example of this is if a peasant is attacked his allegiance will change from Neutral to Enemy.<br />
<br />
<pre class="code">
IF
  AttackedBy([GOODCUTOFF],Myself)
  Allegiance(Myself,NEUTRAL )
THEN
  RESPONSE #100
    Enemy()
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="11">11 EquipItem(S:Object*)</a></div>
<div class="indent1">
Should equip the item, however I have not tried this action yet. I will test it in a script and update if it does not work.It is probably not a good idea to script this as it might destroy whatever else is presently equipped I will find out tonight and.<br />
<br />
<pre class="code">
IF
  HasItem(&quot;Sw1h01&quot;,Myself)
  !HasItemEquipedReal(&quot;Sw1h01&quot;,Myself)
THEN
  RESPONSE #100
    Equip(&quot;Sw1h01&quot;,Myself)
END
</pre>
<br />
After testing I believe the Equip action is broken the above script does not work, I have also tried about 4 other scripts with no effect. I will test some more on this and post results if anyone else has more info please post.<br />
<br />
UPDATE ON THE ACTION EQUIPITEM : It does work for weapons, you just need to have them in the quickslot to be equipped.<br />
<br />
</div>

<div class="actionHeader"><a name="13">13 FindTraps()</a></div>
<div class="indent1">
Is used to do just that. You can script any character to try and find traps, however if they dont have any points in the ability it will be futile. This command is often used in scripts for Thieves.<br />
<br />
<pre class="code">
IF
  ActionListEmpty()
  !Exists([EVILCUTOFF])
  !ModalState( Myself,DETECTTRAPS)
  OR(2)
    !StateCheck(Myself,STATE_INVISIBLE)
    !StateChe ck(Myself,STATE_IMPROVEDINVISIBILITY)
THEN
  RESPONSE #100
    FindTraps()
END
</pre>
<br />
</div>


<div class="actionHeader"><a name="14">14 GetItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Suggest's that this command can be used to get an Item however I have been unable to get it to work. I have tried the following script with no effect:<br />
<br />
<pre class="code">
IF
  See([ANYONE])
  !HasItem(&quot;Sw1h01&quot;,Myself)
  HasItem(&quot;Sw1h01&quot;,LastSeenBy ())
THEN
  RESPONSE #100
    MoveToObject(LastSeenBy())
    GetItem(&quot;Sw1h01&quot;,LastSeenBy())
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="15">15 GiveItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Will allow you to pass items back and forth. However you must have the item to pass it back and forth. Examples of this are rings of regeneration swapped between players as needed and giving potions to characters that don't have any if no cleric is present. Note that the command global shout requires modified Action, Instant, trigger, and svtriobj, ids files. If you need these files I can send you the modified ones. They need to be put in the scriptcompiler directory, not the override folder.<br />
<br />
<pre class="code">
IF
  HPPercentLT(Myself,40)// if my hitpoints are at 40%
  !HasItem(&quot;potn52&quot;,Myself)// and I dont have a potion of extra healing
THEN
  RESPONSE #100
    GlobalShout(3015)// shout so everyone in the area hears
    SetGlobal(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,1)
END

IF
  Heard([GOODCUTOFF],3015)// i hear the shout
  HasItem(&quot;potn52&quot;,Myself)// and have the potion
  HPPercentGT(Myself,40)// and if my hitpoints are better than 40%
  Global(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,1)
THEN
  RESPONSE #100
    MoveToObject(LastHeardBy())// move to whoever shouted
    GiveItem(&quot;potn52&quot;,LastHeardBy()) and give them the potion
    SetGlobal(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,0)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="16">16 GiveOrder(O:Object*,I:Order*)</a></div>
<div class="indent1">
Is used to issue an order (numeric) and is used in conjunction with ReceivedOrder(O:Object*,I:Order ID*), found in TRIGGER.ids. This is similiar to global shout. Only one creature at a time responds to an order. Creatures to not detect their own orders. The script I created for an example is used to give an order to the thief player characters if the fighter/ranger/paladin running the script sees an enemy. I would use this to keep my weak or low hp's thief alive.<br />
<br />
<pre class="code">
IF
  See([EVILCUTOFF])
  OR(3)
    Class(Myself,FIGHTER_ALL)
    Class(Myself,RANGER_ALL)
    Class(Myse lf,PALADIN_ALL)
THEN
  RESPONSE #100
    GiveOrder([PC.0.0.THIEF_ALL],100)
END

IF
  ReceivedOrder(Myself,100)
  Class(Myself,THIEF_ALL)
THEN
  RESPONSE #100
    RunAwayFrom([EVILCUTOFF],120)
    Hide()&nbsp;&nbsp; &nbsp;
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="17">17 Help()</a></div>
<div class="indent1">
Acts similar to Shout, but does not accept values. The range is just larger than the visual radius.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HitBy([ANYONE],CRUSHING)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #50<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Attack(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #50<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RunAwayFrom(NearestEnemyOf(Myself),75)<br />
END<br />
<br />
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Help([0.0.GIBBERLING])<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Attack(NearestEnemyOf(LastHelp(Myself)))<br />
END<br />
<br />
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),30)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="18">18 Hide()</a></div>
<div class="indent1">
Is used for thieves or anyone with stealth. It can be scripted for anyone to use it, 
however if the creature has no points in Hide in shadows then it will not be able to. 
Heres an example script for a thief to hide.Note that Hide in shadows enables the 
creature tohide and move silently allows the creature to stay hidden when moving.<br /> 
<div class="code">
IF<br />
&nbsp; &nbsp;!See([EVILCUTOFF])<br />
&nbsp; &nbsp;OR(2)<br />
&nbsp; &nbsp;!StateCheck(Myself,STATE_INVISIBLE) //If I'm not invisible<br />
&nbsp; &nbsp;!StateCheck(Myself,STATE_IMPROVEDINVISIBLITY) //If I'm not<br />
//invisible (again)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp; &nbsp;Hide()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="19">19 JoinParty()</a></div>
<div class="indent1">
Is used to attach NPCs to the party, though you can use this command to attach anyone 
into the party.It is more often used in dialogs than scripts, but its the same command 
irregardless.<br />
<br />
<div class="code">
IF<br />
See([PC])<br />
Global(&quot;KRJOINPARTY&quot;,&quot;GLO BAL&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
JoinParty()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="20">20 LayHands(O:Target*)</a></div>
<div class="indent1">
Is probably left over from BG1. It does not seem to work In BG2. In bg1 the spell 
(INNATE_LAY_ON_HANDS) was used for this by paladins, in BG2 paladins use the spell 
(PALADIN_LAY_ON_HANDS). I will do more testing on this.<br />
Heres an example Paladin script using the bg2 paladin spell:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;ActionListEmpty()<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(MostDamagedOf(Myself),50)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!StateCheck(MostDamagedOf(Myself),STATE_INVISIBLE)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HaveSpell(PALADIN_LAY_ON_HANDS)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(MostDamagedOf(Myself),PALADIN_LAY_ON_HANDS)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="21">21 LeaveParty()</a></div>
<div class="indent1">
Does just that. It is the command to remove NPCs from the party. Many NPC scripts use 
this command when the happiness level drops below a certain point.<br />
<br />
<div class="code">
IF<br />
&nbsp; HappinessLT(Myself,-299)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp; &nbsp;ChangeAIScript(&quot;&quot;,DEFAULT)<br />
&nbsp; &nbsp;SetLeavePartyDialogFile()<br />
&nbsp; &nbsp;LeaveParty()<br />
&nbsp; &nbsp;EscapeArea()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="22">22 MoveToObject(O:Target*)</a></div>
<div class="indent1">
Enables the user of the script to move to any object. This command may be difficult to 
understand at first. You can use either an object's creature death variable names like 
ORC01 or objects from Objects.ids. (LastSeenBy, NearestEnemyOf, etc...). If you use 
MoveToObject(NearestEnemyOf()) this will not work unless you can see the nearest enemy 
of &nbsp;yourself, however if you use a cre file name, you can move to it irregardless 
if you can see it or not.An example script is a hostile enemy moving to the nearest enemy.<br />
<div class="code">
IF<br />
&nbsp; See(NearestEnemyOf())<br />
&nbsp; !Range(NearestEnemyOf(),4)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveToObject(NearestEnemyOf())<br />
END<br />
</div>
<br />
It should be noted here that an NPC using this action will NOT have his position updated 
in the given ARE file. This means that, if a character uses this command  to travel 
across an entire map, you save the game, then reload, the character will have returned to 
his original position or the last point defined in a script.<br />
<br />
</div>

<div class="actionHeader"><a name="23">23 MoveToPoint(P:Point*)</a></div>
<div class="indent1">
Is used to a specified [X.Y] position on the map. The coordinates correspond to the 
X and Y postion of the area. This is used to give the appearance of moving around 
without having to create waypoints. An example script using this is a peasant moving 
to a specified point in the Copper Coronet, this script will keep them near that point.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
MoveToPoint([526.1193])<br />
Wait(3)<br />
RandomWalk()<br />
Wait(5)<br />
RandomWalk()<br />
END<br />
</div>
<br />
Every 8 second they will return to the specified spot.<br />
<br />
Unlike MoveToObject(), MoveToPoint() WILL update the position of the NPC in an ARE file. 
This means that, if you use MoveToPoint() to travel across an area, you save the game, then
reload, the character will be at the given point. This works by first changing the Actor's
"Traveling to" position in the ARE file. Once the character reaches thisposition, 
his "Current" position is set to its new value.<br />
<br />
</div>

<div class="actionHeader"><a name="24">24 Panic()</a></div>
<div class="indent1">
I believe is one of the commands used to install the panic state. This command when scripted
by itself only makes the target move randomly around the screen.I dont think this would be
good to script for player characters as you lose a lot of control over them.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,15)<br />
THEN<br />
RESPONSE #100<br />
Panic()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="25">25 PickPockets(O:Target*)</a></div>
<div class="indent1">
Is used to attempt to pick the pockets of the specified target. It can be scripted for
anyone to use, but they will fail the attempt unless they have adequate skill in this
proficency.<br />
<br />
<div class="code">
IF<br />
See([ANYONE])<br />
&nbsp;OR(2)<br />
&nbsp; Class(Myself,THIEF_ALL)<br />
&nbsp; Class(Myself,BARD_ALL)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PickPockets([ANYONE])<br />
END<br />
</div>
<br />
Note that a failed pickpocket attempt will be read by a character as an attack, and so
 the Attacked() trigger will return true if a pickpocket attempt is failed on him.<br />
<br />
</div>

<div class="actionHeader"><a name="26">26 PlaySound(S:Sound*)</a></div>
<div class="indent1">
Will play a sound. This is used for spells or effects that make noise. The sounds can be 
any of the in game sounds used for anything from casting to soundeffects, you could also 
use any custom sounds I believe if they were the recognized format and in the override directory.
WAV and WAVC files are recognized by this effect.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
PlaySound(&quot;CAS_M06&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="27">27 ProtectPoint(P:Target*,I:Range*)</a></div>
<div class="indent1">
I believe is the same as the command used to guard a certain area found in the GUI 
(the shield Icon) , it is pretty unscriptable unless you know the exact [X.Y] needed.
One script that I can think of which uses something like this is the golems in the egg room 
of Ust Natha, however they dont use this command they use a check for a range of 20 from the 
eggs to keep them near the eggs.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ProtectPoint([1738.543],10)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="28">28 RemoveTraps(O:Trap*)</a></div>
<div class="indent1">
Is probably what the game uses when a thief disarms or attempts to disarm a trap. I have 
scripted this one for generic trap names (most trap names are generic Trap01-100), but so 
far have not seen my thief use it to disarm any .Another one for the More tests category...<br />
<br />
<div class="code">
IF<br />
See(&quot;Trap01&quot;)<br />
Class(Myself,THIEF_ALL)<br />
THEN<br />
RESPONSE #100<br />
RemoveTraps(&quot;Trap01&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="29">29 RunAwayFrom(O:Creature*,I:Time*)</a></div>
<div class="indent1">
Is a very nice command to use to escape your enemies when your hitpoints get low, provided 
there is somewhere to run to. The Time parameter is measured in AI updates. Since, by default, 
there are 15 AI updates per second, it is usually a rule of thumb to use multiples of 15, 
such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,30)<br />
THEN<br />
RESPONSE #100<br />
RunAwayFrom(LastAttackerOf(Myself),180)<br />
END<br />
</div>
<br />
However unwanted it may be, sometimes a creature running away will also attack nearby enemies. 
Not exactly the most wanted feature at times, but whatever. It's rare when it happens, but it does.<br />
<br />
</div>

<div class="actionHeader"><a name="30">30 SetGlobal(S:Name*,S:Area*,I:Value*)</a></div>
<div class="indent1">
This action is the cornerstone of the entire infinity engine game. It isused to set a value 
for the three types of &nbsp;global variables. The three types of global variables are:<br />
<br />
&nbsp;Global(&quot;NAME&quot;,&quot;AREANAME&quot;)<br />
&nbsp;Global(&quot;NAME&quot;,&quot;LOCALS&quot;)<br />
&nbsp;Global(&quot;NAME&quot;,&quot;GLOBAL&quot;)<br />
<br />
With name being the corresponding name of the global variable. &quot;AREANAME&quot; corresponds 
to a gv that is only valid in that area (area like AR0700.are which is Waukeens Promenade). 
&quot;LOCALS&quot; corresponds to a gv that is only valid for the creature running the script. 
&quot;GLOBAL&quot; sets a gv that is valid anywhere in the game. For instance you want a flag 
saying something has been done in an area do not repeat again anywhere, use a global variable, 
instead of a local or area. Note that the name can be up to 32 characters long. If you are 
using your own global variables always put your initials in the start to avoid potentially 
overwriting and in-game gv (which could have disatrous results).<br />
<br />
Heres an example of all three gv's in use:<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRINAREA&quot;,&quot;AR0400&quot;,0)// if this variable is at 0
(default value)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;ORC01&quot;,[1738.543],0)<br />
SetGlobal(&quot;KRINAR EA&quot;,&quot;AR0400&quot;,1) set the variable to 1 so
it dont repeat the action<br />
END<br />
<br />
IF<br />
Global(&quot;KRCASTSTONE&quot;,&quot;LOCALS&quot;,0)// if this variable is at 0
(default value)<br />
HaveSpell(WIZARD_STONE_SKIN)<br />
!CheckStatGT(Myself,1,STONESKIN)<br />
THEN<br />
RESPONSE #100<br />
Spell(Myself,WIZARD_STONE_SKIN)<br />
SetGlobal(&quot;KRCASTSTONE&quot;,&quot;AR0400&quot;,1) set the variable to
1 so it dont repeat the action<br />
END<br />
<br />
IF<br />
Global(&quot;KRCREATENPC&quot;,&quot;GLOBAL&quot;,0)// if this variable is at 0
(default value)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;Minsc&quot;,[308.1623],0)<br />
SetGlobal(&quot;KRCREA TENPC&quot;,&quot;GLOBAL&quot;,1) set the variable to 1
so it doesn't repeat the action<br />
END<br />
</div>
<br />
Another variable type you can use is MYAREA. By using this in a given area, for example 
AR0900, "MYAREA" will be converted to "AR0900" when used. This is very useful for writing 
generic trap or area scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="31">31 Spell(O:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
Is used to cast a spell. With Target being the person you want to cast the spell on and 
spell from spell.ids. For the Spell() action to work, the spell must be flagged as memorized 
on the caster. Unlike some other spellcasting actions, Spell() IS interruptible during casting.<br />
The casting creature must meet the level requirements as set in the spell file.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF])<br />
!InParty([EVILCUTOFF])<br />
!HasBounceEffects([ EVILCUTOFF])//like cloak of mirroring or spell deflection<br />
!HasImmunityEffects([EVILCUTOFF])//<br />
HaveSpell(WIZARD_MAGIC_MISSILE)<br />
&nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; !StateCheck([EVILCUTOFF],STATE_INVISIBLE)<br />
&nbsp;&nbsp;&nbsp; !StateCheck([EVILCUTOFF],STATE_IMPROVEDINVISIBLITY)<br />
CheckStatLT([EVILCUTOFF], 30,RESISTMAGIC)<br />
!Race([EVILCUTOFF],LICH)<br />
!Race([EVILCUTOFF],RAKSHASA)<br />
THEN<br />
RESPONSE #100<br />
Spell([EVILCUTOFF],WIZARD_MAGIC_MISSILE)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="33">33 Turn()</a></div>
<div class="indent1">
Is used to turn undead (make them run or explode). Anyone can attempt to turn undead but 
only clerics or paladins will succeed. The chance to turn them is based on creatures level 
and class. Paladins turn at 2 levels less than clerics of the same level. Evil clerics do 
not turn the undead they control them.<br />
The chance of a succesful turn is based on the creature's paladin/cleric levels.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF])<br />
General([EVILCUTOFF],UNDEAD)<br />
LevelGT(Mysel f,12)<br />
&nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; Class(Myself,PALADIN_ALL)<br />
&nbsp;&nbsp;&nbsp; Class(Myself,CLERIC_ALL)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; Turn() &nbsp;<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="34">34 UseItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Enables creatures (or anyone) to use Items. Many of the ingame scripts use this command to 
use potions and wands. Their is a master script in bg2 for item usage which most enemy scripts 
refer to called USEITEM.bcs. The referenced item must be in the user's inventory, but does not 
need to be equipped in a quickslot.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(Myself,50)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HasItem(&quot;potn52&quot;,Myself)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DisplayStringHead(Myself,46150)//quaffs
a potion<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;UseItem(&quot;potn52&quot;,Myself)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="36">36 Continue()</a></div>
<div class="indent1">
Is used to tell the creature running the script to continue looking for actions for the Action List. As you get more advanced, Continue() becomes one of the most useful functions you can find, especially for efficiency.<br />
Note that continue may prevent actions being completed until the script parser has finished its execution cycle.<br />
<br />
<div class="code">
IF<br />
See(NearestEnemyOf())// if I see the nearest enemy of myself<br />
!InParty(NearestEnemyOf())// they are not in my party<br />
THEN<br />
RESPONSE #100<br />
AttackOneRound(NearestEnemyOf())// attack for one round<br />
Continue()// continue looking for actions to be added to the action list<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="37">37 FollowPath()</a></div>
<div class="indent1">
Not sure what this one does...It might be used with the waypoints but that is just speculation...
Anyone else know? Will test further...<br />
<br />
</div>

<div class="actionHeader"><a name="38">38 Swing()</a></div>
<div class="indent1">
Plays the swing weapon animation for the object. Note that some objects do not have this 
animation. The only situation where I have found this action is useful is in faking someone 
practicing with a bow.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
Swing()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="39">39 Recoil()</a></div>
<div class="indent1">
Plays the recoiling animation for the object. Note that some objects do not have this animation. 
This is good for cutscenes.<br />
<br />
<div class="code">
IF<br />
TookDamage()//if I took any damage<br />
THEN<br />
RESPONSE #100<br />
Recoil()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="40">40 PlayDead(I:Time*)</a></div>
<div class="indent1">
Is used to force the target to lie on the ground for the given time interval. If used on a PC,
this can be interrupted simply by the player giving a movement command. The Time parameter is 
measured in AI updates. Since, by default, there are 15 AI updates per second, it is usually 
a rule of thumb to use multiples of 15, such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,30)//my hitpoints are less than 30%<br />
THEN<br />
RESPONSE #100<br />
PlayDead(240)// pretend like im dead<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="47">47 Formation(O:Leader*,P:Offset*)</a></div>
<div class="indent1">
Is a very useful action. You can use it to make all your PC's follow the leader without 
clicking on them by adding it to their scripts. You can also use it to assign marching order
for anyone. I wrote a script for the slums which uses this command to move a party of 
slavers around the slums looking for the PCs that killed Lehtinan, as a continuation of 
the slavers plot.<br />
The offset repersents the distance from the leader.The leader can be any object (from object.ids)
or script name (like ORC01 or Minsc or Player1).<br />
<br />
On one creature I use this script:<br />
<br />
<div class="code">
IF<br />
CombatCounter(0)// not in combat<br />
Allegiance(Myself,NEUTRAL)// im still neutral<br />
THEN<br />
RESPONSE #100<br />
Formation(&quot;QSLMAGE1&quot;,[-2.-5])// get in formation<br />
END<br />
</div>
<br />
On another I use this:<br />
<div class="code">
IF<br />
CombatCounter(0)// not in combat<br />
Allegiance(Myself,NEUTRAL))//im still neutral<br />
THEN<br />
RESPONSE #100<br />
Formation(&quot;QSLMAGE1&quot;,[-3.-7]// get in formation<br />
END<br />
</div>
<br />
To form a formation.<br />
<br />
&quot;QSLMAGE1&quot; is my custom slaver mage which is the leader of the group loooking for
the PCs he uses a series of MoveToPoint[X.Y] to walk around the entire slums. Once he sees 
the PC's his allegiance changes to Enemy and he attacks. The other Characters using the 
above scripts are high level Slaver guard fighters.<br />
I wrote 2 to show the different formations. Definately one of my favorite scripting commands
to use.<br />
<br />
</div>

<div class="actionHeader"><a name="48">48 JumpToPoint(P:Target*)</a></div>
<div class="indent1">
Allows a character to 'teleport' to the target [X.Y] location on the map. Useful for cutscenes.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
StartCutScene(&quot;KRCUT&quot;)<br />
END<br />
</div>
<br />
And in the cutscene KRCUT:<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
CutSceneId(Player1)<br />
ClearAllActions()<br />
FadeToColor([20.0],0)<br />
MoveViewPoint([1738.543],INSTANT)<br />
JumpToPoint([1738.543])<br />
Wait(1)<br />
CreateVisualEffectObject(&quot;SPCLOUD1&quot;,Player1)<br />
Wait(1)<br />
CreateVisualEffectO bject(&quot;SPFLESHS&quot;,Player1)<br />
Wait(1)<br />
EndCutSceneMode()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="49">49 MoveViewPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Does just that it is used to move the viewing point to the target's coordinates ([X.Y]). 
It is used mostly in cutscenes. For an example of this command in use, see the script 
above. Scroll speed is from scroll.ids and has five selections 0 INSTANT,1 SLOW, 2 STANDARD,
3 FAST, 4 VERY_FAST. For reference, VERY_FAST is equivalent to normal characters' walking speed.<br />
<br />
</div>

<div class="actionHeader"><a name="50">50 MoveViewObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is also used in cutscenes and is used to move the viewpoint for a cutscene ID (or object). 
Scroll speed is from scroll.ids and has five selections 0 INSTANT,1 SLOW, 2 STANDARD, 
3 FAST, 4 VERY_FAST. For reference, VERY_FAST is equivalent to normal characters' walking 
speed. This is from the cutscene CUT03C.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;SPY406&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveViewObject(Myself,INSTANT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeFromColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;cpchick1&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;cpchick2&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Surly&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="51">51 ClickLButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is not used in the in-game scripts. It would seem that using this command acts as 
if you have clicked the Left mouse button on the target's (X.Y) point, however I 
have tried using this command to no effect. Perhaps this command was never fully 
implemented.<br />
<br />
</div>

<div class="actionHeader"><a name="52">52 ClickLButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is similiar to the above, with the main difference being instead of a point, the 
target is an object (script name or object from Object.ids). This can be used for 
highlighting a character, thereby updating his innate abilities and other similar 
GUI changes that may go unnoticed when initially modified.<br />
<br />
</div>

<div class="actionHeader"><a name="53">53 ClickRButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
I assume this is the same as 51 with the difference being the right button is 
utilitized, however I have had no success in using this command. Another one not 
found in any in-game scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="54">54 ClickRButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is similiar to the above, with the main difference being instead of a point, the 
target is an object (script name or object from Object.ids).Again not found in any 
scripts in the game, and I have been unsuccessful in getting it to work, another 
comand that might be unfinished.<br />
<br />
</div>

<div class="actionHeader"><a name="55">55 DoubleClickLButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the left 
button at a certain target's (X.Y) point.<br />
<br />
</div>

<div class="actionHeader"><a name="56">56 DoubleClickLButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the left 
button at a certain target object. However I have been unsuccessful utilizing this 
command. Not found in any in-game scripts. This can be used for highlighting a character,
thereby updating his innate abilities and other similar GUI changes that may go 
unnoticed when initially modified. It can also be used for centering the screen 
on the target.<br />
<br />
</div>

<div class="actionHeader"><a name="57">57 DoubleClickRButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the right 
button at a certain target's (X.Y) point. However I have been unsuccessful utilizing
this command. Not found in any in-game scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="58">58 DoubleClickRButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the right 
button at a certain target object. However I have been unsuccessful utilizing this 
command. Not found in any in-game scripts.<br />
<br />
Note that I tested the click actions with the following script:<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
DoubleClickLButtonPoint([665.737],INSTANT)<br />
END<br />
</div>
<br />
Substituting the action for others, using the slums as a test ground. The X and Y 
correspond to a door, which should have caused characters to move to that door but 
did nothing.<br />
<br />
I tested the objects using &quot;minsc&quot; to no effect...<br />
<br />
</div>

<div class="actionHeader"><a name="59">59 MoveCursorPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Suggests that this command is used to move the mouse cursor to a specified point (X.Y) however I have been unsuccessful in implementing this as well.<br />
<br />
</div>

<div class="actionHeader"><a name="60">60 ChangeAIScript(S:ScriptFile*,I:Level*Scrlev)</a></div>
<div class="indent1">
Is used to change to the script specified. &nbsp;(from SCRLEV.ids: 0 OVERRIDE, 1 AREA,
2 SPECIFICS, 4 CLASS, 5 RACE, 6 GENERAL, 7 DEFAULT) on the object running the script.
Script priority is defined in the same order as listed above, where OVERRIDE is the 
highest priority on a creature and DEFAULT is the lowest priority. ScriptFile is set 
to the name of the script and can be any script up to 8 characters in length and having 
the .bcs extension.(example USEITEM.bcs), you can use custom scripts with this but 
they must be in the override directory and .bcs format. You can rename .bs format to 
.bcs, or compile from .baf to .bcs or .bs.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF.0.DOG])<br />
THEN<br />
RESPONSE #100<br />
ChangeAIScript(&quot;DOGFIGHT&quot;,DEFAULT)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="61">61 StartTimer(I:ID*,I:Time*)</a></div>
<div class="indent1">
Is used to start a timer that is timer specific an instance of a creature. It does not 
get saved in the savegame.The time is in seconds. It is used in conjunction with TimerExpired(I:ID*).<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,0 )<br />
Dead(&quot;Shadra01&quot;)<br />
THEN<br />
RESPONSE #100<br />
StartTimer(&quot;SPAWNMON&quot;,12)<br />
SetGlobal(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
<br />
IF<br />
Timer Expired(&quot;SPAWNMON&quot;)<br />
Global(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;Grothgar&quot;,[700.700],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="62">62 SendTrigger(O:Target*,I:TriggerNum*)</a></div>
<div class="indent1">
Used as a form of script communication, in conjunction with the Trigger() trigger. Seems to have the same range as GiveOrder, and affects only one creature at once. The LastTrigger object does not get set after receiving a trigger.<br />
<br />
</div>

<div class="actionHeader"><a name="63">63 Wait(I:Time*)</a></div>
<div class="indent1">
Is used to create a delay into the object running the script. The time is in seconds.<br />
<br />
<div class="code">
IF<br />
See(Player1)<br />
See(Player6)<br />
THEN<br />
RESPONSE #100<br />
MoveToObject(Player1)<br />
Wait(2)<br />
MoveToObject(Player6)<br />
Wait(4)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="64">64 UndoExplore()</a></div>
<div class="indent1">
Is the opposite if Explore() and makes the area black as if you have not explored it. 
Not a good command to use for player scripts, as it makes it very hard to see...<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
UndoExplore()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="65">65 Explore()</a></div>
<div class="indent1">
Clears all the black from the area as if you have explored it.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
Explore()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="66">66 DayNight(I:TimeOfDay*Time)</a></div>
<div class="indent1">
Is used to change the time of day.Time is from TIME.ids and has six options (0 MIDNIGHT,
12 NOON,6 DAWN_START,7 DAWN_END, 21 DUSK_START, 22 DUSK_END). You are not, however, 
confined to using only these times. Specifying a value from 0-23 (just like the hours 
of the day) will also work. This example is from the cutscene Irenicus uses leaving his dungeon.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmaWaukeen&quot;,&quot;GLOBAL&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DayNight(MIDNIGHT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AmaWaukeen&quot;,&quot;GLOBAL&quot;,2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;shthass1&quot;,[877.898],7)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;cut24a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="67">67 Weather(I:Weather*Weather)</a></div>
<div class="indent1">
Is used to change the weather. This action will only work in outdoor areas with weather 
enabled....The weather is from weather.ids and has 4 choices: 0 NOWEATHER, 1 RAIN, 2 SNOW,
3 FOG, although fog does not work.<br />
<br />
Note if you want to check if a certain weather conditon (like rain) is present you will 
need to set a GV (to 1) when you start the weather, then check to make sure the GV is at 
1. Also u need to determine how long the weather lasts and set the GV back to 0 when the 
weather is done, using a timer.<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRSTORM&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
RESPON SE #100<br />
Weather(RAIN)<br />
SetGlobal(&quot;KRSTORM&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="68">68 CallLightning(O:Target*)</a></div>
<div class="indent1">
Does not use the same graphic as the druid spell at least for me, (it makes a blue arcing line come down from the sky which i think must be defined in the .exe) also it results in immediate death (though this does not bypass the MinHP effect).<br />
NB. The lightning graphic does not always show, and when it does it's not always where expected.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
CutSceneId(&quot;DRUID12a&quot;)<br />
CallLightning(&quot;Orc05&quot;)<br />
CallLightning(&quot;Orc06&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="69">69 VEquip(I:item*)</a></div>
<div class="indent1">
Although most say it's broken, actually does have a purpose. It will sequentially change a 
character's visual armor level (that's to say, the way the character not appears, not his 
actual AC). It will cycle through from the lowest to the highest levels, the highest being 
plate mail and the lowest being none.<br />
<br />
</div>

<div class="actionHeader"><a name="70">70 NIDSpecial1()-81 NIDSpecial12()</a></div>
<div class="indent1">
Possibly Non-Interactive Demo commands, left-over from the BG1 NID demo. Possibly not.<br />
<br />
</div>

<div class="actionHeader"><a name="82">82 CreateItem(S:ResRef*,I:Usage1*,I:Usage2*,I:Usage3*)</a></div>
<div class="indent1">
A very useful command. Creates an Item as the RESREF. Usage 1 is the number of charges 
the item has, or if its a scroll the number of scrolls. This a script from AR0602 (Irenicus 
Dungeon) that recreates the pantaloons in a container (the picture) if the pantaloons are 
imported.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BG1Pantaloons&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;PartyHasItem(&quot;MISC47&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;BG1Pantaloons&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Picture1&quot;,CreateItem(&quot;MISC47&quot;,0,0,0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
Usages 1, 2, and 3 are similar to how the CLUAConsole works... If a weapon has multiple 
extended headers (abilities), then you can set the number of charges for those abilities 
with usages 2 and 3.<br />
<br />
Or, if you wanted to create a stack of arrows, you could use...<br />
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;RESPONSE#100<br />
&nbsp; &nbsp;CreateItem(&quot;AROW01&quot;,Myself,20,0,0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="83">83 SmallWait(I:Time*)</a></div>
<div class="indent1">
Is similar to Wait(). The Time parameter is measured in AI updates. Since, by default, 
there are 15 AI updates per second, it is usually a rule of thumb to use multiples of 15, 
such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
See(NearestEnemyOf())<br />
THEN<br />
RESPONSE #100<br />
DisplayStingHead(Myself,50712)// Attack!! Attack!!<br />
SmallWait(120)<br />
Attack(NearestEnemyOf())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="84">84 Face(I:Direction*)</a></div>
<div class="indent1">
Causes the object running the script to face a direction from 0-15 with 0 being south and 
moving clockwise. Negative values act as relative directions to the current directioin.<br />
The beholders use this one...this is from BEHOLD.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BeholderBehavior&quot;,&quot;LOCALS&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([PC])<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPGT(Myself,65)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FaceObject([PC])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell([PC],BEHOLDER_CHARM_PERSON)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="85">85 RandomWalk()</a></div>
<div class="indent1">
Is used to make the object running the script walk randomly. It is used for townsfolk, 
creatures, pretty much anything that walks crawls slides or moves around, (but not birds). 
The following script is from the bears (BLBEAR.bcs) and it makes them walk instead of fighting 
if the nearest enemy is druid.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(5)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Class(NearestEnemyOf(Myself),DRUID)<br />
&nbsp;&nbsp;&nbsp; &nbsp;NumCreatureGT([ENEMY],1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomWalk()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="86">86 SetInterrupt(I:State*Boolean)</a> </div>
<div class="indent1">
Another good command to use though you must be careful in its use. It sets whether a creature 
can be interrupted while it is doing something. For example, if I wanted to be fairly sure my 
mage carried out some simple commands like walking across the map and back I would set the 
Interrupt to FALSE first. For those of you unfamiliar with Boolean logic, its simple it has 
2 states, TRUE or FALSE.<br />
<br />
<div class="code">
IF<br />
See(Player2)<br />
!Range(Player2,4)<br />
THEN<br />
RESPONSE #100<br />
SetInterrupt(FALSE)<br />
MoveToObject(&quot;Player2&quot;)<br />
SetInterrupt (TRUE)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="87">87 ProtectObject(O:Target*,I:Range*)</a></div>
<div class="indent1">
Is used to do just that. Objects running this script will attack any enemy of their target. The example used is from IWD, the script for the zombies guarding Presio.(4003BSG.bcs).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ProtectObject(&quot;Presio&quot;,100)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="88">88 Leader(P:Point*)</a> </div>
<div class="indent1">
Sets the active creature to move to the specified point, and marks the creature as a leader.<br />
The following script fragment sets Player1 walking to [3363.2954] and sets Player2 and Player3 to 'follow' to [3363.2954], in a line and with minimal walking into each other. <br />
This action is not fully understood, and is not particularly reliable.<br />
<br />
<pre class="code">
IF
 HotKey(E)
THEN
 RESPONSE #100
   ActionOverride(Player1,Leader([3363.2954]))
   ActionOverride(Player2,Follow([3363.2954]))
   ActionOverride(Player3,Follow([3363.2954]))
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="89">89 Follow(P:Point*)</a></div>
<div class="indent1">
Sets the active creature to move to the specified point, following the marked Leader.<br />
See Follow() action.<br />
<br />
</div>

<div class="actionHeader"><a name="90">90 MoveToPointNoRecticle(P:Point*)</a></div>
<div class="indent1">
Should move the object running the script to a location without showing the reticle (thats 
the little green flashing intersecting lines that appear when you have a character selected 
and left click a point.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="91">91 LeaveArea(S:Area*,P:Point*,I:Face*)</a></div>
<div class="indent1">
Instead of this command, most scripts use the LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3048.831],4)) action. This action does not seem to be in any in-game scripts.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="92">92 SelectWeaponAbility(I:WeaponNum*Slots,I:AbilityNum*)</a></div>
<div class="indent1">
Is used to select different weapon ability slots.The example used is from ANKHEG.bcs and 
as you can see, it selects 2 different weapon slots to vary the attack type.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(NearestEnemyOf(Myself),5)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(12)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #40<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SelectWeaponAbility(SLOT_WEAPON,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RunAwayFrom(NearestEnemyOf(Myself),45)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),15)<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #60<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SelectWeaponAbility(SLOT_WEAPON1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),15)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="94">94 GroupAttack(O:Target*)</a></div>
<div class="indent1">
Is not used in any in game scripts...Not sure exactly what this does.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="95">95 SpellPoint(P:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
Casts a memorized spell at the specified X.Y location. The downside of this action is that 
you must know the exact X.Y location to cast the spell at, useful if the object is going to 
be in one spot, but hard to implement for players. The example used is from Andris.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpellPoint([2002.1554],WIZARD_DIMENSION_DOOR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SpellNoDec(NearestEnemyOf(Myself),WIZARD_CONFUSION)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="96">96 Rest()</a></div>
<div class="indent1">
Is used to rest anything. Creatures can use this to restore spells and Innate abilities. 
The example is from a cutscene (CUT28A.bcs). Rest(), unlike RestParty(), only applies the 
effects of rest on the user; it does not play a rest movie or advance game time.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StorePartyLocations()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([30.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Rest()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,Rest())<br />
(Cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="97">97 UseItemPoint(S:Item,P:Target*,I:Ability*)</a></div> 
<div class="indent1">
New for ToB and doesn't appear to be used in any in-game scripts?<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="97">97 UseItemPointSlot(P:Target*,I:Slot*)</a></div>
<div class="indent1">
See above.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="98">98 AttackNoSound(O:Target*)</a></div>
<div class="indent1">
The creature running the script attacks the target specified, without shouting a battlecry.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="100">100 RandomFly()</a></div>
<div class="indent1">
Is used to give the appearance of flying. It simply allows the object to pass over 
impassable areas. The example is from RANDFLY.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomFly()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="102">102 MoraleSet(O:Target*,I:Morale*)</a></div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">Supposedly sets the morale of the target object to the specified amount.</div><br />
</div>

<div class="actionHeader"><a name="103">103 MoraleInc(O:Target*,I:Morale*)</a></div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">Increases the morale of the target object by the specified amount.</div><br />
</div>

<div class="actionHeader"><a name="104">104 MoraleDec(O:Target*,I:Morale*)</a></div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">Should decreases the morale of the target object by the specified amount.</div><br />
</div>

<div class="actionHeader"><a name="105">105 AttackOneRound(O:Target*)</a></div>
<div class="indent1">
Attacks the target object for 1 round.<br />
<br />
<div class="code">
IF<br />
&nbsp;See(NearestEnemyOf())<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; AttackOneRound(NearestEnemyOf())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="106">106 Shout(I:ID*SHOUTIDS)</a></div>
<div class="indent1">
Is used to shout something from Shoutids. If you dont have ToB, there is no SHOUTIDS. 
However, you can use any number you want for the shout ID. Note that, if a character is 
magically silenced, he cannot shout. It is used in conjuction with Heard(O:Object*,I:ID*), a trigger.<br />
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;StateCheck(Myself,STATE_POISONED)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(4010)<br />
END<br />
</div>
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;Heard([GOODCUTOFF],4010)<br />
&nbsp; &nbsp;HaveSpell(CLERIC_SLOW_POISON)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(LastHeardBy(),CLERIC_SLOW_POISON)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="107">107 MoveToOffset(P:Offset*)</a></div>
<div class="indent1">
This is simply used to make a creature move a certain distance from its current location without 
having to know its current co-ordinates<br />
<br />
<div class="code">MoveToOffset([5.5])</div>
So this would add 5 onto current x coordinate and 5 onto the current y coordinate and the 
creature would move to this new location.<br />
<br />
</div>

<div class="actionHeader"><a name="108">108 EscapeArea()</a></div>
<div class="indent1">
Causes the object running the script to leave the area, either by walking, or if the path is 
blocked, he simply disappears.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,35)<br />
THEN<br />
RESPONSE #100<br />
EscapeArea()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="108">108</a> EscapeAreaMove(S:Area*,I:X*,I:Y*,I:Face*)</div>
<div class="indent1">
This effect is like a combination of EscapeAreaDestroy() and MoveBetweenAreas(). The parameters are 
similar to MoveBetweenAreas(), in that it takes in all the same information (although this is the only 
action in the game that takes x and y as separate parameters rather than point [x.y] format), but unlike
MoveBetweenAras(), the character will search for the nearest travel trigger, move to that, then execute 
his movement to the specified area. If he cannot find a travel trigger, he will execute the movement.<br />
<br />
</div>

<div class="actionHeader"><a name="109">109 IncrementGlobal(S:Name*,S:Area*,I:Value*)</a></div>
<div class="indent1"> Increases a global by the value indicated. A great way to keep track 
of how many times something has occured. You can also use negative values to effectively subtract. 
My example is from a monster counter I use in ToB.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([EVILCUTOFF]<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Specifics(LastSeenBy(),4000)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Inparty(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Allegiance(LastSeenBy([GOODCUTOFF])<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ChangeSpecifics(LastSeenBy(),4000)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IncrementGlobal(&quot;KR_MONSTER_COUNTER_ALIVE&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="110">110 LeaveAreaLUA(S:Area*,S:Parchment*,P:Point*,I:Face*)</a></div>
<div class="indent1">
Is used to change areas, mostly during cutscenes.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;MissionPackSave&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;toscst&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player1,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3048.831],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3055.917],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[2990.913],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[2992.812],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3079.737],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3005.742],4))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="111">111 DestroySelf()</a> </div>
<div class="indent1">
Removes the object running the script from the game completely and does not set a sprite is dead (death) variable. The example is from the Irenicus cutscene at the beginning of the game, and is used to remove the cowled wizards at the end of the cutscene.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(&quot;CSCowl7&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell(&quot;CSIren&quot;,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DestroySelf()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="112">112 UseContainer()</a></div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">Triggers an interaction with a container object.</div>
<br />
</div>

<div class="actionHeader"><a name="113">113 ForceSpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
Forces the object to cast the specified spell. The spell cannot be interrupted and the object does not need to have the spell memorized or even have the spell. Used by traps a lot to create the trap damage. The casting creature must meet the level requirements as set in the spell file.<br />
Example is from suelfw9.bcs.<br />
<br />
<pre class="code">
IF
  Global("Scene2","AR2800",2)
  See([ENEMY])
  Global("Fight","LOCALS",2)
THEN
  RESPONSE #100
    IncrementGlobal("Fight","LOCALS",1)
    ForceSpell([ENEMY],WIZARD_POWER_WORD_SLEEP)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="114">114 ForceSpellPoint(P:Target,I:Spell*Spell)</a></div>
<div class="indent1">
same as above only the target is an X.Y location.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpellPoint([2002.1554],WIZARD_DIMENSION_DOOR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SpellNoDec(NearestEnemyOf(Myself),WIZARD_CONFUSION)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="115">115 SetGlobalTimer(S:Name*,S:Area*,I:Time*GTimes)</a></div>
<div class="indent1">
Sets a global timer. The "S:Area*" parameter works in the same way as SetGlobal(), allowing 
GLOBAL, LOCALS, AREANAME, and MYAREA types. It is used in conjunction with GlobalTimerExpired 
or GlobalTimerNotExpired, a trigger.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;Areana&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Exists(&quot;TorLobo&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;TorLobo&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Areana&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;TORLOB&quot;,[349.474],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="116">116 TakePartyItem(S:Item*)</a></div>
<div class="indent1">
Takes one of the specified party items. Note that this spell will transfer objects to the 
creature running the script. Useful for thieves. The example is from AR0516.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;ThrallOrb&quot;,&quot;GLOBAL&quot;,2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;PartyHasItem(&quot;MISC7Y&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TakePartyItem(&quot;MISC7Y&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="117">117 TakePartyGold(I:Amount*)</a> </div>
<div class="indent1">
The same as above, only for gold instead of an item. If performed by a party member, the gold is transferred to that characters gold stat (cre file), and re-added to the party pot when the character re-joins the party.<br /> The example script is from AR0602.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;TakeImportItems&quot;,&quot;AR0602&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;TakeImportItems&quot;,&quot;AR0602&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Chapter&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Malaaq&quot;,MoveBetweenAreas(&quot;AR0601&quot;,[345.591],14))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;DuegarClanChief&quot;,TakeItemListPartyNum(&quot;IMPORT01&quot;,1))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Shelf1&quot;,TakeItemListPartyNum(&quot;IMPORT03&quot;,1))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TakePartyGold(2147483647)<br />
(Cut short for Brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="118">118 GivePartyGold(I:Amount*)</a></div>
<div class="indent1">
Gives the specified amount of gold to the party. The object using this command must 
have the gold in its "money variable." I say this because having MISC08 in the creature's 
inventory does not qualify for use with this command.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;G(&quot;KRGIVEGOLD&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GivePartyGold(500)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SG(&quot;KRGIVEGOLD&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="119">119 DropInventory()</a></div>
<div class="indent1">
Causes the object running the script to drop everything in its inventory. The example 
is from the cutscene with Mazzy fighting the ogre.(CUT16a.BCS)<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;mazzy&quot;,DropInventory())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
(cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="120">120 StartCutScene(S:CutScene*)</a></div>
<div class="indent1">
A cutscene is a cinematic sequence that removes GUI and allows the player only to watch or 
maybe talk. With this action, you specify the cutscene name (Script) and it automatically 
starts that script. (script needs a .bcs extension) Very useful indeed. Here's one of the 
cutscenes from the Irenicus Cut scene.CUT01.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUAPanic(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2805.
882],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2791.
820],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2764.
788],2))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2781.
716],0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2763.
668],0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Explore()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MultiPlayerSync()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;EnteredWaukeen&quot;,&quot;AR0700&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;SCENE01&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,SetDialog(&quot;None&quot;))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,LeaveParty())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,GivePartyAllEquipment())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSIMOEN&quot;,[2732.831],2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSIREN&quot;,[2557.935],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF1&quot;,[2740.1009],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF2&quot;,[2678.1043],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF3&quot;,[2579.1075],8)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF4&quot;,[2488.1078],10)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSGAYL&quot;,[2671.1101],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;AMNG1&quot;,[2736.1260],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveViewPoint([2576.908],INSTANT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DayNight(DAWN_END)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeFromColor([40.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Cut01a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="121">121 StartCutSceneMode()</a></div>
<div class="indent1">
One of two commands that can be used to start cutscene mode. This way is used to start a 
cutscene inside a bigger script that is running, like an objects script for example. When 
StartCutSceneMode() is used, the characters cannot interact with their surroundings and 
all scripts except for the cutscene script stop running. This, however, does not prevent 
actions already in a creature's action list from being committed. Hence, it is common 
practice to use ClearAllActions() directly before StartCutSceneMode(). The example is 
from AR0507.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmsiHouse&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;amsi&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;amsi&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>


<div class="actionHeader"><a name="122">122 EndCutSceneMode()</a></div>
<div class="indent1">
Restores the GUI and exits cutscenemode. Example from AR0800.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalGT(&quot;BodhiJob&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Movie02&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Movie02&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([30.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;EndCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;SCENE04&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Movie02a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="123">123 ClearAllActions()</a></div>
<div class="indent1">
Clears all the actions of everything in the area.<br />
Usually used before the start of a cutscene to insure the objects Action Lists are empty. 
Example is from AR0507.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmsiHouse&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;amsi&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;amsi&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="124">124 Berserk()</a></div>
<div class="indent1">
Is probably the action used in that state, though undoubtedly it is only one of many things 
occurring while berserk. Not found in any in game scripts...<br />
<br />
(seems to do nothing when used by itself in a script...)<br />
<br />
</div>

<div class="actionHeader"><a name="125">125 Deactivate(O:Object*)</a></div>
<div class="indent1">
Is used to modify the appearance state of an actor in an ARE file. By using Deactivate(), 
the actor's information will remain in the area, but the player will be unable to see or 
interact with this actor.<br />
<br />
</div>

<div class="actionHeader"><a name="126">126 Activate(O:Object*)</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="127">127 CutSceneId(O:Object*)</a></div>
<div class="indent1">
Is used internally in a cutscene to make the Object with that script name perform actions. 
The script name is also known as the death variable. Example is from CUT01.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUAPanic(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
(cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="128">128 AnkhegEmerge()</a></div>
<div class="indent1">
Used by ankegs (big surprise there hehe) to give the appearance of emerging from the 
ground. But it is not used in their scripts. I think these 2 actions are called from the exe.<br />
<br />
(these both seem to do nothing in a script for PCs.)<br />
<br />
</div>

<div class="actionHeader"><a name="129">129 AnkhegHide()</a></div>
<div class="indent1">
Used by ankegs (another big surprise) to give the appearance of hiding in the ground. But 
it is not used in their scripts.<br />
<br />
(these both seem to do nothing in a script for PCs.)<br />
<br />
</div>

<div class="actionHeader"><a name="130">130 RandomTurn()</a></div>
<div class="indent1">
This action causes the active creature to turn to a random direction.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomTurn()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="131">131 Kill(O:Object*)</a></div>
<div class="indent1">
Causes the object to die, dropping loot if he has any.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KillArntra04&quot;,&quot;AR0307&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KillArntra04&quot;,&quot;AR0307&quot;,2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;arntra04&quot;,Face(10))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell(&quot;arntra04&quot;,CLERIC_FLAME_STRIKE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Kill(&quot;arntra04&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;Arntra05&quot;,[3213.485],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="132">132 VerbalConstant(O:Object*,I:Constant*soundOff)</a></div>
<div class="indent1">
Plays a sound file that is linked to the object. Only example of this I have seen is from JC's Teamwork scripts from BG1. It is not used in BG2. And in BG1 it is used in Gorion's script once.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HotKey(H)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;VerbalConstant(Myself,HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(Myself,35)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #95<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #5<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;VerbalConstant(Myself,HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
// if someone else is hurt heal them<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Heard([PC],HURT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HaveSpell(INNATE_LAY_ON_HANDS)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(LastHeardBy(Myself),INNATE_LAY_ON_HANDS)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="133">133 ClearActions(O:Object*)</a></div>
<div class="indent1">
Clears the actions on that object only. Example from AR2400.bcs.Usually used before 
cutscenes to avoid any ActionLists from interfering with the cutscene.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;udWaitOgreDoor&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;HaveOgreOpenDoor&quot;,&quot;AR2400&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;udGithDead&quot;,&quot;AR2400&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Global(&quot;udMind&quot;,&quot;GLOBAL&quot;,30)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetInterrupt(FALSE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;HaveOgreOpenDoor&quot;,&quot;AR2400&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player5)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetInterrupt(TRUE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Cut44i&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="134">134 AttackReevaluate(O:Target*,I:ReevaluationPeriod*)</a></div>
<div class="indent1">
Attacks and reevaluates the situation after the time specified, I belive the time is in 
15ths of a second. Reevaluate meaning run through the script to see if any other conditions are true.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([EVILCUTOFF])<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(LastSeenBy(),4)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!InParty(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Allegiance(LastSeenBy(Myself),GOODCUTOFF)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Class(LastSeenBy(Myself),INNOCENT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;InWeaponRange(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;HasWeaponEquiped()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(LastSeenBy(),30)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="135">135 LockScroll()</a></div>
<div class="indent1">
Not used in any scripts in bg2. However testing shows this action locks the screen from 
moving on the selected Object, maybe useful if you don't like moving the screen yourself.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;CombatCounter(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LockScroll()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="136">136 UnlockScroll()</a></div>
<div class="indent1">
Not used in any scripts in bg2, however this command simply unlocks the screen so it can 
be scrolled again.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HotKey(H)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!CombatCounter(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;UnlockScroll()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="137">137 StartDialog(S:DialogFile*,O:Target*)</a></div>
<div class="indent1">
Starts a dialog with the target object. The dialog can be any associated ********.dlg file. Unlike the other action, Dialog(), StartDialog() will start a dialog from a distance. If the creature using this action has been assigned a dialog that has  all top level conditions returning false, this action will not fail. This action also seems to set the dialog file (possibly only for the current session).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([PC])<br />
&nbsp;&nbsp;&nbsp; &nbsp;NumTimesTalkedTo(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartDialog(&quot;andris&quot;,[PC])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="137">137 StartDialogue(S:DialogFile*,O:Target*)</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="138">138 SetDialog(S:DialogFile*)</a></div>
<div class="indent1">
See below.<br />
<br />
</div>

<div class="actionHeader"><a name="138">138 SetDialogue(S:DialogFile*)</a></div>
<div class="indent1">
Sets the dialog file associated with the object running the script to the dialog file 
(********.DLG) specified. SetDialogue(&quot;&quot;) will set the dialog file to none.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;AttackedBy([GOODCUTOFF],DEFAULT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KR_CHANGE_DIALOG&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetDialogue(&quot;&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KR_CHANGE_DIALOG&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="139">139 PlayerDialog(O:Target*)</a></div>
<div class="actionHeader"><a name="139">139 PlayerDialogue(O:Target*)</a></div>
<div class="indent1">
Causes the active creature to start a dialog with the target creature, from any distance. If the target is invalid, no action will be taken.<br />
<br />
</div>

<div class="actionHeader"><a name="140">140 GiveItemCreate(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</a></div>
<div class="indent1">
Gives the item specified ((RESREF) and also creates it) to the specified object. Parameter 
1 is the number, parameter 2 is the amount of charges (or quantity if its stackable), parameter 
3 is charges on a secondary spell or effect.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;dwVith&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;dwVithal&quot;,&quot;GLOBAL&quot;,3)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateVisualEffectObject(&quot;SPPLANAR&quot;,&quot;udvith&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Activate(&quot;udvith&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl8z&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9g&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9e&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9v&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9r&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;dwVithal&quot;,&quot;GLOBAL&quot;,4)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="141">141 GivePartyGoldGlobal(S:Name*,S:Area*)</a></div>
<div class="indent1">
Will give the party a sum of gold corresponding to the given global variable. The gold amount is deducted from the actor running the script. For example:<br />
<br />
<div class="code">
IF<br />
Global("Cash","GLOBAL",0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal("Cash","GLOBAL",50)<br />
GivePartyGoldGlobal("Cash","GLOBAL")<br />
END<br />
</div>
<br />
This will give the party 50 gold.<br />
<br />
</div>

<div class="actionHeader"><a name="142">142 UseDoor()</a></div>
<div class="indent1">
Not needed see below...<br />
<br />
</div>

<div class="actionHeader"><a name="143">143 OpenDoor(O:Object*)</a></div>
<div class="indent1">
Will open the specified door, but will not work if the door is locked unless the object has 
high str.Also some specially lock doors cannot be picked or forced open, doors that are plot 
specific for example.Also if a door is locked and you use this action on a creature the 
creature may continue attempting to open the door even after other actions are issued, 
since it gets stuck on the first action. I tried unsuccessfully to implement door opening 
before ToB came out, without success. Heres an older script I was using that checked each 
door name:<br />
<br />
<div class="code">
IF<br />
See(&quot;Door01&quot;<br />
OpenState(&quot;Door01&quot;,FALSE)<br />
!See([GOODCUTOFF])<br />
!TargetUnreachable(&quot;Door01&quot;)<br />
THEN<br />
RESP ONSE #100<br />
MoveToObjectNoInterrupt(&quot;Door01&quot;)<br />
Unlock(&quot;Door01&quot; )<br />
OpenDoor(&quot;Door01&quot;)<br />
END<br />
</div>
<br />
(Note that you would need to do this for every door in the game (alot of door names) and 
then you would ruin plot locked doors. If you tried to open them without unlocking them, 
it could cause weird behavior in cres when they get 'stuck' opening doors that cant be opened.)<br />
In ToB it might be possible to use the new door objects found in objects.ids instead to open 
the doors, but if 'Disarmed' and 'unlocked' triggers still dont work for doors then it wont be 
much help.<br />
<br />
In ToB using this script:<br />
<br />
<div class="code">
IF<br />
See(NearestDoor(Myself))<br />
OpenState(NearestDoor(Myself),FALSE)<br />
THEN<br />
RESPONSE #100<br />
MoveToObjectNoInterrupt(NearestDoor(Myself))<br />
OpenDoor(NearestDoor(Myself))<br />
END<br />
</div>
<br />
Seems to lock up the game or boot me out of the game...<br />
<br />
</div>

<div class="actionHeader"><a name="144">144 CloseDoor(O:Object*)</a></div>
<div class="indent1">
Closes the specfied door. With ToB It might be possible to use CloseDoor(NearestDoor()) as an 
action. Prior to ToB you need the door name.<br />
<br />
Example is from AR0300.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;LyrosJob&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;lyros&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Exists(&quot;Rylock&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;RylockLeavesHarperDoor&quot;,&quot;AR0300&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;RylockLeavesHarperDoor&quot;,&quot;AR0300&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CloseDoor(&quot;DOOR0308&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Lock(&quot;DOOR0308&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Rylock&quot;,EscapeArea())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="145">145 PickLock(O:Object*)</a></div>
<div class="indent1">
Must be the action the thief uses to do just that.<br />
<br />
(Never tested)<br />
<br />
</div>

<div class="actionHeader"><a name="146">146 Polymorph(I:AnimationType*Animate)</a></div>
<div class="indent1">
Causes the object running the script to change animation to the specifed animation. The animation 
is from Animate.ids. Note: this is one of the actions used to change characters into other things 
like mindflayers or fire elementals.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;!InPartyAllowDead(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!GlobalGT(&quot;AerieTransform&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Aerie&quot;,&quot;AR0607&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KalahI&quot;,&quot;AR0607&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveGlobal(&quot;Ar0607&quot;,&quot;Aerie&quot;,[318.378])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ChangeEnemyAlly(&quot;Aerie&quot;,NEUTRAL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Aerie&quot;,&quot;AR0607&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Aerie&quot;,Polymorph(MAGE_FEMALE_ELF))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Aerie&quot;,SetBeenInPartyFlags())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AerieTransform&quot;,&quot;GLOBAL&quot;,2)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="147">147 RemoveSpell(I:Spell*Spell)</a></div>
<div class="indent1">
Removes the selected spell from the object running the script. The spell can be innate, priest, wizard, anything, as long as its listed in spell.ids. This will remove all spellbook references of a spell from a character, but will not remove it from memory. For innate abilities, it will remove all usable instances of the spell.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KR_ANTI_PALADIN_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_LAY_ON_HANDS)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_DETECT_EVIL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_PROTECTION_FROM_EVIL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KR_ANTI_PALADIN_CHANGE&quot;,&quot;LOCALS&quot;,2)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="148"> 148 BashDoor(0:Object)</a></div>
<div class="indent1">
Is broken due to the improper coding of 0 (it should be O). Never tried it after fixing 
it...However the opendoor command will check strand force the door if the door is locked 
and the object trying to open it has sufficient strength. So this action is not needed.<br />
<br />
</div>

<div class="actionHeader"><a name="149">149 EquipMostDamagingMelee()</a></div>
<div class="indent1">
Equips the most damaging melee from the quickslots. The most damaging is selected from its 
TO HIT value and damage. Special bonuses versus creature types are not checked, nor are 
added elemental damages.<br />
<br />
<div class="code">
IF<br />
&nbsp;See([EVILCUTOFF])<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; EquipMostDamagingMelee()<br />
&nbsp;&nbsp;&nbsp; Attack([EVILCUTOFF])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="150"> StartStore(S:Store*,O:Target*)">150 StartStore(S:Store*,O:Target*)</a></div>
<div class="indent1">
Starts the specified store (********.STO) with the specified object. Useful for custom 
merchants. And mostly used in dialogues instead of scripts, though the actions are the 
same for both.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KRSTART_STORE&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartStore(&quot;Tem4802&quot;,LastTalkedToBy())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="151">151 DisplayString(O:Object*,I:StrRef*)</a></div>
<div class="indent1">
Displays a dialog.tlk reference &nbsp;number in the message window on the object specified. 
So if I wanted my character to display 'quaffs a potion' in the message window when he 
drinks a potion of extra healing, I would use:<br />
<br />
<div class="code">
IF<br />
HasItem(&quot;potn52&quot;,())<br />
HPPercentLT((),50)<br />
THENRESPONSE #100<br />
UseItem(&quot;potn52&quot;,())<br />
DisplayString((),46150)<br />
END<br />
</div>
<br />
(Note this action is different than the DisplayStringHead(OBJECT,STRING) action which 
displays text over their head instead.<br />
<br />
</div>

<div class="actionHeader"><a name="152">152 ChangeAIType(O:Object*)</a></div>
<div class="indent1">
Changes the IDS identifiers for active creature to the values specified. The object parameter must be in the IDS object form (i.e  [EA.GENERAL.RACE.CLASS.SPECIFIC.GENDER.ALIGN]). If paramters are missing, they will default to 0.<br />
If a symbolic object is passed, all identifiers will be cleared and the IDS identifier bytes will be filled.<br />
ChangeAIType(NearestEnemyOf(LastSeenBy(LastTalkedToBy(LastTrigger())))) would zero Allegiance, General, Race, Class, Specific, Gender, and Alignment, set spec 1 to "Myself" (the Object.ids value, 1), 2 to LastTrigger, 3 to LastTalkedToBy, 4 to LastSeenBy, and 5 to NearestEnemyOf.<br />
<br />
</div>

<div class="actionHeader"><a name="153">153 ChangeEnemyAlly(O:Object*,I:Value*EA)</a></div>
<div class="indent1">
Is used to change the enemy/ally parameter of a creature. This parameter determines if 
the creature is friendly to you (blue or green circle) or hostile (Red circle). The 
values are from EA.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_ENEMYALLY_CHANGE&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_ENEMYALLY_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeEnemyAlly(Myself,NEUTRAL)<br />
END<br />
</div>
<br />
Note: Another way of doing this is simply using Enemy() or Ally() in the response if 
you want to change the object running the scripts' Enemy/Ally parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="154">154 ChangeGeneral(O:Object*,I:Value*General)</a></div>
<div class="indent1">
Changes the general classification of the object to the value specified. The General 
values are found in General.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_GENERAL_CHANGE&quot;,&quot;LOCALS&quot; ,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_GENERAL_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeGeneral((),UNDEAD)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="155">155 ChangeRace(O:Object*,I:Value*Race)</a></div>
<div class="indent1">
Changes the race classification of the object to the value specified. The race values are 
found in Race.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_RACE_CHANGE&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_RACE_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeRace( (),DRAGON)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="156">156 ChangeClass(O:Object*,I:Value*Class)</a></div>
<div class="indent1">
Changes the class classification of the object to the value specified. The class values are 
found in Class.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_CLASS_CHANGE&quot;,&quot;LOCALS&quot;,0)&lt; br&gt;THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_CLASS_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeClass((),FIGHTER)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="157">157 ChangeSpecifics(O:Object*,I:Value*Specific)</a></div>
<div class="indent1">
Is used for specific information about NPCs. This is a weird parameter not fully understood,
since the Specifics can store either a script or a String. In the example script, Sarkyn uses 
the specifics to insure something is not repeated in his excellent Bg2 player scripts. Go to 
bw scripts and check out his player scripts for the best ones currently. The script below 
assigns the simulacrum created via the spell a script called 'gbSim' so they don't just stand 
there. Note that you could adapt this below snippet to your own use by creating a script for 
your simulacrum then compiling it to a bcs and placing it in your override folder, then using 
its name in place of gbsim.<br />
Does not work correctly in multiplayer games when set on player characters. I am not sure about
creatures, but I have learned to avoid it all together when scripting for multiplayer.<br />
<br />
A common mistake with ChangeSpecifics() is using values over 255. The specifics value is only 
ONE BYTE on a creature, and so should only range from 0 to 255.<br />
<br />
<div class="code">
// Simulacrum AI Change<br />
IF<br />
See([ALLY])<br />
!InParty(LastSeenBy(Myself))<br />
!Gender(LastSeenB y(Myself),SUMMONED)<br />
!General(LastSeenBy(Myself),ANIMAL)<br />
!General(LastSeenB y(Myself),MONSTER)<br />
!General(LastSeenBy(Myself),UNDEAD)<br />
!General(LastSeenBy (Myself),GIANTHUMANOID)<br />
!Race(LastSeenBy(Myself),ELEMENTAL)<br />
!Race(LastSeen By(Myself),MEPHIT)<br />
!Race(LastSeenBy(Myself),IMP)<br />
!HasItem(&quot;IMOENHP1&quot;,LastSeenBy(Myself))<br />
!HasItem(&quot;MINHP1&quot;,LastSeenBy(Myself))<br />
!Specifics(LastSeenBy(Myself),100)<br />
THEN<br />
RESPONSE #100<br />
DisplayStringHead(LastSeenBy(Myself),26234) // 'Simulacrum'<br />
ActionOverride(LastSeenBy(Myself),ChangeAIScript(&quot;gbSim&quot;,DEFAULT))<br />
ChangeSpecifics(LastSeenBy(Myself),100)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="158">158 ChangeGender(O:Object*,I:Value*Gender)</a></div>
<div class="indent1">
Changes the gender classification of the object to the value specified. The gender values are 
found in Gender.ids. Note that by changing the gender of summoned creatures to NEITHER, you can 
defeat the Bioware imposed 5 critter summoning limit. Heres an example script to do that based 
off Sarkyns above script.<br />
<br />
<div class="code">
IF<br />
See([ALLY])<br />
!InParty(LastSeenBy(Myself))<br />
Gender(LastS eenBy(Myself),SUMMONED)<br />
!Specifics(LastSeenBy(Myself),3001)<br />
THEN<br />
RESPON SE #100<br />
ChangeGender(LastSeenBy(),NEITHER)<br />
ChangeSpecifics(LastSeenBy(Myself) ,3001)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="159">159 ChangeAlignment(O:Object*,I:Value*Align)</a></div>
<div class="indent1">
Changes the alignment classification of the object to the value specified. The alignment values 
are found in Align.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_ALIGN_CHANGE&quot;,&quot;LOCALS&quot;,0)&lt; br&gt;THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_ALIGN_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeAlignment(LastSeenBy(Myself),CHAOTIC_GOOD)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="160">160 ApplySpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
Instantly (1/4 of a second or less usually.) Does not play the casting animations. Used to mimic 
contingencies for enemy spell casters. Also, the spell cannot be interrupted and area effect spells 
that target multiple objects will only affect the specified (single) object.<br />
<br />
Example is used to mimic a contigency from MAGE18Y.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Prep&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_STONE_SKIN)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_SPELL_TRAP)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_MIRROR_IMAGE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_SPELL_TURNING)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(SixthNearestEnemyOf(Myself),WIZARD_MONSTER_SUMMONING_4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Prep&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
</div>
<br />
Note here that, whereas in normal spellcasting the dice values for effects, for example a 50% chance 
of damaging a target, are calculated right at the beginning of casting, ApplySpell() and ApplySpellRES() 
only calculate this when first initiated. For example... let's say I write ApplySpell(Myself,SPELL1) 
and ApplySpell(Myself,SPELL2) directly after one another in a script. I roll a 50 in my 1d100 die roll. 
Both SPELL1 and SPELL2 will use this die value to determine whether or not to apply random effects.<br />
<br />
</div>

<div class="actionHeader"><a name="161">161 IncrementChapter(S:RESREF*)</a></div>
<div class="indent1">
Is used to display two strings from a 2da file called CHTXT**.2da, with ** being the Chapter 1-10. 
The first string from the 2da corresponds to the current chaper, and the second is the text displayed 
about that Chapter. For example here is CHTEXT5.2da's top lines:<br />
<br />
<div class="code">
2DA V1.0<br />
NONE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1<br />
SWITCH
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;DEFAULT &nbsp;&nbsp;&nbsp; DEFAULT<br />
DEFAULT
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
16207 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 15839<br />
DWARF
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
</div>
<br />
Now heres the two strings' meanings:<br />
<br />
strref: 16207<br />
Text: Chapter 5<br />
<br />
strref: 15839<br />
Text: You have dealt a great blow to the organization known as the Iron Throne; a defeat that 
you are certain will not be ignored. &nbsp;Now you must travel to the great city of Baldur's Gate, 
where you are certain to find the truth behind the strange plot that plagues the citizens of the Sword Coast.<br />
<br />
And finally heres an example script that runs the action.(From AR1803.bcs)<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;Davaeorn&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Chapter&quot;,&quot;GLOBAL&quot;,4)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RevealAreaOnMap(&quot;AR0900&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IncrementChapter(&quot;Chptxt5&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AddJournalEntry(15839,USER)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="162">162 ReputationSet(I:Reputation*)</a></div>
<div class="indent1">
Not used in any in-game scripts. As the name suggests this action is used to set the reputation 
of the player characters to a set value.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KRGOODDEED&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetReputation(20)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SG(&quot;KRGOODDEED&quot;,1<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="163">163 ReputationInc(I:Reputation*)</a></div>
<div class="indent1">
Increases the reputation of the player characters by the specified amount. The example is from 
Baldur.bcs. Even though this is an increase you can use a negative number to lower rep.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;InParty(&quot;Viconia&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;ViconiaJoinedParty&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ReputationInc(-2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;ViconiaJoinedParty&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="164">164 AddexperienceParty(I:XP*)</a></div>
<div class="indent1">
Adds the amount of XP specified to the party. The example is from AR1300.bcs.<br />
<br />
<pre class="code">
IF
  OpenState(&quot;Bridge01&quot;,TRUE)
  Global(&quot;BridgeOpen&quot;,&quot;GLOBAL&quot;,0)
  !Dead(&quot;Torgal&quot;)
THEN
  RESPONSE #100
    SetGlobal(&quot;BridgeOpen&quot;,&quot;GLOBAL&quot;,1)
    DisplayString(Myself,'The drawbridge has been lowered.')
    CreateCreature(&quot;KPCAPT03&quot;,[2400.1592],6)
    CreateCreature(&quot;KPSOLD03&quot;,[2425.1676],6)
    CreateCreature(&quot;KPSOLD04&quot;,[2371.1754],6)
    CreateCreature(&quot;KPSOLD05&quot;,[2315.1805],6)
    CreateCreature(&quot;TROLGI01&quot;,[2391.1592],0)
    CreateCreature(&quot;TROLGI02&quot;,[2282.1742],0)
    CreateCreature(&quot;KPYUAN01&quot;,[2251.1731],0)
    AddexperienceParty(29750)
    (Cut short for brevity)
</pre>
<br />
</div>

<div class="actionHeader"><a name="165">165 AddExperiencePartyGlobal(S:Name*,S:Area*)</a> </div>
<div class="indent1">
Adds a value of experience corresponding to a global variable to the party. For example:<br />
<br />
<pre class="code">
IF
  Global("MyXP","GLOBAL",0)
THEN
  RESPONSE #100
    SetGlobal("MyXP","GLOBAL",50)
    AddExperiencePartyGlobal("MyXP","GLOBAL")
END
</pre>
<br />
Will add 50 XP to the party.<br />
<br />
</div>

<div class="actionHeader"><a name="166">166 SetNumTimesTalkedTo(I:Num*)</a></div>
<div class="indent1">
Sets the number of times the object running the script has been talked to by player characters.<br />
The example is from AR0103.bcs.<br />
<br />
<pre class="code">
IF
  Global(&quot;BrielbaraMove&quot;,&quot;GLOBAL&quot;,1)
  !Exists(&quot;Brielbara&quot;)
  !Dead(&quot;Brielbara&quot;)
THEN
  RESPONSE #100
    CreateCreature(&quot;BRIELB&quot;,[418.376],0)
    ActionOverride(&quot;Brielbara&quot;,SetNumTimesTalkedTo(1))
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="167">167 StartMovie(S:ResRef*)</a></div>
<div class="indent1">
Is used to play a movie (.mve format). The example is from AR108.bcs.<br />
<br />
<pre class="code">
IF
  Global(&quot;EnteredPalace&quot;,&quot;GLOBAL&quot;,0)
THEN
  RESPONSE #100
    StartMovie(&quot;PALACE&quot;)
    SetGlobal(&quot;EnteredPalace&quot;,&quot;GLOBAL&quot;,1)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="168">168 Interact(O:Object*)</a></div>
<div class="indent1">
Is used for initiating interparty banter betweeen NPCs. The Example used is from Edwin.bcs.<br />
<br />
<pre class="code">
IF
  InParty(Myself)
  Gender(Myself,FEMALE)
  InParty(&quot;Aerie&quot;)
  See(&quot;Aerie&quot;)
  !Dead(&quot;Aerie&quot;)
  !StateCheck(&quot;Aerie&quot;,STATE_SLEEPING)
  Range(&quot;Aerie&quot;,10)
  CombatCounter(0)
  !Range(SecondNearest([PC]),10)
  Global(&quot;EdwinW1&quot;,&quot;LOCALS&quot;,0)
THEN
  RESPONSE #100
    Interact(&quot;Aerie&quot;)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="169">169 DestroyItem(S:ResRef*)</a></div>
<div class="indent1">
Completly destroys all instances of the specified item from the object running the script. The example is from AR1000.bcs.<br />
<br />
<pre class="code">
IF
  Global(&quot;CerndBaby&quot;,&quot;GLOBAL&quot;,1)
  Global(&quot;CerndBabyTake&quot;,&quot;AR1000&quot;,0)
THEN
  RESPONSE #100
    SetGlobal(&quot;CerndBabyTake&quot;,&quot;AR1000&quot;,1)
    TakePartyItem(&quot;misc8t&quot;)
    DestroyItem(&quot;misc8t&quot;)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="170">170 RevealAreaOnMap(S:ResRef*)</a></div>
<div class="indent1">
Adds an ARE file to the WMP to enable traveling to it via world map.<br />
<br />
<pre class="code">
IF
  Dead(&quot;Davaeorn&quot;)
  Global(&quot;Chapter&quot;,&quot;GLOBAL&quot;,4)
THEN
  RESPONSE #100
    RevealAreaOnMap(&quot;AR0900&quot;)
    IncrementChapter(&quot;Chptxt5&quot;)
    AddJournalEntry(15839,USER)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="171">171 GiveGoldForce(I:Amount*)</a></div>
<div class="indent1">
Forces the amount of gold. This means that, unlike GivePartyGold(), GiveGoldForce() does not require the action's user to have the gold to give it. Another feasible name, then, could be AddPartyGold(I:Amount*). Note that using a negative value here will remove gold from the performer of the action, which can be very useful for scrapping gold.<br />
<br />
<pre class="code">
IF
  NumTimesTalkedTo(30)
THEN
  RESPONSE #100
    SetNumTimesTalkedTo(31)
    GiveGoldForce(300)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="172">172 ChangeTileState(O:Tile*,I:State*Boolean)</a></div>
<div class="indent1">
Is used to toggle the open/closed state graphics of a tile in a WED file. This would most commonly be associated with doors, but a door does not have to exist in the ARE for this action to work since it references a name in the WED file.<br />
<br />
</div>

<div class="actionHeader"><a name="173">173 AddJournalEntry(I:Entry*,I:Type*JourType)</a></div>
<div class="indent1">
Adds a dialog tlk reference number into your journal. Example is from AR0511.bcs.<br />
<br />
<pre class="code">
IF
  Dead(&quot;JanGith1&quot;)
  Dead(&quot;JanGith2&quot;)
  Global(&quot;ThumbSeeker&quot;,&quot;GLOBAL&quot;,2)
  Global(&quot;HiddenJournal&quot;,&quot;AR0511&quot;,0)
THEN
  RESPONSE #100
    SetGlobal(&quot;HiddenJournal&quot;,&quot;AR0511&quot;,1)
    AddJournalEntry(34726,QUEST)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="174">174 EquipRanged()</a></div>
<div class="indent1">
Equips a ranged weapon if one is in a quickslot.<br />
<br />
<pre class="code">
IF
  See([EVILCUTOFF])
  !Range([EVILCUTOFF],4)
  OR(28)
    !HasItemEquiped(&quot;Bow01&quot;,())
    !HasItemEquiped(&quot;Bow02&quot;,())
    !HasItemEquiped(&quot;Bow03&quot;,())
    !HasItemEquiped(&quot;Bow04&quot;,())
    !HasItemEquipedReal(&quot;Bow05&quot;,())
    !HasItemEquipedReal(&quot;Bow06&quot;,())
    !HasItemEquipedReal(&quot;Bow07&quot;,())
    !HasItemEquipedReal(&quot;Bow08&quot;,())
    !HasItemEquipedReal(&quot;Bow09&quot;,())
    !HasItemEquipedReal(&quot;Bow10&quot;,())
    !HasItemEquipedReal(&quot;Bow11&quot;,())
    !HasItemEquipedReal(&quot;Bow12&quot;,())
    !HasItemEquipedReal(&quot;Bow13&quot;,())
    !HasItemEquipedReal(&quot;Bow14&quot;,())
    !HasItemEquipedReal(&quot;Bow15&quot;,())
    !HasItemEquipedReal(&quot;Bow16&quot;,())
    !HasItemEquipedReal(&quot;Bow17&quot;,())
    !HasItemEquipedReal(&quot;Bow18&quot;,())
    !HasItemEquipedReal(&quot;Bow19&quot;,())
    !HasItemEquipedReal(&quot;Bow20&quot;,())
    !HasItemEquipedReal(&quot;Bow21&quot;,())
    !HasItemEquipedReal(&quot;Bow22&quot;,())
    !HasItemEquipedReal(&quot;Bow23&quot;,())
    !HasItemEquipedReal(&quot;Bow24&quot;,())
    !HasItemEquipedReal(&quot;Bow25&quot;,())
    !HasItemEquipedReal(&quot;Bow26&quot;,())
    !HasItemEquipedReal(&quot;Bow98&quot;,())
    !HasItemEquipedReal(&quot;Bow99&quot;,())
THEN
  RESPONSE #100
    EquipRanged()
    AttackReevaluate([EVILCUTOFF],30)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="175">175 SetLeavePartyDialogFile()</a></div>
<div class="indent1">
Is used to set the associated NPC party leave dialog, usually a couple questions like you want me to stay here or go to the Copper Coronet?<br />
<br />
<pre class="code">
IF
  !InParty(Myself)
  HPGT(Myself,0)
THEN
  RESPONSE #100
    SetLeavePartyDialogFile()
    Dialogue(Player1)
    ChangeAIScript(&quot;&quot;,DEFAULT)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="175">175 SetLeavePartyDialogueFile()</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="176">176 EscapeAreaDestroy(I:Delay*)</a></div>
<div class="indent1">
The actor who issues this action will search for the nearest travel trigger point for the specified Delay time before giving up and destroying itself completely from the game (as per DestroySelf()).<br />
<br />
</div>

<div class="actionHeader"><a name="177">177 TriggerActivation(O:Object*,I:State*Boolean)</a></div>
<div class="indent1">
This action is used in conjunction with trigger points in ARE files. It will toggle the appearance flag of a trigger, so using TriggerActivation("TRAP01",FALSE) will stop TRAP01 from doing anything, and using TriggerActivation("TRAP01",TRUE) would enable it.<br />
<br />
</div>

<div class="actionHeader"><a name="178">178 BreakInstants()</a></div>
<div class="indent1">
Presumably fongs instants. And their lassies.<br />
Really, though, this is completely untested, but I'd assume that this adds instants (seen in the INSTANT.ids) to the action list rather than performing them immediately.<br />
<br />
</div>

<div class="actionHeader"><a name="179">179 DialogInterrupt(I:State*Boolean)</a></div>
<div class="actionHeader"><a name="179">179 DialogueInterrupt(I:State*Boolean)</a></div>
<div class="indent1">
When set to false, this prevents the creature running the script from receiving dialog requests, or issuing any verbal constants.<br />
This information is not saved.<br />
<br />
</div>

<div class="actionHeader"><a name="180">180 MoveToObjectFollow(O:Object*)</a></div>
<div class="indent1">
This will make the performer of the action move to the specified object. Once he reaches the object, however, the action is not over. Any time the object moves, this action will still take effect... at least until a different action is issued or until the creature travels between areas.<br />
<br />
</div>

<div class="actionHeader"><a name="181">181 ReallyForceSpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
This is yet another action in the Spell() family. This command will do the same thing as ForceSpell(), but with 0 casting time.<br />
The casting creature must meet the level requirements as set in the spell file.<br />
<br />
</div>

<div class="actionHeader"><a name="182">182 MakeUnselectable(I:Time*)</a></div>
<div class="indent1">
This action does what it says and a little bit more. When used, it will change the target's circle to purple and make it unselectable by anyone. And although it doesn't say it outright, the user of MakeUnselectable() has its scripts stop running for the duration. Using MakeUnselectable(0) will end the unselectable state.<br />
<br />
</div>

<div class="actionHeader"><a name="183">183 MultiPlayerSync()</a></div>
<div class="indent1">
This is used in multiplayer games, usually cutscenes, to ensure that players are at the same point before continuing play. You can think of it as a lag buffer of sorts. Players with faster connections will wait for players with slower connections to catch up before the game continues. This helps prevent both major lag and crashes.<br />
<br />
</div>

<div class="actionHeader"><a name="184">184 RunAwayFromNoInterrupt(O:Creature*,I:Time*)</a></div>
<div class="indent1">
This does the same thing as RunAwayFrom(), but prevents conditions from being tested while the Time is still active.<br />
<br />
</div>

<div class="actionHeader"><a name="185">185 SetMasterArea(S:Name*)</a></div>
<div class="indent1">
To explain SetMasterArea(), you must understand how area scripts are run. Whenever you enter a new area that is NOT in the MASTAREA.2da, it will be added to the bottom of the area script stack. Whenever you enter a new area that IS in the MASTAREA.2da, it will be added to the top of the area script stack. Let's say I have one player in AR0900 and one player in AR0902.Both scripts are active, with AR0900 on the top of the stack because it appears in MASTAREA.2da. Using SetMasterArea("AR0902") would change it so that AR0902.bcs is added to the top of the stack, directly above AR0900.bcs.<br />
<br />
This may seem useless at first, but if you get into priority scripting in areas, this is must have knowledge--otherwise you'll have problems and say "WHY ISN'T MY AREA SCRIPT WORKING!?"<br />
<br />
</div>

<div class="actionHeader"><a name="186">186 EndCredits()</a></div>
<div class="indent1">
This, surprisingly enough, starts the ending credits.<br />
<br />
</div>

<div class="actionHeader"><a name="187">187 StartMusic(I:Slot*,I:Flags*MFLAGS)</a></div>
<div class="indent1">
Starts playing a music track. The Slot parameter refers to the one of the 10 music slots contained in the .are header (see MUSICS.IDS from IWDII).
The Flags parameter refers to the way the song should be played (fade in/out, straight, etc.). See MFLAGS.ids for possible values.<br />
<br />
</div>

<div class="actionHeader"><a name="188">188 TakePartyItemAll(S:Item*)</a></div>
<div class="indent1">
Will take all instances of the specified item from the party and give them to the performer of this action (excepting items contained in a Bag of Holding, and possibly other containers such as Scroll cases).<br />
<br />
</div>

<div class="actionHeader"><a name="189">189 LeaveAreaLUAPanic(S:Area*,S:Parchment*,P:Point*,I:Face*)</a></div>
<div class="indent1">
This really does the same thing as LeaveAreaLUA(). Completely pointless as far as I'm concerned.<br />
<br />
</div>

<div class="actionHeader"><a name="190">190 SaveGame(I:Slot*)</a></div>
<div class="indent1">
This will save the game in the specified save slot. Unless you're a player doing this in your AI scripts, it's usually bad practice to save in anything other than slot 0, which is the auto-save.<br />
<br />
</div>

<div class="actionHeader"><a name="191">191 SpellNoDec(O:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
If I were to lengthen the name of this action, it would be called SpellNoDecrease. This action will cast the specified spell. The spell does not need to be memorized, or even known. The spell-casting action is interruptable.<br />
<br />
</div>

<div class="actionHeader"><a name="192">192 SpellPointNoDec(P:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
See above. This one just targets a point in [x.y] format as opposed to an object.<br />
<br />
</div>

<div class="actionHeader"><a name="193">193 TakePartyItemRange(S:Item*)</a></div>
<div class="indent1">
This seems pretty useless to me since you can't specify a range, but the performer of this action will only be able to take the given item if he is close to a party member.<br />
<br />
</div>

<div class="actionHeader"><a name="194">194 ChangeAnimation(S:ResRef*)</a></div>
<div class="indent1">
For non-party characters, this action will change the performer into the animation of the specified CRE file.<br />
For characters in the party, this action will create specified creature.<br />
<br />
</div>

<div class="actionHeader"><a name="195">195 Lock(O:Object*)</a></div>
<div class="indent1">
The object here should be a door or container in a given area. This isn't too scriptable for player AI, but can be a good effect for creature/area scripts. It locks doors and containers.<br />
<br />
</div>

<div class="actionHeader"><a name="196">196 Unlock(O:Object*)</a></div>
<div class="indent1">
See above. It unlocks doors and containers.<br />
<br />
</div>

<div class="actionHeader"><a name="197">197 MoveGlobal(S:Area*,O:Object*,P:Point*)</a></div>
<div class="indent1">
This action is ONLY useful for NPC's that have already been added to the saved game file. It will jump the given object to the area and point specified. The syntax is pretty straightforward:<br />
<br />
<div class="code"> MoveGlobal("AREA","MINSC",[x.y]) </div>
<br />
</div>

<div class="actionHeader"><a name="198">198 StartDialogueNoSet(O:Object*)</a></div>
<div class="actionHeader"><a name="198">198 StartDialogNoSet(O:Object*)</a></div>
<div class="indent1">
Will start a dialog already assigned to the performer of this action with the object. Unlike Dialog(), this is used from a distance. It will initiate whether or not a character is in sight. If the creature using this action has been assigned a dialog that has all top level conditions returning false, this action will not work. If the target is invalid, the active creature will initiate dialog with Player1.<br />
<br />
</div>

<div class="actionHeader"><a name="199"> 199 TextScreen(S:TextList*) </a></div>
<div class="indent1">
The TextList parameter refers to a 2da file. The 2da file specifies both a strref and a MOS file which allows for text screens to be played.<br />
<br />
</div>

<div class="actionHeader"><a name="200">200</a> RandomWalkContinuous()</div>
<div class="indent1">
See RandomWalk(). The only difference here is the character tends not to stand around at all.<br />
<br />
</div>

<div class="actionHeader"><a name="201">201</a> DetectSecretDoor(O:Object*)</div>
<div class="indent1">
Not very usable in player scripts since you have to know the name of the door--which should be secret--before using this action. Might be good in an area script for effect, however. This will highlight an undetected secret door in that purple "detected" color.<br />
<br />
</div>

<div class="actionHeader"><a name="202">202</a> FadeToColor(P:Point*,I:Blue*)</div>
<div class="indent1">
This action, although some of its parameters are unknown, is frequently useful. It can be used in cutscene situations, and especially for masking undesirable calculations or character movements on the screen. The parameters, however, are strange. The Point parameter is still taken in the [x.y] 
format, but x specifies the number of AI updates rather than an actual point. For example, using FadeToColor([20.0],0) would fade to black in 20 AI updates. Parameters besides the x are undefined and could use some investigation.<br />
<br />
</div>

<div class="actionHeader"><a name="203">203</a> FadeFromColor(P:Point*,I:Blue*)</div>
<div class="indent1">
See above. The only difference this has is that it fades back to normal rather than black.<br />
<br />
</div>

<div class="actionHeader"><a name="204">204</a> TakePartyItemNum(S:ResRef*,I:Num*)</div>
<div class="indent1">
This will take a quantity of referenced items from the party. It should be noted that the game always runs from player1-player6. Here's an example. Player1 has 3 instances of "MYITEM" in his inventory, Player2 has 2 instance of "MYITEM," and Player3 has 1. If I use TakePartyItemNum("MYITEM",4), all 3 instances of "MYITEM" will be taken from Player1, and 1 instance will be taken from Player2. This leaves Player2 and Player3 each with one instance of "MYITEM."<br />
NB. If the last item of an item type stored in a container .sto file is removed by this action, the amount becomes zero. Items with zero quantities cannot be seen in-game, cannot be removed by TakePartyItem, and will not count toward a container's current item load.<br />
<br />
</div>

<div class="actionHeader"><a name="207">207</a> MoveToPointNoInterrupt(P:Point*)</div>
<div class="indent1">
This does the same thing as MoveToPoint(), but disallows other conditions to be checked until the character reaches the given point.<br />
<br />
</div>

<div class="actionHeader"><a name="208">208</a> MoveToObjectNoInterrupt(O:Object*)</div>
<div class="indent1">
This does the same thing as MoveToObject(), but disallows other conditions to be checked until the character reaches the given object.<br />
<br />
</div>

<div class="actionHeader"><a name="209">209</a> SpawnPtActivate(O:Object*)</div>
<div class="indent1">
As it says, this action will activate a spawn point in an area. The Object should be the name of the spawn point as written in the ARE file.<br />
<br />
</div>

<div class="actionHeader"><a name="210">210</a> SpawnPtDeactivate(O:Object*)</div>
<div class="indent1">
As it says, this action will deactivate a spawn point in an area. The Object should be the name of the spawn point as written in the ARE file.<br />
<br />
</div>

<div class="actionHeader"><a name="211">211</a> SpawnPtSpawn(O:Object*)</div>
<div class="indent1">
This action will cause an activated spawn point to spawn creatures, regardless of whether the time for spawning has expired. The Object should be the name of the spawn point as written in the ARE file.<br />
<br />
</div>

<div class="actionHeader"><a name="212">212</a> GlobalShout(I:ID*SHOUTIDS)</div>
<div class="indent1">
GlobalShout() acts like Shout(), except there is no range to it. If I use GlobalShout(10), any creature in the area can use Heard() to detect it, assuming that creature is loaded into the game. What I mean by "loaded into the game" is that, once creatures leave the sight of PC's, their AI is often 
turned off. To keep their AI on, they need to have the AIFAST.itm equipped or effect #293 "Enable Offscreen AI" applied. <br />
<br />
</div>

<div class="actionHeader"><a name="213">213</a> StaticStart(O:Object*)</div>
<div class="indent1">
(Untested)
Starts the specified area animation?<br />
<br />
</div>

<div class="actionHeader"><a name="214">214</a> StaticStop(O:Object*)</div>
<div class="indent1">
Stops the specified area animation.<br />
<br />
</div>

<div class="actionHeader"><a name="215">215</a> FollowObjectFormation(O:Object*,I:Formation*,I:Position*)</div>
<div class="indent1">
This is a very useful function. The Formation parameter takes in the value corresponding to the type of formation (i.e. two lines, arrowhead, single line, etc.) and the Position parameter takes in the position of that formation. The Position value should be from 0 to 5.<br />
<br />
You can use this command for backstabbing, since it will allow the character to move behind a target.<br />
<br />
Personally, I find this command very useful for random following scripts. For example, here DLSCTC02 is the leader of a number of soldiers searching through a cave. This script is used on all the soldiers to keep them following in random positions around the leader.<br />
<br />
<pre class="code">
IF
  !Range("DLSCTC02",12)// ~Rhinsan~
  Global("DontFollow","DL0302",0)
THEN
  RESPONSE #100
    FollowObjectFormation("DLSCTC02",1,6)
  RESPONSE #100
    FollowObjectFormation("DLSCTC02",1,5)
  RESPONSE #100
    FollowObjectFormation("DLSCTC02",2,6)
  RESPONSE #100
    FollowObjectFormation("DLSCTC02",2,5)
END

IF
  Global("FollowTheLeader","LOCALS",1)
  Range("DLSCTC02",6)// ~Rhinsan~
  Global("DontFollow","DL0302",0)
THEN
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",0)
END

IF
  OR(2)
    !Range("DLSCTC02",9)// ~Rhinsan~
    Range("DLSCTC02",1)// ~Rhinsan~
  Global("DontFollow","DL0302",0)
THEN
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",1,2)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",1,3)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",1,4)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",1,5)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",1,1)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",2,1)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",2,2)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",2,3)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",2,4)
  RESPONSE #100
    SetGlobal("FollowTheLeader","LOCALS",1)
    FollowObjectFormation("DLSCTC02",2,5)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="216">216</a> AddFamiliar()</div>
<div class="indent1">
The affected creature becomes the players ally, but does not act as a normal familiar (no HP bonus, nor Constitution loss on death).<br />
<br />
</div>

<div class="actionHeader"><a name="217">217</a> RemoveFamiliar()</div>
<div class="indent1">
This removes the ally flag, set by the AddFamiliar() command.<br />
<br />
</div>

<div class="actionHeader"><a name="218">218</a> PauseGame()</div>
<div class="indent1">
What do you think? It pauses the game. Good for extended auto-pause scripts. Unfortunately, there's no UnpauseGame() since scripts stop running while the game is paused.<br />
<br />
</div>

<div class="actionHeader"><a name="219">219</a> ChangeAnimationNoEffect(S:ResRef*)</div>
<div class="indent1">
This action works in largely the same way as ChangeAnimation(), referencing a CRE file and changing the animation to match. This action differs from ChangeAnimation in that the lighting effects are not played.<br />
<br />
</div>

<div class="actionHeader"><a name="220">220</a> TakeItemListParty(S:ResRef*)</div>
<div class="indent1">
The ResRef here refers to a 2da file that lists a bunch of items. These items are then completely removed from the party. You can see this in action at the very beginning of BG2 in the dungeon, to get rid of BG1 items that appear later on.<br />
<br />
</div>

<div class="actionHeader"><a name="221">221</a> SetMoraleAI(I:Morale*MoraleAI)</div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">The "AI" tagged at the end of this action seems pretty random. I'd assume this just sets the Morale value of user.</div><br />
</div>

<div class="actionHeader"><a name="222">222</a> IncMoraleAI(I:Morale*MoraleAI)</div>
<div class="indent1">
This action seems broken.<br />
<div class="unknown">Same as above, except this increases or decreases if you use a negative value.</div><br />
</div>

<div class="actionHeader"><a name="223">223</a> DestroyAllEquipment()</div>
<div class="indent1">
As opposed to DropInventory(), this action will actually remove all items in the user's inventory from the game.<br />
<br />
</div>

<div class="actionHeader"><a name="224">224</a> GivePartyAllEquipment()</div>
<div class="indent1">
This will give the party all the equipment of the user. You can see this in effect when characters are removed from the game completely--the developers don't want to see all the items go with them. That could lead to problems, especially if the given character had plot important items.<br />
<br />
</div>

<div class="actionHeader"><a name="225">225</a> MoveBetweenAreas(S:Area*,P:Location*,I:Face*)</div>
<div class="indent1">
This, although not often seen, is an extremely useful effect. It will allow an actor to move himself from one area to another, keeping his HP, effects, vital statistics, etc. This is the ideal action to move non-party NPC's from area to area.<br />
<br />
</div>

<div class="actionHeader"><a name="226">226</a> TakeItemListPartyNum(S:ResRef*,I:Num*)</div>
<div class="indent1">
This is just like TakeItemListParty(), but specifies the amount of items of the given type that should be taken from the party.<br />
<br />
</div>

<div class="actionHeader"><a name="227">227</a> CreateCreatureObject(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</div>
<div class="indent1">
Creates the creature (with filename specified by ResRef) next to the object specified by the object parameter. The first usage parameter controls the facing of the creature (0-15). Other parameters are unknown.<br />
<br />
</div>

<div class="actionHeader"><a name="228">228</a> CreateCreatureImpassable(S:NewObject*,P:Location*,I:Face*)</div>
<div class="indent1">
This action allows you to create a creature on a normally impassable surface, such as a wall, or water, or a roof. It is useful because using CreateCreature() and an impassable point will cause the creature to spawn in the nearest passable point. If you're working with effects, many times you'll want a creature to actually be somewhere impassable.<br />
<br />
</div>

<div class="actionHeader"><a name="229">229</a> FaceObject(O:Object*)</div>
<div class="indent1">
As it says, this action wall cause the user to face the specified object.<br />
<br />
</div>

<div class="actionHeader"><a name="230">230</a> RestParty()</div>
<div class="indent1">
This action will act as if the party has clicked the Rest button on the left of the screen, although it will work even if enemies are around and is uninterruptible.<br />
<br />
</div>

<div class="actionHeader"><a name="231">231</a> CreateCreatureDoor(S:NewObject*,P:Location*,I:Face*)</div>
<div class="indent1">
This is like CreateCreature(), but plays the dimension door graphic. Excessive. This could have done without it's own action...<br />
<br />
</div>

<div class="actionHeader"><a name="232">232</a> CreateCreatureObjectDoor(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</div>
<div class="indent1">
Creates the creature (with filename specified by ResRef) next to the object specified by the object parameter. The first usage parameter controls the facing of the creature (0-15). Other parameters are unknown. Plays the dimension door graphic over the creature as it appears.<br />
<br />
</div>

<div class="actionHeader"><a name="233">233</a> CreateCreatureObjectOffScreen(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</div>
<div class="indent1">
Creates the creature (with filename specified by ResRef) off-screen of the current view (he direction (north/south/east/west) is random). The first usage parameter controls the facing of the creature (0-15). Other parameters are unknown.<br />
<br />
</div>

<div class="actionHeader"><a name="234">234</a> MoveGlobalObjectOffScreen(O:Object*,O:Target*)</div>
<div class="indent1">
This is like MoveGlobalObject(), but instead of moving the creature right next to the target, the creature is moved off the screen. For this to work, the object must be in the saved game.<br />
<br />
</div>

<div class="actionHeader"><a name="235">235</a> SetQuestDone(I:STRREF*)</div>
<div class="indent1">
Although untested, this probably does the same thing as EraseJournalEntry(), in that it removes the given STRREF from the QUEST section of the journal.<br />
<br />
</div>

<div class="actionHeader"><a name="236">236</a> StorePartyLocations()</div>
<div class="indent1">
This action does what it says. It stores the party's locations, saved in the .gam file.<br />
<br />
</div>

<div class="actionHeader"><a name="237">237</a> RestorePartyLocations()</div>
<div class="indent1">
Uses the saved locations from StorePartyLocations() to jump the party back to the correct area and points.<br />
This action clears the stored locations from the .gam file.<br />
<br />
</div>

<div class="actionHeader"><a name="238">238</a> CreateCreatureOffScreen(S:ResRef*,I:Face*)</div>
<div class="indent1">
This action doesn't need an object - it will simply create the referenced creature just off the screen where the player is.<br />
<br />
</div>

<div class="actionHeader"><a name="239">239</a> MoveToCenterOfScreen(I:NotInterruptableFor*)</div>
<div class="indent1">
You heard it hear. This moves the actor to the center of the screen and prevents him from checking other script conditions for the specified time interval or until he is at the center of the screen.<br />
<br />
</div>

<div class="actionHeader"><a name="240">240</a> ReallyForceSpellDead(O:Target,I:Spell*Spell)</div>
<div class="indent1">
SimDing0 says, "Er, I tried that once, I'm certain, but I can't remember what it did. Useful, eh? It can force spells on dead things, but I'm not sure if ReallyForceSpell can do that anyway." That's all we know.<br />
<br />
</div>

<div class="actionHeader"><a name="241">241</a> Calm(O:Object)</div>
<div class="indent1">
Reverses the effect of Panic(). May also remove other effects.<br />
<br />
</div>

<div class="actionHeader"><a name="242">242</a> Ally()</div>
<div class="indent1">
This is similar to Enemy() in use, but instead of turning hostile, it changes the user's allegiance to ALLY (green circle). Personally, I don't find this very useful because the ALLY allegiance type is hardly ever used by anything in the games. You'll be better off just using ChangeEnemyAlly().<br />
<br />
</div>

<div class="actionHeader"><a name="243">243</a> RestNoSpells()</div>
<div class="indent1">
This rests the party, but doesn't force healing spells to be cast on rest.<br />
<br />
</div>

<div class="actionHeader"><a name="244">244</a> SaveLocation(S:Area*,S:Global*,P:Point*)</div>
<div class="indent1">
Similar to StorePartyLocations() but with one object.<br />
<br />
</div>

<div class="actionHeader"><a name="245">245</a> SaveObjectLocation(S:Area*,S:Global*,O:Object*)</div>
<div class="indent1">
Stores the location of the specified object in the named variable.<br />
<br />
<pre class="code">
IF
  Global("SavedMyPos","LOCALS",0)
THEN
  RESPONSE #50
    SetGlobal("SavedMyPos","LOCALS",1)
    SaveObjectLocation("LOCALS","DefaultLocation",Myself)
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="246">246</a> CreateCreatureAtLocation(S:GLOBAL*,S:Area*,S:ResRef*)</div>
<div class="indent1">
Creates the specified creature at the saved location specified.<br />
<br />
</div>

<div class="actionHeader"><a name="247">247</a> SetToken(S:Token*,I:STRREF*)</div>
<div class="indent1">
Although hard to understand at first, this can be an incredibly useful action. It would, however, be much better if it was not stored in temporary memory--because it is, any set tokens are lost when the game is quit then reloaded. I came up with a really complex way of indexing tokens so they can be permanently set, but that's neither here nor there...<br />
<br />
</div>

<div class="actionHeader"><a name="248">248</a> SetTokenObject(S:Token*,O:Object)</div>
<div class="indent1">
This is strange because it can be used a number of ways. First, it can transfer a token value from the performer of the action to the target. Second, the token can actually be used for targeting purposes.<br />
<br />
Using SetTokenObject("MYTARGET",[ENEMY.0.0.MAGE_ALL]) will set a target marker on the nearest enemy mage. You could then use Attack("MYTARGET") to attack him. Beware, though, this is another action that sets properties saved into temporary memory. <br />
<br />
</div>

<div class="actionHeader"><a name="249">249</a> SetGabber(O:Object)</div>
<div class="indent1">
Pretty simple, this can change the current speaker in the party. It is used in BG2 to make sure that a creature is talking to the leader of the party, Player1, or CHARNAME, as we affectionately call him.<br />
<br />
</div>

<div class="actionHeader"><a name="250">250</a> CreateCreatureObjectCopy(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</div>
<div class="indent1">
This essentially creates a creature and morphs it into the object. Only appearance are copied, stats are not.<br />
<br />
</div>

<div class="actionHeader"><a name="251">251</a> HideAreaOnMap(S:ResRef*)</div>
<div class="indent1">
The exact opposite of RevealAreaOnMap(), this hides an area from the player's view and use.<br />
<br />
</div>

<div class="actionHeader"><a name="252">252</a> CreateCreatureObjectOffset(S:ResRef*,O:Object*,P:Offset*)</div>
<div class="indent1">
Highly popular, this action simply creates a creature offset from the object. Using CreateCreatureObjectOffset("MYCRE",Player1,[50.50]) would create the creature 50 pixels down and 50 pixels to the right of Player1.<br />
<br />
</div>

<div class="actionHeader"><a name="253">253</a> ContainerEnable(O:Object,I:Bool*BOOLEAN)</div>
<div class="indent1">
Yup, it does what it says. Use this to activate or deactivate a container in an area. It works the same way as TriggerActivation(), but with containers.<br />
<br />
</div>

<div class="actionHeader"><a name="254">254</a> ScreenShake(P:Point*,I:Duration*)</div>
<div class="indent1">
Shakes the game view. The point parameter dictates how far to shake the screen (along the x and y axis). The duration parameter dictates how long the shaking lasts.<br />
<br />
</div>

<div class="actionHeader"><a name="255">255</a> AddGlobals(S:Name*,S:Name2*)</div>
<div class="indent1">
This action will add the variable specified by parameter 2 onto the variable specified by parameter 1. Here's an example:<br />
<br />
<pre class="code">
IF
    Global("Var1","GLOBAL",0)
THEN
  RESPONSE #100
    SetGlobal("Var1","GLOBAL",75) //Var1 = 75
    SetGlobal("Var2","GLOBAL",25) //Var2 = 25
    AddGlobals("Var1","Var2") //Var1 = 100
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="256">256</a> CreateItemNumGlobal(S:Global*,S:Area*,S:ResRef*)</div>
<div class="actionHeader"><a name="256">256</a> CreateItemGlobal(S:Global*,S:Area*,S:ResRef*)</div>
<div class="indent1">
This action creates a quantity of items equal to a global variable on the target. For example, if I have the following in Player1's script, he will create 50 arrows.<br />
<br />
<pre class="code">
IF
  Global("Arrows","LOCALS",0)
THEN
  RESPONSE #100
    SetGlobal("Arrows","LOCALS",50)
    CreateItemNumGlobal("Arrows","LOCALS","AROW01")
END
</pre>
<br />
This could be useful for tracking a certain number of triggers or a certain number of events and creating a varying number of items depending on those events.<br />
<br />
</div>

<div class="actionHeader"><a name="257">257</a> PickUpItem(S:ResRef*)</div>
<div class="indent1">
This action is useful mostly in conjunction with DropItem() for unequipping items. Using PickUpItem("MYITEM") will cause the character to remove the item from the area and put it in his inventory, assuming the inventory is empty and the item exists.<br />
<br />
</div>

<div class="actionHeader"><a name="258">258</a> FillSlot(I:Slot*SLOTS)</div>
<div class="indent1">
This action will attempt to fill a slot in a character's inventory with the appropriate item type. Using FillSlot(SLOT_WEAPON) will look for any items (let's use, SW1H01, for example) in the inventory, and move the first it comes across into the weapon slot. This is a dangerous function because it will not check whether or not an item already exists in the slot. This means that an item already in the slot would be destroyed.<br />
<br />
</div>

<div class="actionHeader"><a name="259">259</a> AddXPObject(O:Object*,I:XP*)</div>
<div class="indent1">
Pretty self-explanatory, this action adds a given amount of XP onto the object selected.<br />
<br />
</div>

<div class="actionHeader"><a name="260">260</a> DestroyGold(I:Gold*)</div>
<div class="indent1">
This will destroy the specified amount of gold from the user.<br />
<br />
</div>

<div class="actionHeader"><a name="261">261</a> SetHomeLocation(P:Point*)</div>
<div class="indent1">
Stores a "home" location into memory for a creature.<br />
<br />
</div>

<div class="actionHeader"><a name="262">262</a> DisplayStringNoName(O:Object*,I:StrRef*)</div>
<div class="indent1">
This acts similarly to DisplayString(), but will not display the name of the object performing the action in the text box.<br />
<br />
</div>

<div class="actionHeader"><a name="263">263</a> EraseJournalEntry(I:STRREF*)</div>
<div class="indent1">
Removes a STRREF from the journal, no matter what section it is (except the user section, since that is drawn from a separate file).<br />
<br />
</div>

<div class="actionHeader"><a name="264">264</a> CopyGroundPilesTo(S:ResRef*,P:Location*)</div>
<div class="indent1">
You use the action in one area, and it copies all the items lying around on the ground in that area to the specified point in the target area. Bioware used it with the transition to Hell and the Pocket Plane. ResRef refers to the area filename rather than any specific items.<br />
<br />
</div>

<div class="actionHeader"><a name="265">265</a> DialogueForceInterrupt(O:Object*)</div>
<div class="actionHeader"><a name="265">265</a> DialogForceInterrupt(O:Object*)</div>
<div class="actionHeader"><a name="266">266</a> StartDialogInterrupt(S:DialogFile*,O:Target*)</div>
<div class="actionHeader"><a name="266">266</a> StartDialogueInterrupt(S:DialogFile*,O:Target*)</div>
<div class="actionHeader"><a name="267">267</a> StartDialogueNoSetInterrupt(O:Object*)</div>
<div class="actionHeader"><a name="267">267</a> StartDialogNoSetInterrupt(O:Object*)</div>
<div class="indent1">
All these actions work the same as their counterpart dialog actions. The only difference is that they are important enough to interrupt other dialogs already in action.<br />
<br />
</div>

<div class="actionHeader"><a name="268">268</a> RealSetGlobalTimer(S:Name*,S:Area*,I:Time*GTimes)</div>
<div class="indent1">
This will set a global timer that measures real time rather than game time.<br />
<br />
</div>

<div class="actionHeader"><a name="269"> 269</a> DisplayStringHead(O:Object*,I:StrRef*)</div>
<div class="indent1">
Heres an example of the DisplayStringHead in use.<br />
<br />
<pre class="code">
IF
  HPPercentLT(Myself,50)
  HasItem(&quot;Potn52&quot;,Myself)
THEN
  RESPONSE #100
    DisplayStringHead(Myself,46150)    //This will display the text 'quaffs a potion'
    UseItem(&quot;Potn52&quot;,Myself)           //over the user of this script's head.
END<br />
</pre>
<br />
</div>

<div class="actionHeader"><a name="270">270</a> PolymorphCopy(O:Object*)</div>
<div class="indent1">
Will morph the appearance of the performer of the action into the object.<br />
<br />
</div>

<div class="actionHeader"><a name="271">271</a> VerbalConstantHead(O:Object*,I:Constant*soundOff)</div>
<div class="indent1">
This action plays the specified sound from the character's soundset.<br />
<br />
</div>

<div class="actionHeader"><a name="272">272</a> CreateVisualEffect(S:Object*,P:Location*)</div>
<div class="indent1">
The Object parameter here should actually be ResRef since it references a VVC file with priority. If a VVC file is not found, it will search for a BAM file. If I were to rename this, I'd call it PlayAnimationPoint().<br />
<br />
</div>

<div class="actionHeader"><a name="273">273</a> CreateVisualEffectObject(S:DialogFile*,O:Target*)</div>
<div class="indent1">
Again, a weird first parameter. DialogFile should actually be ResRef. If a VVC file is found, it will play that, and if not, it will try to play a BAM of the filename specified. The difference between this and CreateVisualEffect() is that this references an object.<br />
<br />
</div>

<div class="actionHeader"><a name="274">274</a> AddKit(I:Kit*KIT)</div>
<div class="indent1">
This removes the creatures current kit, and then add the specified kit. Abilities from any previous kit are removed.<br />
AddKit(0) will remove a creatures current kit.<br />
Class restrictions apply for kits. When attempting adding an invalid kit, the existing kit (if any) will be replied.<br />
<br />
</div>

<div class="actionHeader"><a name="225">225</a> MoveBetweenAreasEffect(S:Area*,S:Graphic*,P:Location*,I:Face*)</div>
<div class="indent1">
See MoveBetweenAreas(). This one just plays a graphic effect when the creature vanishes.<br />
<br />
</div>

<div class="actionHeader"><a name="227">227</a> CreateCreatureObjectEffect(S:ResRef*,S:Graphic*,O:Object*)</div>
<div class="indent1">
See CreateCreatureObject(). This one just plays a graphic effect when the creature is created.<br />
<br />
</div>

<div class="actionHeader"><a name="250">250</a> CreateCreatureObjectCopyEffect(S:ResRef*,S:Graphic*,O:Object*)</div>
<div class="indent1">
See CreateCreatureObjectCopy(). This one just plays a graphic effect when the creature is created.<br />
<br />
</div>

<div class="actionHeader"><a name="275">275</a> StartCombatCounter()</div>
<div class="indent1">
I've never seen this used, but I imagine it does what it says it does.<br />
<br />
</div>

<div class="actionHeader"><a name="276">276</a> EscapeAreaNoSee()</div>
<div class="indent1">
Erm... no.<br />
<br />
</div>

<div class="actionHeader"><a name="277">277</a> EscapeAreaObject(O:Object*)</div>
<div class="indent1">
Tells the object to use EscapeArea(). Rather pointless, since you could use ActionOverride().<br />
<br />
</div>

<div class="actionHeader"><a name="277">277</a> EscapeAreaObjectMove(S:ResRef*,O:Object*,I:X*,I:Y*,I:Face*)</div>
<div class="indent1">
Works like EscapeAreaMove(), but you can specify the object. Also pointless since this can be done with ActionOverride().<br />
<br />
On a side note, this is what is called an overloaded function. It has the same numerical value as EscapeAreaObject(), but is a different function based on the types of parameters you feed it.<br />
<br />
</div>

<div class="actionHeader"><a name="278">278</a> TakeItemReplace(S:Give*,S:Take*,O:Object*)</div>
<div class="indent1">
This will replace the item in second parameter with the item in first parameter. If the target does not have the item in the second parameter, the item in the first parameter will still be created in the inventory. Note that this action will not automatically equip the item that's created, which is extraordinarily annoying. <br />
<br />
</div>

<div class="actionHeader"><a name="279">279</a> AddSpecialAbility(S:ResRef*)</div>
<div class="indent1">
Adds the specified spell to the creature running the script. Displays a message in the form &lt;creature_name&gt; has gained a special ability: "Ablity".<br />
<br />
</div>

<div class="actionHeader"><a name="280">280</a> DestroyAllDestructableEquipment()</div>
<div class="indent1">
It tells you what it does. Items flagged as indestructible (magical) will not be destroyed on the performer of this action.<br />
<br />
</div>

<div class="actionHeader"><a name="281">281</a> RemovePaladinHood()</div>
<div class="indent1">
Changes a Paladin to Fallen Paladin status.<br />
<br />
</div>

<div class="actionHeader"><a name="282">282</a> RemoveRangerHood()</div>
<div class="indent1">
Changes a Ranger to Fallen Ranger status.<br />
<br />
</div>

<div class="actionHeader"><a name="283">283</a> RegainPaladinHood()</div>
<div class="indent1">
Restores a Fallen Paladin to normal Paladin status. Increments Reputation to 10?<br />
<br />
</div>

<div class="actionHeader"><a name="284">284</a> RegainRangerHood()</div>
<div class="indent1">
Restores a Fallen Ranger to normal Ranger status. Increments Reputation to 10?<br />
<br />
</div>

<div class="actionHeader"><a name="285">285</a> PolymorphCopyBase(O:Object*)</div>
<div class="indent1">
See, here's where knowing about VEquip works. PolymorphCopyBase() means that it will take the base animation type--no armor, no special colors--and apply it to the performer of the action.<br />
<br />
</div>

<div class="actionHeader"><a name="286">286</a> HideGUI()</div>
<div class="indent1">
Hides the docking borders, menus, etc. on the sides of the screen. This is usually used for cutscenes in conjunction with UnhideGUI().<br />
<br />
</div>

<div class="actionHeader"><a name="287">287</a> UnhideGUI()</div>
<div class="indent1">
Undoes the devious work of HideGUI().<br />
<br />
</div>

<div class="actionHeader"><a name="288">288</a> SetName(I:STRREF*)</div>
<div class="indent1">
Changes the name of the actor to the specified STRREF.<br />
<br />
</div>

<div class="actionHeader"><a name="289">289</a> AddSuperKit(I:Kit*KIT)</div>
<div class="indent1">
This will set the creatures kit to the kit specified. Abilities from any previous kits are kept.<br />
Class restrictions apply for kits. When attempting adding an invalid kit, the existing kit (if any) will be replied.<br />
<br />
</div>

<div class="actionHeader"><a name="290">290</a> PlayDeadInterruptable(I:Time*)</div>
<div class="actionHeader"><a name="290">290</a> PlayDeadInterruptible(I:Time*)</div>
<div class="indent1">
This, unlike the other PlayDead() action, allows for other conditions to be checked and acted upon during the alotted time interval.<br />
<br />
</div>

<div class="actionHeader"><a name="291">291</a> MoveGlobalObject(O:Object*,O:Target*)</div>
<div class="indent1">
This action says to jump the object in the first parameter to the object in the second parameter. The object in the first parameter does NOT have to be in the same area as the target, but must already be present in the saved game (as either an NPC or MakeGlobal()).<br />
<br />
</div>

<div class="actionHeader"><a name="292">292</a> DisplayStringHeadOwner(S:Item*,I:STRREF*)</div>
<div class="indent1">
Used on Lilarcor. Come on, you know how this works. It displays the specified STRREF over the head of the player with the referenced item. Only checks current party members.<br />
<br />
</div>

<div class="actionHeader"><a name="293">293</a> StartDialogOverride(S:DialogFile*,O:Target*)</div>
<div class="indent1">
I'm not too sure about this one, though I imagine it takes precedence over all over dialogs.<br />
<br />
</div>

<div class="actionHeader"><a name="294">294</a> StartDialogOverrideInterrupt(S:DialogFile*,O:Target*)</div>
<div class="indent1">
See above. This one interrupts, too.<br />
<br />
</div>

<div class="actionHeader"><a name="295">295</a> CreateCreatureCopyPoint(S:ResRef*,O:Object*,P:Dest*)</div>
<div class="indent1">
See any of the other CreateCreatureCopy type actions. This one just clones the ResRef creature into the object creature at the point specified.<br />
<br />
</div>

<div class="actionHeader"><a name="296">296</a> BattleSong()</div>
<div class="indent1">
Plays a bard's battle song.<br />
<br />
</div>

<div class="actionHeader"><a name="297">297</a> MoveToSavedLocation(S:GLOBAL*,S:Area*)</div>
<div class="actionHeader"><a name="297">297</a> MoveToSavedLocationn(S:GLOBAL*,S:Area*)</div>
<div class="indent1">
Moves the creature running the script to the previously saved specified location.<br />
<br />
<pre class="code">
IF
  Global("MoveToLocation","LOCALS",0)
THEN
 RESPONSE #50
    SetGlobal("MoveToLocation","LOCALS",1)
    MoveToSavedLocationn("DefaultLocation","LOCALS")
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="298">298</a> ApplyDamage(O:Object*,I:Amount*,I:Type*DMGTYPE)</div>
<div class="indent1">
As it says. ApplyDamage(Myself,5,FIRE) will cause 5 fire damage to me.<br />
<br />
</div>

<div class="actionHeader"><a name="299">299</a> BanterBlockTime(I:Time*)</div>
<div class="indent1">
SimDing0 says: "[the banter timers] are hardcoded, and every time one expires, an NPC's B****.DLG is called." This action extends the time that it takes for a banter timer to expire.<br />
<br />
</div>

<div class="actionHeader"><a name="300">300</a> BanterBlockFlag(I:State*Boolean)</div>
<div class="indent1">
Stops the timer expiring until it's set to false.<br />
<br />
</div>

<div class="actionHeader"><a name="301">301</a> AmbientActivate(O:Object*,I:State*BOOLEAN)</div>
<div class="indent1">
Despite referring to Ambients, this action actually activates and deactivates Animations in an area. AmbientActivate("FIRE",TRUE) would start up a fire animation if it exists in the area. AmbientActivate("FIRE",FALSE) would remove the animation from the screen.<br />
<br />
</div>

<div class="actionHeader"><a name="302">302</a> AttachTransitionToDoor(S:GLOBAL*,O:Object*)</div>
<div class="indent1">
This is untested, but I'd guess that the first parameter refers to a transition trigger and the second parameter refers to a door type in an area. In this manner, the trigger is activated and deactivated based on the open state of the door... but that's just supposition.<br />
<br />
</div>

<div class="actionHeader"><a name="303">303</a> DeathMatchPositionGlobal(S:Areaname*,P:Dest*,I:Player*)</div>
<div class="actionHeader"><a name="304">304</a> DeathMatchPositionArea(S:Areaname*,P:Dest*,I:Player*)</div>
<div class="actionHeader"><a name="305">305</a> DeathMatchPositionLocal(S:Areaname*,P:Dest*,I:Player*)</div>
<div class="indent1">
These actions actually appear in a variety of scripts packaged with the game. Apparently, the original intent was to allow player deathmatch type multiplayer, but it was dropped for an unknown reason. These effects are untested and I have no idea what they do.<br />
<br />
</div>

<div class="actionHeader"><a name="306">306</a> ApplyDamagePercent(O:Object*,I:Amount*,I:Type*DMGTYPE)</div>
<div class="indent1">
Pretty simple. ApplyDamagePercent(Myself,50,COLD), if I had 4 HP, would give me 2 COLD damage.<br />
<br />
</div>

<div class="actionHeader"><a name="307">307</a> SG(S:Name*,I:Num*)</div>
<div class="indent1">
Just a shortcut for SetGlobal(). This one ONLY sets global variables, not local or area. Using SetGlobal("Variable","GLOBAL",5) would be equivalent to SG("Variable",5).<br />
<br />
</div>

<div class="actionHeader"><a name="308">308</a> AddMapNote(P:Position*,I:StringRef*)</div>
<div class="indent1">
This will add a map note onto the current area's mini-map at the position specified. The position is not determined on the mini-map, but on the actual area background.<br />
<br />
</div>

<div class="actionHeader"><a name="309">309</a> DemoEnd()</div>
<div class="indent1">
Ends the demo and sends you back to the game selection screen.<br />
<br />
</div>

<div class="actionHeader"><a name="310">310</a> MoveGlobalsTo(S:FromArea*,S:ToArea*,P:Location*)</div>
<div class="indent1">
Untested, but I'm fairly sure that this will take all creatures present in the saved game that are currently in the FromArea parameter, and moves them to the Location in the ToArea parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="311">311</a> DisplayStringWait(O:Object*,I:StrRef*)</div>
<div class="indent1">
This works likes DisplayStringHead. The Wait part either refers to waiting for a sound to finish playing before it fades away or for waiting for another DisplayStringHead() before disappearing... or something.<br />
<br />
</div>

<div class="actionHeader"><a name="312">312</a> StateOverrideTime(I:Time*)</div>
<div class="actionHeader"><a name="313">313</a> StateOverrideFlag(I:State*Boolean)</div>
<div class="indent1">
All creatures in the current area(?) ignore the following states flags for the time specified, or until a save-game reload. The creatures still have the state flags set. This action mainly seems to be used to get player characters to look like they are paying attention to anything that is happening around them.
The following states are overridden:<br />
<div class="indent1">
  state_sleeping<br />
  state_panic<br />
  state_stunned<br />
  state_helpless<br />
  state_confused<br />
</div>
<br />
The following states are not overridden:<br />
<div class="indent1">
  state_invisible<br />
  state_frozen_death<br />
  state_stone_death<br />
  state_dead<br />
  state_silence<br />
  state_charmed<br />
  state_improved invisibility<br />
  state_mirror_image<br />
</div>
<br />
Other states are untested.<br />
<br />
</div>

<div class="actionHeader"><a name="314">314</a> SetRestEncounterProbabilityDay(I:Prob*)</div>
<div class="indent1">
In an ARE, there is Sleep Interrupt information that marks the chance of being interrupted during rest. You can modify the probability of that during the day time with this action.<br />
<br />
</div>

<div class="actionHeader"><a name="315">315</a> SetRestEncounterProbabilityNight(I:Prob*)</div>
<div class="indent1">
See above. This one works during the night.<br />
<br />
</div>

<div class="actionHeader"><a name="316">316</a> SoundActivate(O:Object*,I:State*BOOLEAN)</div>
<div class="indent1">
Enables or disables the named sounds ambient (object parameter) based on the state parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="317">317</a> PlaySong(I:Song*)</div>
<div class="indent1">
The Song parameter refers to a value in the SONGLIST.2da.<br />
<br />
</div>

<div class="actionHeader"><a name="318">318</a> ForceSpellRange(O:Target,I:Spell*Spell)</div>
<div class="indent1">
Untested, but I'm under the impression that this will force the specified spell if the target is within range of the spell.<br />
<br />
</div>

<div class="actionHeader"><a name="319">319</a> ForceSpellPointRange(P:Target,I:Spell*Spell)</div>
<div class="indent1">
Untested, but I'm under the impression that this will force the specified spell if the point is within range of the spell.<br />
<br />
</div>

<div class="actionHeader"><a name="320">320</a> SetPlayerSound(O:Object*,I:STRREF*,I:SlotNum*SNDSLOT)</div>
<div class="indent1">
Used to change a sound reference on a character or creature. This can also be used to change the biography. The biography slot is listed as EXISTANCE5. For an example of how this is used, see Edwin using that weird scroll or whatever...<br />
<br />
</div>

<div class="actionHeader"><a name="321">321</a> SetAreaRestFlag(I:CanRest*)</div>
<div class="indent1">
As it says.<br />
<br />
</div>

<div class="actionHeader"><a name="322">322</a> FakeEffectExpiryCheck(O:Object*,I:Ticks*)</div>
<div class="indent1">
Removes effects with a duration timing mode, from the specified object, if the remaining duration is below the ticks parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="323">323</a> CreateCreatureImpassableAllowOverlap(S:NewObject*,P:Location*,I:Face*)</div>
<div class="indent1">
This will allow a creature to be created absolutely anywhere, whether it's impassable or directly on top of another creature.<br />
<br />
</div>

<div class="actionHeader"><a name="324">324</a> SetBeenInPartyFlags()</div>
<div class="indent1">
This action sets the BeenInParty flag in the cre file of the active creature. This action also triggers appropriate dialog and script file changes (as referenced in PDIALOG.2da).<br />
<br />
</div>

<div class="actionHeader"><a name="325">325</a> GoToStartScreen()</div>
<div class="indent1">
What it says.<br />
<br />
</div>

<div class="actionHeader"><a name="326">326</a> ExitPocketPlane()</div>
<div class="indent1">
Teleports the part to the area from which the "Area Switch: Pocket Plane" effect was last used. If this effect has never been used, or the party is not in the Pocket Plane this action has no effect.<br />
<br />
</div>

<div class="actionHeader"><a name="327">327</a> AddXP2DA(S:Column*)</div>
<div class="indent1">
This action looks like it was originally intended to add different amounts of XP to the party based on level. However, as it is now, there is only one value for each quest listed. In fact, the parameter should be called Row instead of Column since the values scroll across rather than down. The 2DA it refers to is XPLIST.2da.<br />
<br />
</div>

<div class="actionHeader"><a name="328">328</a> RemoveMapNote(P:Position*,I:STRREF*)</div>
<div class="indent1">
This will remove a map note onto the current area's mini-map at the position specified. The position is not determined on the mini-map, but on the actual area background.<br />
<br />
</div>

<div class="actionHeader"><a name="329">329</a> TriggerWalkTo(O:Object*)</div>
<div class="indent1">
Untested.<br />
<br />
</div>

<div class="actionHeader"><a name="330">330</a> AddAreaType(I:Type*AREATYPE)</div>
<div class="indent1">
This function will add area type flags, such as outdoor, dungeon, etc. onto the current area. Note that the value is OR'd.<br />
<br />
</div>

<div class="actionHeader"><a name="331">331</a> RemoveAreaType(I:Type*AREATYPE)</div>
<div class="indent1">
This function will remove area type flags, such as outdoor, dungeon, etc. from the current area.<br />
<br />
</div>

<div class="actionHeader"><a name="332">332</a> AddAreaFlags(I:Type*AREAFLAG)</div>
<div class="indent1">
This function will add flags, such as Saving and Tutorial states, from the current area.<br />
<br />
</div>

<div class="actionHeader"><a name="333">333</a> RemoveAreaFlags(I:Type*AREAFLAG)</div>
<div class="indent1">
This function will remove flags, such as Saving and Tutorial states, from the current area.<br />
<br />
</div>

<div class="actionHeader"><a name="334">334</a> StartDialogNoName(S:DialogFile*,O:Target*)</div>
<div class="indent1">
Acts the same as StartDialog(), but does not display anything on the left where the speaker's name normally would appear.<br />
<br />
</div>

<div class="actionHeader"><a name="335">335</a> SetTokenGlobal(S:GLOBAL*,S:Area*,S:Token*)</div>
<div class="indent1">
This is an incredibly useful action. I use it to track separate reputation values for organizations, to track gambling funds, to display mana values, etc. In short, it takes the value of a global variable and sets it in a token. By referencing the token's STRREF, you can then display the proper value. For example:<br />
<br />
<pre class="code">
IF
  Global("Value","GLOBAL",0)
THEN
  RESPONSE #100
    SetGlobal("Value","GLOBAL",100)
    SetTokenGlobal("Value","GLOBAL","PPOINTS")
    DisplayStringHead(Myself,63037) //63037 is &lt;PPOINTS&gt; for me
END
</pre>
<br />
This will display 100 over my head.<br />
<br />
</div>

<div class="actionHeader"><a name="336">336</a> MakeGlobal()</div>
<div class="indent1">
Without a doubt, a great action, MakeGlobal() adds the creature performing the action into the saved game. This allows NPC's to be added on the fly, important non-party characters to be moved and referenced  without being in a loaded area, and familiars to be added and travel with the party.<br />
<br />
</div>

<div class="actionHeader"><a name="337">337</a> ReallyForceSpellPoint(P:Target*,I:Spell*Spell)</div>
<div class="indent1">
See ReallyForceSpell(). This one just forces to a point instead of an object.<br />
<br />
</div>

<div class="actionHeader"><a name="338">338</a> SetCutSceneLite(I:BOOL*BOOLEAN)</div> 
<div class="actionHeader"><a name="338">338</a> CutAllowScripts(I:BOOL*BOOLEAN)</div>
<div class="actionHeader"><a name="338">338</a> SetCursorState(I:BOOL*BOOLEAN)</div>
<div class="indent1">
This is another very, very useful action. SetCutSceneLite(TRUE) works effectively the same as StartCutSceneMode() in that it disables the player from clicking or controlling the characters, but it's different in that all scripts--character, NPC, AI, etc. continue running. This is great for cutscenes with different endings or special triggers that need to calculate something while performing a cut.<br />
<br />
</div>

<div class="actionHeader"><a name="339">339</a> SwingOnce()</div>
<div class="indent1">
See Swing(). The only difference is that this does it once. This can be used to mimic sparring and bow &amp; arrow practice.<br />
<br />
</div>

<div class="actionHeader"><a name="31">31</a> SpellRES(S:RES*,O:Target*)</div>
<div class="actionHeader"><a name="95">95</a> SpellPointRES(S:RES*,P:Target*)</div>
<div class="actionHeader"><a name="113">113</a> ForceSpellRES(S:RES*,O:Target)</div>
<div class="actionHeader"><a name="114">114</a> ForceSpellPointRES(S:RES*,P:Target)</div>
<div class="actionHeader"><a name="147">147</a> RemoveSpellRES(S:RES*)</div>
<div class="actionHeader"><a name="160">160</a> ApplySpellRES(S:RES*,O:Target)</div>
<div class="actionHeader"><a name="181">181</a> ReallyForceSpellRES(S:RES*,O:Target)</div>
<div class="actionHeader"><a name="191">191</a> SpellNoDecRES(S:RES*,O:Target*)</div>
<div class="actionHeader"><a name="192">192</a> SpellPointNoDecRES(S:RES*,P:Target*)</div>
<div class="actionHeader"><a name="240">240</a> ReallyForceSpellDeadRES(S:RES*,O:Target)</div>
<div class="actionHeader"><a name="318">318</a> ForceSpellRangeRES(S:RES*,O:Target)</div>
<div class="actionHeader"><a name="319">319</a> ForceSpellPointRangeRES(S:RES*,P:Target)</div>
<div class="actionHeader"><a name="337">337</a> ReallyForceSpellPointRES(S:RES*,P:Target*)</div>
<div class="indent1">
These are great actions and are available in both ToB and SoA provided you had them listed in your action.ids. These are all overloaded functions, meaning they have the same action values as their earlier counterparts that don't use a RESREF. However, because the parameter types are different, they work differently. All of these work exactly the same as the previous spell type actions, but instead of referencing a value from the spell.ids, they reference spell filenames directly.<br />
<br />
</div>

<div class="actionHeader"><a name="340">340</a> StaticSequence(O:Object*,I:Sequence*)</div>
<div class="indent1">
Plays the specified sequence in the animation named "object" in the current the current area.<br />
<br />
</div>

<div class="actionHeader"><a name="341">341</a> StaticPalette(S:Palette*,O:Object*)</div>
<div class="indent1">
Changes the palate (bmp file) of the specified animation object.<br />
<br />
</div>

<div class="actionHeader"><a name="342">342</a> DisplayStringHeadDead(O:Object*,I:StrRef*)</div>
<div class="indent1">
See DisplayStringHead(). This just targets a dead object.<br />
<br />
</div>

<div class="actionHeader"><a name="343">343</a> MoveToExpansion()</div>
<div class="indent1">
Used in ToB to move the characters and change the worldmap. Also switches scripts and dialogs to the X25 versions.<br />
<br />
</div>

<div class="actionHeader"><a name="344">344</a> StartRainNow()</div>
<div class="indent1">
Whereas using Weather(RAIN) would take about 10 seconds to darken the area, then slowly start the rain, StartRainNow() will not darken the area--it will just start the rain overlay immediately on use.<br />
<br />
</div>

<div class="actionHeader"><a name="345">345</a> SetSequence(I:Sequence*SEQ)</div>
<div class="indent1">
SimDing0 says, "It causes the character to perform one of the animation sequences, listed in SEQ.IDS."<br />
<br />
</div>

<div class="actionHeader"><a name="346">346</a> DisplayStringNoNameHead(O:Object*,I:StrRef*)</div>
<div class="indent1">
With certain flags set in the baldur.ini, DisplayStringHead() will also cause the string to be displayed in the message box. This action makes sure that the name of the performer of the action is never, ever displayed.<br />
<br />
</div>

<div class="actionHeader"><a name="347">347</a> SetEncounterProbability(S:FromArea*,S:ToArea*,I:Probability*)</div>
<div class="indent1">
The worldmap holds values that determine the travelling encounter probability between areas. This action allows you to control these values. This is only useful for areas  that appear on the worldmap.<br />
<br />
</div>

<div class="actionHeader"><a name="348">348</a> SetupWish(I:Column*,I:Count*)</div> 
<div class="actionHeader"><a name="349">349</a> SetupWishObject(O:Creature*,I:Count*)</div>
<div class="indent1">
From a dialog: <br />
IF ~CheckStatGT(LastTalkedToBy,17,WIS)~ THEN DO ~SetupWish(4,1)~ GOTO 8<br />
<br />
IF ~Global("WishPower01","GLOBAL",1)~ THEN REPLY #72526 /* ~'Breach' on everyone in the area, including the party.~ */ DO ~ActionOverride(LastTalkedToBy,ForceSpellRES("spwish26",Myself))<br />
ApplySpell(Myself,POOF_GONE)~ EXIT<br />
<br />
The key is the Global("WishPower**","GLOBAL",1). The highest is "WishPower37", and the highest number in the WISH.2DA is also 37. There are a total of 46 SPWISH**.SPL files, but 9 aren't used:<br />
SPWISH01 STR Bonus +1<br />
SPWISH02 INT Bonus +1<br />
SPWISH03 DEX Bonus +1<br />
SPWISH04 CON Bonus +1<br />
SPWISH05 WIS Bonus +1<br />
SPWISH06 CHA Bonus +1<br />
SPWISH07 Restoration<br />
SPWISH09 Globe of Blades<br />
SPWISH15 Gain 10,000 Gold (Party)<br />
<br />
Looking at the spells that have a "WishPower**" next to them, this list can be derived (sorted by Wisdom level (E=enemies, P=party, C=caster A=All)):<br />

<pre>
Low (9-)            Medium (10-14)      High (15-17)        Ultra (18+)

Heal             E  Heal             E  Heal             E  TS &amp; IA (X2)     P 
Improved Haste   E  Improved Haste   E  Improved Haste   E  Improved Haste   E
Dark Planetar    E  Silenced         A  Dark Planetar    E  Lose 10,000 gp   P
Level Drain      P  Level Drain      P  WIS (3)          P  Level Drain      P 
Hit Points -50%  C  Hit Points -50%  C  TS &amp; IA (X2)     P  Hit Points -50%  C
Hit Points -15%  P  Haste            A  Hit Points -15%  P  Mass Raise Dead  P
Lose Spells      C  Lose Spells      C  Lose Spells      C  WIS (3)          P
STR (3)          P  STR (3)          P  STR (3)          P  Haste            A
CON (3)          P  CON (3)          P  Stats (25)       P  Stats (25)       P
DEX (3)          P  DEX (3)          P  DEX (3)          P  Rest &amp; Remem.    P
INT (3)          P  INT (3)          P  Silenced         A  Bad Luck         A
Slowed           P  Slowed           P  Rest &amp; Remem.    P  Meteor Swarm     C
Restoration      P  Restoration      P  Improved Haste   P  Restoration      P
Gr. Deathblow    P  Gr. Deathblow    P  Gr. Deathblow    P  Gr. Deathblow    P
Hardiness        P  Hardiness        P  Breach           E  Hardiness        P
Create Wand      C  Create Wand      C  Create Wand      C  Create Wand      C
Create Potion    C  Create Potion    C  Create Potion    C  Create Potion    C
Breach           A  Breach           A  Breach           A  Improved Haste   P
Wing Buffet      A  Wing Buffet      A  Wing Buffet      A  Breach           E
Heal             A  Heal             A  Heal             A  Heal             A
STR (18)         A  STR (18)         A  STR (18)         A  STR (18)         A
Miscast Magic    A  Miscast Magic    A  Miscast Magic    A  Miscast Magic    A 
Magic Resist     A  Magic Resist     A  Magic Resist     A  Magic Resist     A
Abi-Dalzim's     A  Abi-Dalzim's     A  Abi-Dalzim's     A  Abi-Dalzim's     A
Intoxicated      A  Intoxicated      A  Intoxicated      A  Intoxicated      A
Bad Luck         A  Bad Luck         A  Bad Luck         A
                / Breach             E  Stats (25)       P \
            OR &lt;                                            &gt; OR
                \ Rest &amp; Remem.      P Mass Raise Dead   P /
</pre><br />
In conclusion, ~SetupWish(4,1)~ tells the game to go down column 4 of the WISH.2DA and do a RandomNum(2,1) (or some such) starting at the top, and working it's way down. If the RandomNum returns with a 1, then the game sets the appropriate Global for that spell.<br />
Once the maximum "wish choices" have been selected, the dialog continues and casts the  selected spell.<br />
<br />
</div>

<div class="actionHeader"><a name="350">350</a> LeaveAreaLUAEntry(S:Area*,S:Entry*,P:Point*,I:Face*)</div>
<div class="indent1">
See LeaveAreaLUA(). The difference is that this will move the character to the specified Entry Point before travelling to the area.<br />
<br />
</div>

<div class="actionHeader"><a name="351">351</a> LeaveAreaLUAPanicEntry(S:Area*,S:Entry*,P:Point*,I:Face*)</div>
<div class="indent1">
See LeaveAreaLUAPanic(). The difference is that this will move the character to the specified Entry Point before travelling to the area.<br />
</div>

</div>
</body>
</html>