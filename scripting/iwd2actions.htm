<html>
<head>
<title> IWD2 Script Actions </title>
<link rel="stylesheet" type="text/css" href="general.css" />
</head>

<body>
<div class="title_main"> IWD2 Script Actions </div>
Blantantly copied from the BG2 Script actions<br />
<br />

<div class="center">
<a href="#20"> 20 </a> || <a href="#40"> 40 </a> || <a href="#60"> 60 </a> || <a href="#82"> 82 </a> || <a href="#100"> 100 </a> || 
<a href="#120"> 120 </a> || <a href="#140"> 140 </a> || <a href="#160"> 160 </a> || <a href="#180"> 180 </a> || <a href="#200"> 200 </a> || 
<a href="#229"> 229 </a> || <a href="#240"> 240 </a> || <a href="#260"> 260 </a> || <a href="#281"> 281 </a> || <a href="#300"> 300 </a> || 
<a href="#320"> 320 </a> || <a href="#325"> 325 </a>
</div>

<div class="actionHeader"><a name="0">0 NoAction()</a></div>
<div class="indent1">
Is used sometimes as an alternate to doing something. As an example to make characters 
walk around randomly or stand in one place doing nothing:<br />
<br />
<pre class="code">
IF
  True()
THEN
  RESPONSE #50
    RandomWalk()
  RESPONSE #50
    NoAction()
END
</pre>
<br />
This command also sets a creatures ModalState to 0, and so can be used, for example, to stop Bard Song in a kit.<br />
<br />
<pre class="code">
IF
&nbsp; &nbsp;ModalState(BATTLESONG)
THEN
&nbsp;RESPONSE#100
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NoAction()
END
</pre>
<br />
NoAction() is also commonly used as a hanging action in targeting blocks. Using it 
is not necessary, but is good practice. NoAction() will never be hit since the block 
always returns false, but the NoAction() allows other scripting programs to accurately 
check for errors. For example:<br />
<br />
<pre class="code">
IF
  See(NearestEnemyOf(Myself))
  False()
THEN
  RESPONSE #100
    NoAction()
END
</pre>
<br />
</div>

<div class="actionHeader"><a name="1"> 1 ActionOverride(O:Actor*,A:Action*)</a></div>
<div class="indent1">
Is used to tell an actor to do something overriding his own actions. It is mostly 
used in cutscenes, but it can be used for anything. The following is from the 
Irenicus cutscene after leaving his abode in chapter 1. It shows a good example of 
using this command.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JumpToPoint([869.340])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveViewPoint([909.346],INSTANT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player2,JumpToPoint([825.370]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player3,JumpToPoint([886.384]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player4,JumpToPoint([952.386]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player5,JumpToPoint([987.362]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player6,JumpToPoint([1005.404]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Face(10)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player2,Face(10))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player3,Face(10))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player4,Face(8))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player5,Face(6))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(Player6,Face(6))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(&quot;Anomen&quot;,JumpToPoint([909.346]))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(&quot;Anomen&quot;,Face(10))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FadeFromColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(&quot;Anomen&quot;,StartDialogueNoSet(Player1))<br />
END
</div>
<br />
</div>

<div class="actionHeader"><a name="2">2 AddWayPoint(P:WayPoint*)</a></div>
<div class="indent1">
Is used to set waypoints for a cre to move from one location to another. Examples of 
this are barmaids and anyone moving in a set pattern.<br />
<br />
This is how you would script to make the way points, a good place to add this is in 
the area scripts. With the ([Number.Number]) being the X and Y coordinates.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;Global(&quot;KRNEWWAY&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetGlobal(&quot;KRNEWWAY&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AddWayPoint([100.200])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AddWayPoint([200.300])<br />
END<br />
</div>
<br />
The following Script is taken from the barmaid at the Copper Coronet the way points are 
already set in the Area file as triggers this is an example of how to move to the waypoints:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;Detect([PC])<br />
&nbsp&nbsp;Allegiance(Myself,NEUTRAL)<br />
&nbsp&nbsp;Global(&quot;quest1&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveToObject(&quot;Way3&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionOverride(&quot;DRUNK2&quot;,DisplayStringHead(Myself,4592)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DisplayStringHead(Myself,4604)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveToObject(&quot;Way4&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveToObject(&quot;Way3&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DisplayStringHead(Myself,4611)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetGlobal(&quot;quest1&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="3">3 Attack(O:Target*)</a></div>
<div class="indent1">
Is used to Attack something until it dies. It is used in place of attack reevaluate if 
you dont want to reevaluate, just want to continue attacking the same target. I use it 
to insure high priority creatures are dead before moving on to lower priority targets 
in my scripts. I would use the following to attack mages with tanks until they are dead. 
I check for slimes and wyverns because those are also listed as MAGE_ALL).<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF]) // if i see enemies<br />
&nbsp; Class(LastSeenBy(),MAGE_ALL)// mages<br />
&nbsp; !Race(LastSeenBy(),SLIME)//not slimes though<br />
&nbsp; !Race(LastSeenBy(),WYVERN)// or wyverns<br />
&nbsp; !InParty(LastSeenBy())// and not in party<br />
&nbsp;THEN<br />
&nbsp;&nbsp;&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Attack(LastSeenBy())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="5">5 BackStab(O:Target*)</a></div>
<div class="indent1">
Is used to backstab the target.However some enemies like Dragons and Golems are immune 
to backstab so it wont work on them. I rarely see this command in a script because any of the attack actions work as a backstab if you are a thief and hidden and you attack with a valid backstab weapon (like dagger, shortsword, katana,etc...) from behind.<br />
<br />
(Note it was pointed out to me by the moderator of another scripting group that this 
command is broken and does not work, and has been confirmed by Bioware to crash the game 
thats why I rarely see it in a script he he)<br />
<br />
So if you want to Backstab, dont script it as backstab, just make sure you are invisible 
and behind the target with a backstab weapon and you dont miss the first swing.<br />
<br />
<div class="code">
IF<br />
&nbsp;See(NearestEnemyOf())// see enemy<br />
&nbsp;Range(NearestEnemyOf(),4)<br />
&nbsp;!Race(NearestEnemyOf(),DRAGON)//not dragon<br />
&nbsp;!Race(NearestEnemyOf(),GOLEM)// not golem<br />
&nbsp;!InParty(NearestEnemyOf(Myself))//not in party<br />
&nbsp;OR(2)<br />
&nbsp; &nbsp;StateCheck(Myself,STATE_INVISIBLE) // im invisible<br />
&nbsp; &nbsp;StateCheck(Myself,STATE_IMPROVEDINVISIBLITY) // or improved invisible<br />
THEN <br />
&nbsp;&nbsp;&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Attack(NearestEnemyOf())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="7">7 CreateCreature(S:NewObject*,P:Location*,I:Face*)</a></div>
<div class="indent1">
Is used to create anything from creature files (.cre like Orc01.cre) to NPC's (.cre 
as in Aerie.cre). With NewObject being the creature name, Location being [x.y] and 
direction being which way they are facing (from 0-15, 0 being south and the facing 
values increasing as the character turns clockwise) .<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CreateCreature(&quot;ccguard1&quot;,[2338.412],14)<br />
&nbsp;&nbsp;&nbsp;&nbsp;CreateCreature (&quot;CRENAME&quot;,[X.Y],D)<br />
<br />
An example of this command is spawning additional guards in the Copper Coronet via 
the area script (AR0406) when the Player Characters are discovered in the back room (where they are not supposed to be).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;CopperGuards&quot;,&quot;GLOBAL&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard1&quot;,[2338.412],14)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard2&quot;,[2318.457],14)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard1&quot;,[2749.793],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard2&quot;,[2791.831],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard1&quot;,[1981.762],14)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;ccguard1&quot;,[1286.1500],14)<br />
END<br />
</div>
<br />
Another use for this command is spawning creatures near the protagonist. Heres an 
example of failed thieving:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Opened([ANYONE])<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([NOTGOOD])<br />
&nbsp;&nbsp;&nbsp; &nbsp;!StateCheck(LastTrigger,STATE_INVISIBLE)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!StateCheck(LastTrigger,STATE_IMPROVEDINVISIBILITY)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DisplayString(LastTrigger,9896)<br />
//Someone has noticed you! You hear the guards being<br />
// summoned<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;WATCHN&quot;,[-1.-1],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;WATCHN2&quot;,[-1.-1],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;WATCHN2&quot;,[-1.-1],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="8">8 Dialogue(O:Object*)<br />
8 Dialog(O:Object*)</a></div>
<div class="indent1">
Because these 2 actions have the same # (8) they both have the same function. To 
start a dialog file with the listed object.<br />
Dialog files are found in Dialog.tlk and use the same language as scripting commands. 
If the creature using this action has been assigned a dialog that has all top level 
conditions returning false, this action will not work.<br />
<br />
In the example Yeslick will start a conversation if both of the following are true: 
the global timer &quot;Yeslick&quot; is expired and the Global Variable &quot;FLOODED&quot; is at 0.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;Yeslick&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;FLOODED&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Dialogue([PC])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="9">9 DropItem(S:Object*,P:Location*)</a></div>
<div class="indent1">
Is used to drop an object to the [x.y] coordinates. An Examples I created is dropping 
a scroll on the ground after the PC's rotate a wheel by clicking on it. Note the 
object running the script must be carrying the object to drop it.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Clicked([ANYONE])<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(LastTrigger,12)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;Global(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; DisplayStringHead(Myself,48334)// you may rotate the<br />
// wheel if you want<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
<br />
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Clicked([ANYONE])<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(LastTrigger,12)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;Global(&quot;KRFreeItem&quot;,&quot;GLOBAL&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
DropItem(&quot;SCRL1B&quot;,345.1210)<br />
END<br />
</div>
<br />
You can also use this command to drop items the player is carrying by changing the X Y locations to [-1.-1]<br />
<br />
One use for this could be scripting your characters to automatically drop any cursed 
items found.<br />
<br />
<div class="code">
IF<br />
HasItem(&quot;Sw1h01&quot;,Myself)<br />
THEN<br />
RESPONSE #100<br />
DropItem(&quot;Sw1h01&quot;,[-1.-1])<br />
END<br />
</div>
<br />
When used from a character's or creatures script, the Location is relative to that 
actor's position on the map.<br />
For example, using 
<span class="code">ActionOverride(&quot;Minsc&quot;,DropItem(&quot;POTN52&quot;,[0.0]))</span> 
would make the item drop right below Minsc's feet.<br />
<br />
</div>

<div class="actionHeader"><a name="10">10 Enemy()</a></div>
<div class="indent1">
Is used to Set the Enemy/Ally Allegiance to Enemy of Player Characters. An example of 
this is if a peasant is attacked his allegiance will change from Neutral to Enemy.<br />
<br />
<div class="code">
IF<br />
AttackedBy([GOODCUTOFF],Myself)<br />
Allegiance(Myself,NEUTRAL )<br />
THEN<br />
RESPONSE #100<br />
Enemy()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="11">11 EquipItem(S:Object*)</a></div>
<div class="indent1">
Should equip the item, however I have not tried this action yet. I will test it in a 
script and update if it does not work.It is probably not a good idea to script this 
as it might destroy whatever else is presently equipped I will find out tonight and.<br />
<br />
<div class="code">
IF<br />
&nbsp;HasItem(&quot;Sw1h01&quot;,Myself)<br />
&nbsp;!HasItemEquipedReal(&quot;Sw1h01&quot;,Myself)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; Equip(&quot;Sw1h01&quot;,Myself)<br />
END<br />
</div>
<br />
After testing I believe the Equip action is broken the above script does not work, I 
have also tried about 4 other scripts with no effect. I will test some more on this 
and post results if anyone else has more info please post.<br />
<br />
UPDATE ON THE ACTION EQUIPITEM : It does work for weapons, you just need to have them 
in the quickslot to be equipped.<br />
<br />
</div>

<div class="actionHeader"><a name="13">13 FindTraps()</a></div>
<div class="indent1">
Is used to do just that. You can script any character to try and find traps, however 
if they dont have any points in the ability it will be futile. This command is often 
used in scripts for Thieves.<br />
<br />
<div class="code">
IF<br />
ActionListEmpty()<br />
!Exists([EVILCUTOFF])<br />
!ModalState( Myself,DETECTTRAPS)<br />
OR(2)<br />
!StateCheck(Myself,STATE_INVISIBLE)<br />
!StateChe ck(Myself,STATE_IMPROVEDINVISIBILITY)<br />
THEN<br />
RESPONSE #100<br />
FindTraps()<br />
END<br />
</div>
<br />
</div>


<div class="actionHeader"><a name="14">14 GetItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Suggest's that this command can be used to get an Item however I have been unable to 
get it to work. I have tried the following script with no effect:<br />
<br />
<div class="code">
IF<br />
See([ANYONE])<br />
!HasItem(&quot;Sw1h01&quot;,Myself)<br />
HasItem(&quot;Sw1h01&quot;,LastSeenBy ())<br />
THEN<br />
RESPONSE #100<br />
MoveToObject(LastSeenBy())<br />
GetItem(&quot;Sw1h01&quot;,LastSeenBy())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="15">15 GiveItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Will allow you to pass items back and forth. However you must have the item to pass 
it back and forth. Examples of this are rings of regeneration swapped between players 
as needed and giving potions to characters that don't have any if no cleric is present. 
Note that the command global shout requires modified Action, Instant, trigger, and 
svtriobj, ids files. If you need these files I can send you the modified ones. They 
need to be put in the scriptcompiler directory, not the override folder.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,40)// if my hitpoints are at 40%<br />
!HasItem(&quot;potn52&quot;,Myself)// and I dont have a potion of extra healing<br />
THEN<br />
RESPONSE #100<br />
GlobalShout(3015)// shout so everyone in the area hears<br />
SetGlobal(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
<br />
IF<br />
Heard([GOODCUTOFF],3015)// i hear the shout<br />
HasItem(&quot;potn52&quot;,Myself)// and have the potion<br />
HPPercentGT(Myself,40)// and if my hitpoints are better than 40%<br />
Global(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,1)<br />
THEN<br />
RESPONSE #100<br />
MoveToObject(LastHeardBy())// move to whoever shouted<br />
GiveItem(&quot;potn52&quot;,LastHeardBy()) and give them the potion<br />
SetGlobal(&quot;KRNEEDITEM&quot;,&quot;GLOBAL&quot;,0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="16">16 GiveOrder(O:Object*,I:Order*)</a></div>
<div class="indent1">
Is used to issue an order (numeric) and is used in conjunction with 
ReceivedOrder(O:Object*,I:Order ID*), found in TRIGGER.ids. This is similiar to global shout.
Only one creature at a time responds to an order. Creatures to not detect their own orders.
The script I created for an example is used to give an order to the thief player characters if the 
fighter/ranger/paladin running the script sees an enemy. I would use this to keep 
my weak or low hp's thief alive.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF])<br />
OR(3)<br />
Class(Myself,FIGHTER_ALL)<br />
Class(Myself,RANGER_ALL)<br />
Class(Myse lf,PALADIN_ALL)<br />
THEN<br />
RESPONSE #100<br />
GiveOrder([PC.0.0.THIEF_ALL],100)<br />
END<br />
<br />
IF<br />
ReceivedOrder(Myself,100)<br />
Class(Myself,THIEF_ALL)<br />
THEN<br />
RESPONSE #100<br />
RunAwayFrom([EVILCUTOFF],120)<br />
Hide()&nbsp;&nbsp; &nbsp;<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="17">17 Help()</a></div>
<div class="indent1">
Acts similar to Shout, but does not accept values. The range is just larger than the visual radius.<br />
The example is from the Gibberlings script (gibber.bcs).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HitBy([ANYONE],CRUSHING)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #50<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Attack(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #50<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RunAwayFrom(NearestEnemyOf(Myself),75)<br />
END<br />
<br />
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Help([0.0.GIBBERLING])<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Attack(NearestEnemyOf(LastHelp(Myself)))<br />
END<br />
<br />
IF<brb>
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),30)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="18">18 Hide()</a></div>
<div class="indent1">
Is used for thieves or anyone with stealth. It can be scripted for anyone to use it, 
however if the creature has no points in Hide in shadows then it will not be able to. 
Heres an example script for a thief to hide.Note that Hide in shadows enables the 
creature tohide and move silently allows the creature to stay hidden when moving.<br /> 
<div class="code">
IF<br />
&nbsp; &nbsp;!See([EVILCUTOFF])<br />
&nbsp; &nbsp;OR(2)<br />
&nbsp; &nbsp;!StateCheck(Myself,STATE_INVISIBLE) //If I'm not invisible<br />
&nbsp; &nbsp;!StateCheck(Myself,STATE_IMPROVEDINVISIBLITY) //If I'm not<br />
//invisible (again)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp; &nbsp;Hide()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="19">19 JoinParty()</a></div>
<div class="indent1">
Is used to attach NPCs to the party, though you can use this command to attach anyone 
into the party.It is more often used in dialogs than scripts, but its the same command 
irregardless.<br />
<br />
<div class="code">
IF<br />
See([PC])<br />
Global(&quot;KRJOINPARTY&quot;,&quot;GLO BAL&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
JoinParty()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="20">20 LayHands(O:Target*)</a></div>
<div class="indent1">
Is probably left over from BG1. It does not seem to work In BG2. In bg1 the spell 
(INNATE_LAY_ON_HANDS) was used for this by paladins, in BG2 paladins use the spell 
(PALADIN_LAY_ON_HANDS). I will do more testing on this.<br />
Heres an example Paladin script using the bg2 paladin spell:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;ActionListEmpty()<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(MostDamagedOf(Myself),50)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!StateCheck(MostDamagedOf(Myself),STATE_INVISIBLE)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HaveSpell(PALADIN_LAY_ON_HANDS)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(MostDamagedOf(Myself),PALADIN_LAY_ON_HANDS)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="21">21 LeaveParty()</a></div>
<div class="indent1">
Does just that. It is the command to remove NPCs from the party. Many NPC scripts use 
this command when the happiness level drops below a certain point.<br />
<br />
<div class="code">
IF<br />
&nbsp; HappinessLT(Myself,-299)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp; &nbsp;ChangeAIScript(&quot;&quot;,DEFAULT)<br />
&nbsp; &nbsp;SetLeavePartyDialogFile()<br />
&nbsp; &nbsp;LeaveParty()<br />
&nbsp; &nbsp;EscapeArea()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="22">22 MoveToObject(O:Target*)</a></div>
<div class="indent1">
Enables the user of the script to move to any object. This command may be difficult to 
understand at first. You can use either an object's creature death variable names like 
ORC01 or objects from Objects.ids. (LastSeenBy, NearestEnemyOf, etc...). If you use 
MoveToObject(NearestEnemyOf()) this will not work unless you can see the nearest enemy 
of &nbsp;yourself, however if you use a cre file name, you can move to it irregardless 
if you can see it or not.An example script is a hostile enemy moving to the nearest enemy.<br />
<div class="code">
IF<br />
&nbsp; See(NearestEnemyOf())<br />
&nbsp; !Range(NearestEnemyOf(),4)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MoveToObject(NearestEnemyOf())<br />
END<br />
</div>
<br />
It should be noted here that an NPC using this action will NOT have his position updated 
in the given ARE file. This means that, if a character uses this command  to travel 
across an entire map, you save the game, then reload, the character will have returned to 
his original position or the last point defined in a script.<br />
<br />
</div>

<div class="actionHeader"><a name="23">23 MoveToPoint(P:Point*)</a></div>
<div class="indent1">
Is used to a specified [X.Y] position on the map. The coordinates correspond to the 
X and Y postion of the area. This is used to give the appearance of moving around 
without having to create waypoints. An example script using this is a peasant moving 
to a specified point in the Copper Coronet, this script will keep them near that point.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
MoveToPoint([526.1193])<br />
Wait(3)<br />
RandomWalk()<br />
Wait(5)<br />
RandomWalk()<br />
END<br />
</div>
<br />
Every 8 second they will return to the specified spot.<br />
<br />
Unlike MoveToObject(), MoveToPoint() WILL update the position of the NPC in an ARE file. 
This means that, if you use MoveToPoint() to travel across an area, you save the game, then
reload, the character will be at the given point. This works by first changing the Actor's
"Traveling to" position in the ARE file. Once the character reaches thisposition, 
his "Current" position is set to its new value.<br />
<br />
</div>

<div class="actionHeader"><a name="24">24 Panic()</a></div>
<div class="indent1">
I believe is one of the commands used to install the panic state. This command when scripted
by itself only makes the target move randomly around the screen.I dont think this would be
good to script for player characters as you lose a lot of control over them.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,15)<br />
THEN<br />
RESPONSE #100<br />
Panic()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="25">25 PickPockets(O:Target*)</a></div>
<div class="indent1">
Is used to attempt to pick the pockets of the specified target. It can be scripted for
anyone to use, but they will fail the attempt unless they have adequate skill in this
proficency.<br />
<br />
<div class="code">
IF<br />
See([ANYONE])<br />
&nbsp;OR(2)<br />
&nbsp; Class(Myself,THIEF_ALL)<br />
&nbsp; Class(Myself,BARD_ALL)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PickPockets([ANYONE])<br />
END<br />
</div>
<br />
Note that a failed pickpocket attempt will be read by a character as an attack, and so
 the Attacked() trigger will return true if a pickpocket attempt is failed on him.<br />
<br />
</div>

<div class="actionHeader"><a name="26">26 PlaySound(S:Sound*)</a></div>
<div class="indent1">
Will play a sound. This is used for spells or effects that make noise. The sounds can be 
any of the in game sounds used for anything from casting to soundeffects, you could also 
use any custom sounds I believe if they were the recognized format and in the override directory.
WAV and WAVC files are recognized by this effect.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
PlaySound(&quot;CAS_M06&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="27">27 ProtectPoint(P:Target*,I:Range*)</a></div>
<div class="indent1">
I believe is the same as the command used to guard a certain area found in the GUI 
(the shield Icon) , it is pretty unscriptable unless you know the exact [X.Y] needed.
One script that I can think of which uses something like this is the golems in the egg room 
of Ust Natha, however they dont use this command they use a check for a range of 20 from the 
eggs to keep them near the eggs.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ProtectPoint([1738.543],10)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="28">28 RemoveTraps(O:Trap*)</a></div>
<div class="indent1">
Is probably what the game uses when a thief disarms or attempts to disarm a trap. I have 
scripted this one for generic trap names (most trap names are generic Trap01-100), but so 
far have not seen my thief use it to disarm any .Another one for the More tests category...<br />
<br />
<div class="code">
IF<br />
See(&quot;Trap01&quot;)<br />
Class(Myself,THIEF_ALL)<br />
THEN<br />
RESPONSE #100<br />
RemoveTraps(&quot;Trap01&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="29">29 RunAwayFrom(O:Creature*,I:Time*)</a></div>
<div class="indent1">
Is a very nice command to use to escape your enemies when your hitpoints get low, provided 
there is somewhere to run to. The Time parameter is measured in AI updates. Since, by default, 
there are 15 AI updates per second, it is usually a rule of thumb to use multiples of 15, 
such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,30)<br />
THEN<br />
RESPONSE #100<br />
RunAwayFrom(LastAttackerOf(Myself),180)<br />
END<br />
</div>
<br />
However unwanted it may be, sometimes a creature running away will also attack nearby enemies. 
Not exactly the most wanted feature at times, but whatever. It's rare when it happens, but it does.<br />
<br />
</div>

<div class="actionHeader"><a name="30">30 SetGlobal(S:Name*,S:Area*,I:Value*)</a></div>
<div class="indent1">
This action is the cornerstone of the entire infinity engine game. It isused to set a value 
for the three types of &nbsp;global variables. The three types of global variables are:<br />
<br />
&nbsp;Global(&quot;NAME&quot;,&quot;AREANAME&quot;)<br />
&nbsp;Global(&quot;NAME&quot;,&quot;LOCALS&quot;)<br />
&nbsp;Global(&quot;NAME&quot;,&quot;GLOBAL&quot;)<br />
<br />
With name being the corresponding name of the global variable. &quot;AREANAME&quot; corresponds 
to a gv that is only valid in that area (area like AR0700.are which is Waukeens Promenade). 
&quot;LOCALS&quot; corresponds to a gv that is only valid for the creature running the script. 
&quot;GLOBAL&quot; sets a gv that is valid anywhere in the game. For instance you want a flag 
saying something has been done in an area do not repeat again anywhere, use a global variable, 
instead of a local or area. Note that the name can be up to 32 characters long. If you are 
using your own global variables always put your initials in the start to avoid potentially 
overwriting an in-game gv (which could have disatrous results).<br />
<br />
Heres an example of all three gv's in use:<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRINAREA&quot;,&quot;AR0400&quot;,0)// if this variable is at 0
(default value)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;ORC01&quot;,[1738.543],0)<br />
SetGlobal(&quot;KRINAR EA&quot;,&quot;AR0400&quot;,1) set the variable to 1 so
it dont repeat the action<br />
END<br />
<br />
IF<br />
Global(&quot;KRCASTSTONE&quot;,&quot;LOCALS&quot;,0)// if this variable is at 0
(default value)<br />
HaveSpell(WIZARD_STONE_SKIN)<br />
!CheckStatGT(Myself,1,STONESKIN)<br />
THEN<br />
RESPONSE #100<br />
Spell(Myself,WIZARD_STONE_SKIN)<br />
SetGlobal(&quot;KRCASTSTONE&quot;,&amp;qu ot;AR0400&quot;,1) set the variable to
1 so it dont repeat the action<br />
END<br />
<br />
IF<br />
Global(&quot;KRCREATENPC&quot;,&quot;GLOBAL&quot;,0)// if this variable is at 0
(default value)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;Minsc&quot;,[308.1623],0)<br />
SetGlobal(&quot;KRCREA TENPC&quot;,&quot;GLOBAL&quot;,1) set the variable to 1
so it doesn't repeat the action<br />
END<br />
</div>
<br />
Another variable type you can use is MYAREA. By using this in a given area, for example 
AR0900, "MYAREA" will be converted to "AR0900" when used. This is very useful for writing 
generic trap or area scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="31">31 Spell(O:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
Is used to cast a spell. With Target being the person you want to cast the spell on and 
spell from spell.ids. For the Spell() action to work, the spell must be flagged as memorized 
on the caster. Unlike some other spellcasting actions, Spell() IS interruptible during casting.<br />
The casting creature must meet the level requirements as set in the spell file.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF])<br />
!InParty([EVILCUTOFF])<br />
!HasBounceEffects([ EVILCUTOFF])//like cloak of mirroring or spell deflection<br />
!HasImmunityEffects([EVILCUTOFF])//<br />
HaveSpell(WIZARD_MAGIC_MISSILE)<br />
&nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; !StateCheck([EVILCUTOFF],STATE_INVISIBLE)<br />
&nbsp;&nbsp;&nbsp; !StateCheck([EVILCUTOFF],STATE_IMPROVEDINVISIBLITY)<br />
CheckStatLT([EVILCUTOFF], 30,RESISTMAGIC)<br />
!Race([EVILCUTOFF],LICH)<br />
!Race([EVILCUTOFF],RAKSHASA)<br />
THEN<br />
RESPONSE #100<br />
Spell([EVILCUTOFF],WIZARD_MAGIC_MISSILE)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="33">33 Turn()</a></div>
<div class="indent1">
Is used to turn undead (make them run or explode). Anyone can attempt to turn undead but 
only clerics or paladins will succeed. The chance to turn them is based on creatures level 
and class. Paladins turn at 2 levels less than clerics of the same level. Evil clerics do 
not turn the undead they control them.<br />
The chance of a succesful turn is based on the creature's paladin/cleric levels.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF])<br />
General([EVILCUTOFF],UNDEAD)<br />
LevelGT(Mysel f,12)<br />
&nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; Class(Myself,PALADIN_ALL)<br />
&nbsp;&nbsp;&nbsp; Class(Myself,CLERIC_ALL)<br />
THEN<br />
&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; Turn() &nbsp;<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="34">34 UseItem(S:Object*,O:Target*)</a></div>
<div class="indent1">
Enables creatures (or anyone) to use Items. Many of the ingame scripts use this command to 
use potions and wands. Their is a master script in bg2 for item usage which most enemy scripts 
refer to called USEITEM.bcs. The referenced item must be in the user's inventory, but does not 
need to be equipped in a quickslot.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(Myself,50)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HasItem(&quot;potn52&quot;,Myself)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DisplayStringHead(Myself,46150)//quaffs
a potion<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;UseItem(&quot;potn52&quot;,Myself)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="36">36 Continue()</a></div>
<div class="indent1">
Is used to tell the creature running the script to continue looking for actions for the 
Action List. As you get more advanced, Continue() becomes one of the most useful functions 
you can find, especially for efficiency. See <a href="http://tutorials.teambg.net/scripting/index.htm#Essential">this section</a> of the Complete Scripting Guide for information on how Continue() is processed by the scripting engine.<br />
<br />
<div class="code">
IF<br />
See(NearestEnemyOf())// if I see the nearest enemy of myself<br />
!InParty(NearestEnemyOf())// they are not in my party<br />
THEN<br />
RESPONSE #100<br />
AttackOneRound(NearestEnemyOf())// attack for one round<br />
Continue()// continue looking for actions to be added to the action list<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="37">37 FollowPath()</a></div>
<div class="indent1">
Not sure what this one does...It might be used with the waypoints but that is just speculation...
Anyone else know? Will test further...<br />
<br />
</div>

<div class="actionHeader"><a name="38">38 Swing()</a></div>
<div class="indent1">
Plays the swing weapon animation for the object. Note that some objects do not have this 
animation. The only situation where I have found this action is useful is in faking someone 
practicing with a bow.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
Swing()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="39">39 Recoil()</a></div>
<div class="indent1">
Plays the recoiling animation for the object. Note that some objects do not have this animation. 
This is good for cutscenes.<br />
<div class="code">
IF<br />
TookDamage()//if I took any damage<br />
THEN<br />
RESPONSE #100<br />
Recoil()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="40">40 PlayDead(I:Time*)</a></div>
<div class="indent1">
Is used to force the target to lie on the ground for the given time interval. If used on a PC,
this can be interrupted simply by the player giving a movement command. The Time parameter is 
measured in AI updates. Since, by default, there are 15 AI updates per second, it is usually 
a rule of thumb to use multiples of 15, such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,30)//my hitpoints are less than 30%<br />
THEN<br />
RESPONSE #100<br />
PlayDead(240)// pretend like im dead<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="47">47 Formation(O:Leader*,P:Offset*)</a></div>
<div class="indent1">
Is a very useful action. You can use it to make all your PC's follow the leader without 
clicking on them by adding it to their scripts. You can also use it to assign marching order
for anyone. I wrote a script for the slums which uses this command to move a party of 
slavers around the slums looking for the PCs that killed Lehtinan, as a continuation of 
the slavers plot.<br />
The offset repersents the distance from the leader.The leader can be any object (from object.ids)
or script name (like ORC01 or Minsc or Player1).<br />
<br />
On one creature I use this script:<br />
<br />
<div class="code">
IF<br />
CombatCounter(0)// not in combat<br />
Allegiance(Myself,NEUTRAL)// im still neutral<br />
THEN<br />
RESPONSE #100<br />
Formation(&quot;QSLMAGE1&quot;,[-2.-5])// get in formation<br />
END<br />
</div>
<br />
On another I use this:<br />
<div class="code">
IF<br />
CombatCounter(0)// not in combat<br />
Allegiance(Myself,NEUTRAL))//im still neutral<br />
THEN<br />
RESPONSE #100<br />
Formation(&quot;QSLMAGE1&quot;,[-3.-7]// get in formation<br />
END<br />
</div>
<br />
To form a formation.<br />
<br />
&quot;QSLMAGE1&quot; is my custom slaver mage which is the leader of the group loooking for
the PCs he uses a series of MoveToPoint[X.Y] to walk around the entire slums. Once he sees 
the PC's his allegiance changes to Enemy and he attacks. The other Characters using the 
above scripts are high level Slaver guard fighters.<br />
I wrote 2 to show the different formations. Definately one of my favorite scripting commands
to use.<br />
<br />
</div>

<div class="actionHeader"><a name="48">48 JumpToPoint(P:Target*)</a></div>
<div class="indent1">
Allows a character to 'teleport' to the target [X.Y] location on the map. Useful for cutscenes.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
StartCutScene(&quot;KRCUT&quot;)<br />
END<br />
</div>
<br />
And in the cutscene KRCUT:<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
CutSceneId(Player1)<br />
ClearAllActions()<br />
FadeToColor([20.0],0)<br />
MoveViewPoint([1738.543],INSTANT)<br />
JumpToPoint([1738.543])<br />
Wait(1)<br />
CreateVisualEffectObject(&quot;SPCLOUD1&quot;,Player1)<br />
Wait(1)<br />
CreateVisualEffectO bject(&quot;SPFLESHS&quot;,Player1)<br />
Wait(1)<br />
EndCutSceneMode()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="49">49 MoveViewPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Does just that it is used to move the viewing point to the target's coordinates ([X.Y]). 
It is used mostly in cutscenes. For an example of this command in use, see the script 
above. Scroll speed is from scroll.ids and has five selections 0 INSTANT,1 SLOW, 2 STANDARD,
3 FAST, 4 VERY_FAST. For reference, VERY_FAST is equivalent to normal characters' walking speed.<br />
<br />
</div>

<div class="actionHeader"><a name="50">50 MoveViewObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is also used in cutscenes and is used to move the viewpoint for a cutscene ID (or object). 
Scroll speed is from scroll.ids and has five selections 0 INSTANT,1 SLOW, 2 STANDARD, 
3 FAST, 4 VERY_FAST. For reference, VERY_FAST is equivalent to normal characters' walking 
speed. This is from the cutscene CUT03C.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;SPY406&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveViewObject(Myself,INSTANT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeFromColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;cpchick1&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;cpchick2&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Surly&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="51">51 ClickLButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is not used in the in-game scripts. It would seem that using this command acts as 
if you have clicked the Left mouse button on the target's (X.Y) point, however I 
have tried using this command to no effect. Perhaps this command was never fully 
implemented.<br />
<br />
</div>

<div class="actionHeader"><a name="52">52 ClickLButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is similiar to the above, with the main difference being instead of a point, the 
target is an object (script name or object from Object.ids). This can be used for 
highlighting a character, thereby updating his innate abilities and other similar 
GUI changes that may go unnoticed when initially modified.<br />
<br />
</div>

<div class="actionHeader"><a name="53">53 ClickRButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
I assume this is the same as 51 with the difference being the right button is 
utilitized, however I have had no success in using this command. Another one not 
found in any in-game scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="54">54 ClickRButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Is similiar to the above, with the main difference being instead of a point, the 
target is an object (script name or object from Object.ids).Again not found in any 
scripts in the game, and I have been unsuccessful in getting it to work, another 
comand that might be unfinished.<br />
<br />
</div>

<div class="actionHeader"><a name="55">55 DoubleClickLButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the left 
button at a certain target's (X.Y) point.<br />
<br />
</div>

<div class="actionHeader"><a name="56">56 DoubleClickLButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the left 
button at a certain target object. However I have been unsuccessful utilizing this 
command. Not found in any in-game scripts. This can be used for highlighting a character,
thereby updating his innate abilities and other similar GUI changes that may go 
unnoticed when initially modified. It can also be used for centering the screen 
on the target.<br />
<br />
</div>

<div class="actionHeader"><a name="57">57 DoubleClickRButtonPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the right 
button at a certain target's (X.Y) point. However I have been unsuccessful utilizing
this command. Not found in any in-game scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="58">58 DoubleClickRButtonObject(O:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Sounds as if using this action causes the same effect as double clicking the right 
button at a certain target object. However I have been unsuccessful utilizing this 
command. Not found in any in-game scripts.<br />
<br />
Note that I tested the click actions with the following script:<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
DoubleClickLButtonPoint([665.737],INSTANT)<br />
END<br />
</div>
<br />
Substituting the action for others, using the slums as a test ground. The X and Y 
correspond to a door, which should have caused characters to move to that door but 
did nothing.<br />
<br />
I tested the objects using &quot;minsc&quot; to no effect...<br />
<br />
</div>

<div class="actionHeader"><a name="59">59 MoveCursorPoint(P:Target*,I:ScrollSpeed*Scroll)</a></div>
<div class="indent1">
Suggests that this command is used to move the mouse cursor to a specified point (X.Y) however I have been unsuccessful in implementing this as well.<br />
<br />
</div>

<div class="actionHeader"><a name="60">60 ChangeAIScript(S:ScriptFile*,I:Level*Scrlev)</a></div>
<div class="indent1">
Is used to change to the script specified. &nbsp;(from SCRLEV.ids: 0 OVERRIDE, 1 AREA,
2 SPECIFICS, 4 CLASS, 5 RACE, 6 GENERAL, 7 DEFAULT) on the object running the script.
Script priority is defined in the same order as listed above, where OVERRIDE is the 
highest priority on a creature and DEFAULT is the lowest priority. ScriptFile is set 
to the name of the script and can be any script up to 8 characters in length and having 
the .bcs extension.(example USEITEM.bcs), you can use custom scripts with this but 
they must be in the override directory and .bcs format. You can rename .bs format to 
.bcs, or compile from .baf to .bcs or .bs.<br />
<br />
<div class="code">
IF<br />
See([EVILCUTOFF.0.DOG])<br />
THEN<br />
RESPONSE #100<br />
ChangeAIScript(&quot;DOGFIGHT&quot;,DEFAULT)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="61">61 StartTimer(I:ID*,I:Time*)</a></div>
<div class="indent1">
Is used to start a timer that is timer specific an instance of a creature. It does not 
get saved in the savegame.The time is in seconds. It is used in conjunction with TimerExpired(I:ID*).<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,0 )<br />
Dead(&quot;Shadra01&quot;)<br />
THEN<br />
RESPONSE #100<br />
StartTimer(&quot;SPAWNMON&quot;,12)<br />
SetGlobal(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
<br />
IF<br />
Timer Expired(&quot;SPAWNMON&quot;)<br />
Global(&quot;KRDEAD&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
RESPONSE #100<br />
CreateCreature(&quot;Grothgar&quot;,[700.700],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="62">62 SendTrigger(O:Target*,I:TriggerNum*)</a></div>
<div class="indent1">
Used as a form of script communication, in conjunction with the Trigger() trigger. Seems to have the same range as GiveOrder, and affects only one creature at once. The LastTrigger object does not get set after receiving a trigger.<br />
<br />
</div>

<div class="actionHeader"><a name="63">63 Wait(I:Time*)</a></div>
<div class="indent1">
Is used to create a delay into the object runnng the script. The time is in seconds.<br />
<br />
<div class="code">
IF<br />
See(Player1)<br />
See(Player6)<br />
THEN<br />
RESPONSE #100<br />
MoveToObject(Player1)<br />
Wait(2)<br />
MoveToObject(Player6)<br />
Wait(4)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="64">64 UndoExplore()</a></div>
<div class="indent1">
Is the opposite if Explore() and makes the area black as if you have not explored it. 
Not a good command to use for player scripts, as it makes it very hard to see...<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
UndoExplore()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="65">65 Explore()</a></div>
<div class="indent1">
Clears all the black from the area as if you have explored it.<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
Explore()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="66">66 DayNight(I:TimeOfDay*Time)</a></div>
<div class="indent1">
Is used to change the time of day.Time is from TIME.ids and has six options (0 MIDNIGHT,
12 NOON,6 DAWN_START,7 DAWN_END, 21 DUSK_START, 22 DUSK_END). You are not, however, 
confined to using only these times. Specifying a value from 0-23 (just like the hours 
of the day) will also work. This example is from the cutscene Irenicus uses leaving his dungeon.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmaWaukeen&quot;,&quot;GLOBAL&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DayNight(MIDNIGHT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AmaWaukeen&quot;,&quot;GLOBAL&quot;,2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;shthass1&quot;,[877.898],7)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;cut24a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="67">67 Weather(I:Weather*Weather)</a></div>
<div class="indent1">
Is used to change the weather. This action will only work in outdoor areas with weather 
enabled....The weather is from weather.ids and has 4 choices: 0 NOWEATHER, 1 RAIN, 2 SNOW,
3 FOG, although fog does not work.<br />
<br />
Note if you want to check if a certain weather conditon (like rain) is present you will 
need to set a GV (to 1) when you start the weather, then check to make sure the GV is at 
1. Also u need to determine how long the weather lasts and set the GV back to 0 when the 
weather is done, using a timer.<br />
<br />
<div class="code">
IF<br />
Global(&quot;KRSTORM&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
RESPON SE #100<br />
Weather(RAIN)<br />
SetGlobal(&quot;KRSTORM&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="68">68 CallLightning(O:Target*)</a></div>
<div class="indent1">
Does not use the same graphic as the druid spell at least for me, (it makes a blue arcing 
line come down from the sky which i think must be defined in the .exe) also it results in 
immediate death when used in bg2 so is very useful for cutscenes<br />
<br />
<div class="code">
IF<br />
True()<br />
THEN<br />
RESPONSE #100<br />
CutSceneId(&quot;DRUID12a&quot;)<br />
CallLightning(&quot;Orc05&quot;)<br />
CallLightning(&quot;Orc06&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="69">69 VEquip(I:item*)</a></div>
<div class="indent1">
Although most say it's broken, actually does have a purpose. It will sequentially change a 
character's visual armor level (that's to say, the way the character not appears, not his 
actual AC). It will cycle through from the lowest to the highest levels, the highest being 
plate mail and the lowest being none.<br />
<br />
</div>

<div class="actionHeader"><a name="70">70 NIDSpecial1()-81 NIDSpecial12()</a></div>
<div class="indent1">
Possibly Non-Interactive Demo commands, left-over from the BG1 NID demo. Possibly not.<br />
<br />
</div>

<div class="actionHeader"><a name="82">82 CreateItem(S:ResRef*,I:Usage1*,I:Usage2*,I:Usage3*)</a></div>
<div class="indent1">
A very useful command. Creates an Item as the RESREF. Usage 1 is the number of charges 
the item has, or if its a scroll the number of scrolls. This a script from AR0602 (Irenicus 
Dungeon) that recreates the pantaloons in a container (the picture) if the pantaloons are 
imported.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BG1Pantaloons&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;PartyHasItem(&quot;MISC47&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;BG1Pantaloons&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Picture1&quot;,CreateItem(&quot;MISC47&quot;,0,0,0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
Usages 1, 2, and 3 are similar to how the CLUAConsole works... If a weapon has multiple 
extended headers (abilities), then you can set the number of charges for those abilities 
with usages 2 and 3.<br />
<br />
Or, if you wanted to create a stack of arrows, you could use...<br />
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;RESPONSE#100<br />
&nbsp; &nbsp;CreateItem(&quot;AROW01&quot;,Myself,20,0,0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="83">83 SmallWait(I:Time*)</a></div>
<div class="indent1">
Is similar to Wait(). The Time parameter is measured in AI updates. Since, by default, 
there are 15 AI updates per second, it is usually a rule of thumb to use multiples of 15, 
such as 90, 120, or 180.<br />
<br />
<div class="code">
IF<br />
See(NearestEnemyOf())<br />
THEN<br />
RESPONSE #100<br />
DisplayStingHead(Myself,50712)// Attack!! Attack!!<br />
SmallWait(120)<br />
Attack(NearestEnemyOf())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="84">84 Face(I:Direction*)</a></div>
<div class="indent1">
Causes the object running the script to face a direction from 0-15 with 0 being south and 
moving clockwise. The beholders use this one...this is from BEHOLD.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BeholderBehavior&quot;,&quot;LOCALS&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([PC])<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPGT(Myself,65)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FaceObject([PC])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell([PC],BEHOLDER_CHARM_PERSON)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="85">85 RandomWalk()</a></div>
<div class="indent1">
Is used to make the object running the script walk randomly. It is used for townsfolk, 
creatures, pretty much anything that walks crawls slides or moves around, (but not birds). 
The following script is from the bears (BLBEAR.bcs) and it makes them walk instead of fighting 
if the nearest enemy is druid.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(5)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Class(NearestEnemyOf(Myself),DRUID)<br />
&nbsp;&nbsp;&nbsp; &nbsp;NumCreatureGT([ENEMY],1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomWalk()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="86">86 SetInterrupt(I:State*Boolean)</a> </div>
<div class="indent1">
Another good command to use though you must be careful in its use. It sets whether a creature 
can be interrupted while it is doing something. For example, if I wanted to be fairly sure my 
mage carried out some simple commands like walking across the map and back I would set the 
Interrupt to FALSE first. For those of you unfamiliar with Boolean logic, its simple it has 
2 states, TRUE or FALSE.<br />
<br />
<div class="code">
IF<br />
See(Player2)<br />
!Range(Player2,4)<br />
THEN<br />
RESPONSE #100<br />
SetInterrupt(FALSE)<br />
MoveToObject(&quot;Player2&quot;)<br />
SetInterrupt (TRUE)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="87">87 ProtectObject(O:Target*,I:Range*)</a></div>
<div class="indent1">
Is used to do just that. Objects running this script will attack any enemy of their target. 
The example used is from IWD, the script for the zombies guarding Presio.(4003BSG.bcs).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ProtectObject(&quot;Presio&quot;,100)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="88">88 Leader(P:Point*)</a> </div>
<div class="indent1">
Not used in bg1 or bg2 or IWD that I can tell, also doesn't seem to do anything?<br />
<br />
</div>

<div class="actionHeader"><a name="89">89 Follow(P:Point*)</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="90">90 MoveToPointNoRecticle(P:Point*)</a></div>
<div class="indent1">
Should move the object running the script to a location without showing the reticle (thats 
the little green flashing intersecting lines that appear when you have a character selected 
and left click a point.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="91">91 LeaveArea(S:Area*,P:Point*,I:Face*)</a></div>
<div class="indent1">
Instead of this command, most scripts use the LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3048.831],4)) action. This action does not seem to be in any in-game scripts.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="92">92 SelectWeaponAbility(I:WeaponNum*Slots,I:AbilityNum*)</a></div>
<div class="indent1">
Is used to select different weapon ability slots.The example used is from ANKHEG.bcs and 
as you can see, it selects 2 different weapon slots to vary the attack type.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(NearestEnemyOf(Myself),5)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(12)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #40<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SelectWeaponAbility(SLOT_WEAPON,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RunAwayFrom(NearestEnemyOf(Myself),45)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),15)<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #60<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SelectWeaponAbility(SLOT_WEAPON1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(NearestEnemyOf(Myself),15)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="94">94 GroupAttack(O:Target*)</a></div>
<div class="indent1">
Is not used in any in game scripts...Not sure exactly what this does.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="95">95 SpellPoint(P:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
Casts a memorized spell at the specified X.Y location. The downside of this action is that 
you must know the exact X.Y location to cast the spell at, useful if the object is going to 
be in one spot, but hard to implement for players. The example used is from Andris.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpellPoint([2002.1554],WIZARD_DIMENSION_DOOR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SpellNoDec(NearestEnemyOf(Myself),WIZARD_CONFUSION)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="96">96 Rest()</a></div>
<div class="indent1">
Is used to rest anything. Creatures can use this to restore spells and Innate abilities. 
The example is from a cutscene (CUT28A.bcs). Rest(), unlike RestParty(), only applies the 
effects of rest on the user; it does not play a rest movie or advance game time.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StorePartyLocations()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([30.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Rest()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,Rest())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,Rest())<br />
(Cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="97">97 UseItemPoint(S:Item,P:Target*,I:Ability*)</a></div> 
<div class="indent1">
New for TOB and doesn't appear to be used in any in-game scripts?<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="97">97 UseItemPointSlot(P:Target*,I:Slot*)</a></div>
<div class="indent1">
See above.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="98">98 AttackNoSound(O:Target*)</a></div>
<div class="indent1">
The creature running the script attacks the target specified, without shouting a battlecry.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="100">100 RandomFly()</a></div>
<div class="indent1">
Is used to give the appearance of flying. It simply allows the object to pass over 
impassable areas. The example is from RANDFLY.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomFly()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="102">102 MoraleSet(O:Target*,I:Morale*)</a></div>
<div class="indent1">
Should set the morale of the target object to the specified amount. Never tried it though.<br />
<br />
(Never tested this one)<br />
<br />
</div>

<div class="actionHeader"><a name="103">103 MoraleInc(O:Target*,I:Morale*)</a></div>
<div class="indent1">
Increases the morale of the target object by the specified amount.The example is from BARDSH.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;AttackedBy([GOODCUTOFF],DEFAULT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Allegiance(Myself,NEUTRAL)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;PlayerAttackedActors&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;PlayerAttackedActors&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoraleInc(Myself,-5)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Enemy()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="104">104 MoraleDec(O:Target*,I:Morale*)</a></div>
<div class="indent1">
Should decreases the morale of the target object by the specified amount, but it is not 
used in any in-game scripts, instead they use the above script with negative numbers (*SHRUGS* go figure).<br />
<br />
</div>

<div class="actionHeader"><a name="105">105 AttackOneRound(O:Target*)</a></div>
<div class="indent1">
Attacks the target object for 1 round.<br />
<br />
<div class="code">
IF<br />
&nbsp;See(NearestEnemyOf())<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; AttackOneRound(NearestEnemyOf())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="106">106 Shout(I:ID*SHOUTIDS)</a></div>
<div class="indent1">
Is used to shout something from Shoutids. If you dont have TOB, there is no SHOUTIDS. 
However, you can use any number you want for the shout ID. Note that, if a character is 
magically silenced, he cannot shout. It is used in conjuction with Heard(O:Object*,I:ID*), a trigger.<br />
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;StateCheck(Myself,STATE_POISONED)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(4010)<br />
END<br />
</div>
<br />
<div class="code">
IF<br />
&nbsp; &nbsp;Heard([GOODCUTOFF],4010)<br />
&nbsp; &nbsp;HaveSpell(CLERIC_SLOW_POISON)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(LastHeardBy(),CLERIC_SLOW_POISON)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="107">107 MoveToOffset(P:Offset*)</a></div>
<div class="indent1">
This is simply used to make a creature move a certain distance from its current location without 
having to know its current co-ordinates<br />
<br />
<div class="code">MoveToOffset([5.5])</div>
So this would add 5 onto current x coordinate and 5 onto the current y coordinate and the 
creature would move to this new location.<br />
<br />
</div>

<div class="actionHeader"><a name="108">108 EscapeArea()</a></div>
<div class="indent1">
Causes the object running the script to leave the area, either by walking, or if the path is 
blocked, he simply disappears.<br />
<br />
<div class="code">
IF<br />
HPPercentLT(Myself,35)<br />
THEN<br />
RESPONSE #100<br />
EscapeArea()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="108">108</a> EscapeAreaMove(S:Area*,I:X*,I:Y*,I:Face*)</div>
<div class="indent1">
This effect is like a combination of EscapeAreaDestroy() and MoveBetweenAreas(). The parameters are 
similar to MoveBetweenAreas(), in that it takes in all the same information (although this is the only 
action in the game that takes x and y as separate parameters rather than point [x.y] format), but unlike
MoveBetweenAras(), the character will search for the nearest travel trigger, move to that, then execute 
his movement to the specified area. If he cannot find a travel trigger, he will execute the movement.<br />
<br />
</div>

<div class="actionHeader"><a name="109">109 IncrementGlobal(S:Name*,S:Area*,I:Value*)</a></div>
<div class="indent1"> Increases a global by the value indicated. A great way to keep track 
of how many times something has occured. You can also use negative values to effectively subtract. 
My example is from a monster counter I use in TOB.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([EVILCUTOFF]<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Specifics(LastSeenBy(),4000)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Inparty(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Allegiance(LastSeenBy([GOODCUTOFF])<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ChangeSpecifics(LastSeenBy(),4000)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IncrementGlobal(&quot;KR_MONSTER_COUNTER_ALIVE&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="110">110 LeaveAreaLUA(S:Area*,S:Parchment*,P:Point*,I:Face*)</a></div>
<div class="indent1">
Is used to change areas, mostly during cutscenes.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;MissionPackSave&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;toscst&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player1,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3048.831],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3055.917],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[2990.913],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[2992.812],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3079.737],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,LeaveAreaLUA(&quot;AR1000&quot;,&quot;&quot;,[3005.742],4))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="111">111 DestroySelf()</a> </div>
<div class="indent1">
Removes the object running the script from the game completely and does not set a sprite is 
dead (death) variable. The example is from the Irenicus cutscene at the beginning of the game, 
and is used to remove the cowled wizards at the end of the cutscene.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(&quot;CSCowl7&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell(&quot;CSIren&quot;,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DestroySelf()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="112">112 UseContainer()</a></div>
<div class="indent1">
(not tested yet)<br />
<br />
</div>

<div class="actionHeader"><a name="113">113 ForceSpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
Forces the object to cast the specified spell. The spell cannot be interrupted and the object 
does not need to have the spell memorized or even have the spell. Used by traps a lot to create 
the trap damage. The casting creature must meet the level requirements as set in the spell file.<br />
Example is from Andris.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpellPoint([2002.1554],WIZARD_DIMENSION_DOOR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SpellNoDec(NearestEnemyOf(Myself),WIZARD_CONFUSION)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="114">114 ForceSpellPoint(P:Target,I:Spell*Spell)</a></div>
<div class="indent1">
same as above only the target is an X.Y location.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpellPoint([2002.1554],WIZARD_DIMENSION_DOOR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SpellNoDec(NearestEnemyOf(Myself),WIZARD_CONFUSION)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AndrisBehavior&quot;,&quot;AR1009&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="115">115 SetGlobalTimer(S:Name*,S:Area*,I:Time*GTimes)</a></div>
<div class="indent1">
Sets a global timer. The "S:Area*" parameter works in the same way as SetGlobal(), allowing 
GLOBAL, LOCALS, AREANAME, and MYAREA types. It is used in conjunction with GlobalTimerExpired 
or GlobalTimerNotExpired, a trigger.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;Areana&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Exists(&quot;TorLobo&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;TorLobo&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Areana&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;TORLOB&quot;,[349.474],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="116">116 TakePartyItem(S:Item*)</a></div>
<div class="indent1">
Takes one of the specified party items. Note that this spell will transfer objects to the 
creature running the script. Useful for thieves. The example is from AR0516.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;ThrallOrb&quot;,&quot;GLOBAL&quot;,2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;PartyHasItem(&quot;MISC7Y&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TakePartyItem(&quot;MISC7Y&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="117">117 TakePartyGold(I:Amount*)</a> </div>
<div class="indent1">
The same as above, only for gold instead of an item. If performed by a party member, the gold is transferred to that characters gold stat (cre file), and re-added to the party pot when the character re-joins the party.<br /> The example script is from AR0602.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;TakeImportItems&quot;,&quot;AR0602&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;TakeImportItems&quot;,&quot;AR0602&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Chapter&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Malaaq&quot;,MoveBetweenAreas(&quot;AR0601&quot;,[345.591],14))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;DuegarClanChief&quot;,TakeItemListPartyNum(&quot;IMPORT01&quot;,1))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Shelf1&quot;,TakeItemListPartyNum(&quot;IMPORT03&quot;;,1))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TakePartyGold(2147483647)<br />
(Cut short for Brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="118">118 GivePartyGold(I:Amount*)</a></div>
<div class="indent1">
Gives the specified amount of gold to the party. The object using this command must 
have the gold in its "money variable." I say this because having MISC08 in the creature's 
inventory does not qualify for use with this command.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;G(&quot;KRGIVEGOLD&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GivePartyGold(500)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SG(&quot;KRGIVEGOLD&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="119">119 DropInventory()</a></div>
<div class="indent1">
Causes the object running the script to drop everything in its inventory. The example 
is from the cutscene with Mazzy fighting the ogre.(CUT16a.BCS)<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([20.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;mazzy&quot;,DropInventory())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
(cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="120">120 StartCutScene(S:CutScene*)</a></div>
<div class="indent1">
A cutscene is a cinematic sequence that removes GUI and allows the player only to watch or 
maybe talk. With this action, you specify the cutscene name (Script) and it automatically 
starts that script. (script needs a .bcs extension) Very useful indeed. Here's one of the 
cutscenes from the Irenicus Cut scene.CUT01.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUAPanic(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player2,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2805.
882],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player3,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2791.
820],4))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player4,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2764.
788],2))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player5,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2781.
716],0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(Player6,LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2763.
668],0))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Explore()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MultiPlayerSync()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;EnteredWaukeen&quot;,&quot;AR0700&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;SCENE01&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,SetDialog(&quot;None&quot;))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,LeaveParty())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,GivePartyAllEquipment())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Imoen&quot;,DestroySelf())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSIMOEN&quot;,[2732.831],2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSIREN&quot;,[2557.935],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF1&quot;,[2740.1009],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF2&quot;,[2678.1043],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF3&quot;,[2579.1075],8)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSTHIEF4&quot;,[2488.1078],10)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;CSGAYL&quot;,[2671.1101],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;AMNG1&quot;,[2736.1260],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveViewPoint([2576.908],INSTANT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DayNight(DAWN_END)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeFromColor([40.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Cut01a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="121">121 StartCutSceneMode()</a></div>
<div class="indent1">
One of two commands that can be used to start cutscene mode. This way is used to start a 
cutscene inside a bigger script that is running, like an objects script for example. When 
StartCutSceneMode() is used, the characters cannot interact with their surroundings and 
all scripts except for the cutscene script stop running. This, however, does not prevent 
actions already in a creature's action list from being committed. Hence, it is common 
practice to use ClearAllActions() directly before StartCutSceneMode(). The example is 
from AR0507.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmsiHouse&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;amsi&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;amsi&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>


<div class="actionHeader"><a name="122">122 EndCutSceneMode()</a></div>
<div class="indent1">
Restores the GUI and exits cutscenemode. Example from AR0800.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalGT(&quot;BodhiJob&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Movie02&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Movie02&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;FadeToColor([30.0],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;EndCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TextScreen(&quot;SCENE04&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SmallWait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Movie02a&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="123">123 ClearAllActions()</a></div>
<div class="indent1">
Clears all the actions of everything in the area.<br />
Usually used before the start of a cutscene to insure the objects Action Lists are empty. 
Example is from AR0507.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;AmsiHouse&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;amsi&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearAllActions()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;amsi&quot;,StartDialogueNoSet(Player1))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="124">124 Berserk()</a></div>
<div class="indent1">
Is probably the action used in that state, though undoubtedly it is only one of many things 
occurring while berserk. Not found in any in game scripts...<br />
<br />
(seems to do nothing when used by itself in a script...)<br />
<br />
</div>

<div class="actionHeader"><a name="125">125 Deactivate(O:Object*)</a></div>
<div class="indent1">
Is used to modify the appearance state of an actor in an ARE file. By using Deactivate(), 
the actor's information will remain in the area, but the player will be unable to see or 
interact with this actor.<br />
<br />
</div>

<div class="actionHeader"><a name="126">126 Activate(O:Object*)</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="127">127 CutSceneId(O:Object*)</a></div>
<div class="indent1">
Is used internally in a cutscene to make the Object with that script name perform actions. 
The script name is also known as the death variable. Example is from CUT01.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CutSceneId(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUAPanic(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LeaveAreaLUA(&quot;AR0700&quot;,&quot;&quot;,[2753.868],4)<br />
(cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="128">128 AnkhegEmerge()</a></div>
<div class="indent1">
Used by ankegs (big surprise there hehe) to give the appearance of emerging from the 
ground. But it is not used in their scripts. I think these 2 actions are called from the exe.<br />
<br />
(these both seem to do nothing in a script for PCs.)<br />
<br />
</div>

<div class="actionHeader"><a name="129">129 AnkhegHide()</a></div>
<div class="indent1">
Used by ankegs (another big surprise) to give the appearance of hiding in the ground. But 
it is not used in their scripts.<br />
<br />
(these both seem to do nothing in a script for PCs.)<br />
<br />
</div>

<div class="actionHeader"><a name="130">130 RandomTurn()</a></div>
<div class="indent1">
Does just that. It is used in bg2 in a script called WAITTURN.bcs...<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;True()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RandomTurn()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="131">131 Kill(O:Object*)</a></div>
<div class="indent1">
Causes the object to die, dropping loot if he has any.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KillArntra04&quot;,&quot;AR0307&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KillArntra04&quot;,&quot;AR0307&quot;,2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;arntra04&quot;,Face(10))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ForceSpell(&quot;arntra04&quot;,CLERIC_FLAME_STRIKE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Kill(&quot;arntra04&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;Arntra05&quot;,[3213.485],0)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="132">132 VerbalConstant(O:Object*,I:Constant*soundOff)</a></div>
<div class="indent1">
Plays a sound file that is linked to the object. Only example of this I have seen is 
from JC's Teamwork scripts from bg1. It is not used in bg2. And in bg1 it is used in 
Gorion's script once.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;HotKey(H)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;VerbalConstant(Myself,HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Help()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Delay(2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPPercentLT(Myself,35)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #95<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #5<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;VerbalConstant(Myself,HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Shout(HURT)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Continue()<br />
END<br />
</div>
<br />
// if someone else is hurt heal them<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Heard([PC],HURT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HaveSpell(INNATE_LAY_ON_HANDS)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Spell(LastHeardBy(Myself),INNATE_LAY_ON_HANDS)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="133">133 ClearActions(O:Object*)</a></div>
<div class="indent1">
Clears the actions on that object only. Example from AR2400.bcs.Usually used before 
cutscenes to avoid any ActionLists from interfering with the cutscene.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;udWaitOgreDoor&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;HaveOgreOpenDoor&quot;,&quot;AR2400&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;udGithDead&quot;,&quot;AR2400&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Global(&quot;udMind&quot;,&quot;GLOBAL&quot;,30)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetInterrupt(FALSE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;HaveOgreOpenDoor&quot;,&quot;AR2400&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player5)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ClearActions(Player6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetInterrupt(TRUE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutSceneMode()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartCutScene(&quot;Cut44i&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="134">134 AttackReevaluate(O:Target*,I:ReevaluationPeriod*)</a></div>
<div class="indent1">
Attacks and reevaluates the situation after the time specified, I belive the time is in 
15ths of a second. Reevaluate meaning run through the script to see if any other conditions are true.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([EVILCUTOFF])<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(LastSeenBy(),4)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!InParty(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Allegiance(LastSeenBy(Myself),GOODCUTOFF)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Class(LastSeenBy(Myself),INNOCENT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;InWeaponRange(LastSeenBy())<br />
&nbsp;&nbsp;&nbsp; &nbsp;HasWeaponEquiped()<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate(LastSeenBy(),30)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="135">135 LockScroll()</a></div>
<div class="indent1">
Not used in any scripts in bg2. However testing shows this action locks the screen from 
moving on the selected Object, maybe useful if you don't like moving the screen yourself.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;CombatCounter(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;LockScroll()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="136">136 UnlockScroll()</a></div>
<div class="indent1">
Not used in any scripts in bg2, however this command simply unlocks the screen so it can 
be scrolled again.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HotKey(H)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!CombatCounter(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;UnlockScroll()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="137">137 StartDialog(S:DialogFile*,O:Target*)</a></div>
<div class="indent1">
Starts a dialog with the target object. The dialog can be any associated ********.dlg file. 
Unlike the other action, Dialog(), StartDialog() will start a dialog from a distance. If the 
creature using this action has been assigned a dialog that has  all top level conditions 
returning false, this action will not work.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([PC])<br />
&nbsp;&nbsp;&nbsp; &nbsp;NumTimesTalkedTo(0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartDialog(&quot;andris&quot;,[PC])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="137">137 StartDialogue(S:DialogFile*,O:Target*)</a></div>
<div class="indent1">
See above.<br />
<br />
</div>

<div class="actionHeader"><a name="138">138 SetDialog(S:DialogFile*)</a></div>
<div class="indent1">
See below.<br />
<br />
</div>

<div class="actionHeader"><a name="138">138 SetDialogue(S:DialogFile*)</a></div>
<div class="indent1">
Sets the dialog file associated with the object running the script to the dialog file 
(********.DLG) specified. SetDialogue(&quot;&quot;) will set the dialog file to none.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;AttackedBy([GOODCUTOFF],DEFAULT)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KR_CHANGE_DIALOG&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetDialogue(&quot;&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KR_CHANGE_DIALOG&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="139">139 PlayerDialog(O:Target*)</a></div>
<div class="indent1">
Not used in bg2/SOA or TOB.<br />
<br />
(never been tested)<br />
<br />
</div>

<div class="actionHeader"><a name="139">139 PlayerDialogue(O:Target*)</a></div>
<div class="indent1">
Not used in bg2/SOA or TOB.<br />
<br />
(never been tested)<br />
<br />
</div>

<div class="actionHeader"><a name="140">140 GiveItemCreate(S:ResRef*,O:Object*,I:Usage1*,I:Usage2*,I:Usage3*)</a></div>
<div class="indent1">
Gives the item specified ((RESREF) and also creates it) to the specified object. Parameter 
1 is the number, parameter 2 is the amount of charges (or quantity if its stackable), parameter 
3 is charges on a secondary spell or effect.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;GlobalTimerExpired(&quot;dwVith&quot;,&quot;GLOBAL&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;dwVithal&quot;,&quot;GLOBAL&quot;,3)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateVisualEffectObject(&quot;SPPLANAR&quot;,&quot;udvith&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Wait(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Activate(&quot;udvith&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl8z&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9g&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9e&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9v&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveItemCreate(&quot;scrl9r&quot;,&quot;udvith&quot;,1,1,0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;dwVithal&quot;,&quot;GLOBAL&quot;,4)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="141">141 GivePartyGoldGlobal(S:Name*,S:Area*)</a></div>
<div class="indent1">
Will give the party a sum of gold corresponding to the given global variable. The gold amount is deducted from the actor running the script. For example:
<br />
<div class="code">
IF<br />
Global("Cash","GLOBAL",0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal("Cash","GLOBAL",50)<br />
GivePartyGoldGlobal("Cash","GLOBAL")<br />
END<br />
</div>
<br />
This will give the party 50 gold.<br />
<br />
</div>

<div class="actionHeader"><a name="142">142 UseDoor()</a></div>
<div class="indent1">
Not needed see below...<br />
<br />
</div>

<div class="actionHeader"><a name="143">143 OpenDoor(O:Object*)</a></div>
<div class="indent1">
Will open the specified door, but will not work if the door is locked unless the object has 
high str.Also some specially lock doors cannot be picked or forced open, doors that are plot 
specific for example.Also if a door is locked and you use this action on a creature the 
creature may continue attempting to open the door even after other actions are issued, 
since it gets stuck on the first action. I tried unsuccessfully to implement door opening 
before TOB came out, without success. Heres an older script I was using that checked each 
door name:<br />
<br />
<div class="code">
IF<br />
See(&quot;Door01&quot;<br />
OpenState(&quot;Door01&quot;,FALSE)<br />
!See([GOODCUTOFF])<br />
!TargetUnreachable(&quot;Door01&quot;)<br />
THEN<br />
RESP ONSE #100<br />
MoveToObjectNoInterrupt(&quot;Door01&quot;)<br />
Unlock(&quot;Door01&quot; )<br />
OpenDoor(&quot;Door01&quot;)<br />
END<br />
</div>
<br />
(Note that you would need to do this for every door in the game (alot of door names) and 
then you would ruin plot locked doors. If you tried to open them without unlocking them, 
it could cause weird behavior in cres when they get 'stuck' opening doors that cant be opened.)<br />
In tob it might be possible to use the new door objects found in objects.ids instead to open 
the doors, but if 'Disarmed' and 'unlocked' triggers still dont work for doors then it wont be 
much help. Heres a url to why door opening is problematic (towards the bottom of the post) 
<a href="http://www.gamebanshee.com/cgi-bin/ubb/ultimatebb.cgi?ubb=get_topic&amp;f=2&amp;t=006288." target="_blank">http://www.gamebanshee.com/cgi-bin/ubb/ultimatebb.cgi?ubb=get_to pic&amp;f=2&amp;t=006288.</a><br />
<br />
In TOB using this script:<br />
<br />
<div class="code">
IF<br />
See(NearestDoor(Myself))<br />
OpenState(NearestDoor(Myself),FALSE)<br />
THEN<br />
RESPONSE #100<br />
MoveToObjectNoInterrupt(NearestDoor(Myself))<br />
OpenDoor(NearestDoor(Mys elf))<br />
END<br />
</div>
<br />
Seems to lock up the game or boot me out of the game...<br />
<br />
</div>

<div class="actionHeader"><a name="144">144 CloseDoor(O:Object*)</a></div>
<div class="indent1">
Closes the specfied door. With TOB It might be possible to use CloseDoor(NearestDoor()) as an 
action. Prior to TOB you need the door name.<br />
<br />
Example is from AR0300.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;LyrosJob&quot;,&quot;GLOBAL&quot;,3)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;lyros&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Exists(&quot;Rylock&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;RylockLeavesHarperDoor&quot;,&quot;AR0300&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;RylockLeavesHarperDoor&quot;,&quot;AR0300&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CloseDoor(&quot;DOOR0308&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Lock(&quot;DOOR0308&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Rylock&quot;,EscapeArea())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="145">145 PickLock(O:Object*)</a></div>
<div class="indent1">
Must be the action the thief uses to do just that.<br />
<br />
(Never tested)<br />
<br />
</div>

<div class="actionHeader"><a name="146">146 Polymorph(I:AnimationType*Animate)</a></div>
<div class="indent1">
Causes the object running the script to change animation to the specifed animation. The animation 
is from Animate.ids. Note: this is one of the actions used to change characters into other things 
like mindflayers or fire elementals.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;!InPartyAllowDead(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!GlobalGT(&quot;AerieTransform&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Aerie&quot;,&quot;AR0607&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KalahI&quot;,&quot;AR0607&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MoveGlobal(&quot;Ar0607&quot;,&quot;Aerie&quot;,[318.378])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ChangeEnemyAlly(&quot;Aerie&quot;,NEUTRAL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Aerie&quot;,&quot;AR0607&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Aerie&quot;,Polymorph(MAGE_FEMALE_ELF))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Aerie&quot;,SetBeenInPartyFlags())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;AerieTransform&quot;,&quot;GLOBAL&quot;,2)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="147">147 RemoveSpell(I:Spell*Spell)</a></div>
<div class="indent1">
Removes the selected spell from the object running the script. The spell can be innate, 
priest, wizard, anything, as long as its listed in spell.ids. This will remove all spellbook 
references of a spell from a character, but will not remove it from memory. For innate 
abilities, it will remove all usable instances of the spell.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KR_ANTI_PALADIN_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_LAY_ON_HANDS)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_DETECT_EVIL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RemoveSpell(PALADIN_PROTECTION_FROM_EVIL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;KR_ANTI_PALADIN_CHANGE&quot;,&quot;LOCALS&quot;,2)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a nam3="148"> 148 BashDoor(0:Object)</a></div>
<div class="indent1">
Is broken due to the improper coding of 0 (it should be O). Never tried it after fixing 
it...However the opendoor command will check strand force the door if the door is locked 
and the object trying to open it has sufficient strength. So this action is not needed.<br />
<br />
</div>

<div class="actionHeader"><a name="149">149 EquipMostDamagingMelee()</a></div>
<div class="indent1">
Equips the most damaging melee from the quickslots. The most damaging is selected from its 
TO HIT value and damage. Special bonuses versus creature types are not checked, nor are 
added elemental damages.<br />
<br />
<div class="code">
IF<br />
&nbsp;See([EVILCUTOFF])<br />
THEN<br />
&nbsp; RESPONSE #100<br />
&nbsp;&nbsp;&nbsp; EquipMostDamagingMelee()<br />
&nbsp;&nbsp;&nbsp; Attack([EVILCUTOFF])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="150 StartStore(S:Store*,O:Target*)">150 StartStore(S:Store*,O:Target*)</a></div>
<div class="indent1">
Starts the specified store (********.STO) with the specified object. Useful for custom 
merchants. And mostly used in dialogues instead of scripts, though the actions are the 
same for both.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KRSTART_STORE&quot;,&quot;LOCALS&quot;,1)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartStore(&quot;Tem4802&quot;,LastTalkedToBy())<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="151">151 DisplayString(O:Object*,I:StrRef*)</a></div>
<div class="indent1">
Displays a dialog.tlk reference &nbsp;number in the message window on the object specified. 
So if I wanted my character to display 'quaffs a potion' in the message window when he 
drinks a potion of extra healing, I would use:<br />
<br />
<div class="code">
IF<br />
HasItem(&quot;potn52&quot;,())<br />
HPPercentLT((),50)<br />
THENRESPONSE #100<br />
UseItem(&quot;potn52&quot;,())<br />
DisplayString((),46150)<br />
END<br />
</div>
<br />
(Note this action is different than the DisplayStringHead(OBJECT,STRING) action which 
displays text over their head instead.<br />
<br />
</div>

<div class="actionHeader"><a name="152">152 ChangeAIType(O:Object*)</a></div>
<div class="indent1">
Is not used in bg2, however it is used in IWD/HOW I believe, for what I have no clue...<br />
<br />
(never been tested)<br />
<br />
</div>

<div class="actionHeader"><a name="153">153 ChangeEnemyAlly(O:Object*,I:Value*EA)</a></div>
<div class="indent1">
Is used to change the enemy/ally parameter of a creature. This parameter determines if 
the creature is friendly to you (blue or green circle) or hostile (Red circle). The 
values are from EA.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_ENEMYALLY_CHANGE&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_ENEMYALLY_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeEnemyAlly(Myself,NEUTRAL)<br />
END<br />
</div>
<br />
Note: Another way of doing this is simply using Enemy() or Ally() in the response if 
you want to change the object running the scripts' Enemy/Ally parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="154">154 ChangeGeneral(O:Object*,I:Value*General)</a></div>
<div class="indent1">
Changes the general classification of the object to the value specified. The General 
values are found in General.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_GENERAL_CHANGE&quot;,&quot;LOCALS&quot; ,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_GENERAL_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeGeneral((),UNDEAD)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="155">155 ChangeRace(O:Object*,I:Value*Race)</a></div>
<div class="indent1">
Changes the race classification of the object to the value specified. The race values are 
found in Race.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_RACE_CHANGE&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_RACE_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeRace( (),DRAGON)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="156">156 ChangeClass(O:Object*,I:Value*Class)</a></div>
<div class="indent1">
Changes the class classification of the object to the value specified. The class values are 
found in Class.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_CLASS_CHANGE&quot;,&quot;LOCALS&quot;,0)&lt; br&gt;THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_CLASS_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeClass((),FIGHTER)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="157">157 ChangeSpecifics(O:Object*,I:Value*Specific)</a></div>
<div class="indent1">
Is used for specific information about NPCs. This is a weird parameter not fully understood,
since the Specifics can store either a script or a String. In the example script, Sarkyn uses 
the specifics to insure something is not repeated in his excellent Bg2 player scripts. Go to 
bw scripts and check out his player scripts for the best ones currently. The script below 
assigns the simulacrum created via the spell a script called 'gbSim' so they don't just stand 
there. Note that you could adapt this below snippet to your own use by creating a script for 
your simulacrum then compiling it to a bcs and placing it in your override folder, then using 
its name in place of gbsim.<br />
Does not work correctly in multiplayer games when set on player characters. I am not sure about
creatures, but I have learned to avoid it all together when scripting for multiplayer.<br />
<br />
A common mistake with ChangeSpecifics() is using values over 255. The specifics value is only 
ONE BYTE on a creature, and so should only range from 0 to 255.<br />
<br />
<div class="code">
// Simulacrum AI Change<br />
IF<br />
See([ALLY])<br />
!InParty(LastSeenBy(Myself))<br />
!Gender(LastSeenB y(Myself),SUMMONED)<br />
!General(LastSeenBy(Myself),ANIMAL)<br />
!General(LastSeenB y(Myself),MONSTER)<br />
!General(LastSeenBy(Myself),UNDEAD)<br />
!General(LastSeenBy (Myself),GIANTHUMANOID)<br />
!Race(LastSeenBy(Myself),ELEMENTAL)<br />
!Race(LastSeen By(Myself),MEPHIT)<br />
!Race(LastSeenBy(Myself),IMP)<br />
!HasItem(&quot;IMOENHP1&amp;q uot;,LastSeenBy(Myself))<br />
!HasItem(&quot;MINHP1&quot;,LastSeenBy(Myself))<br />
!Specifics(LastSeenBy(Myself),100)<br />
THEN<br />
RESPONSE #100<br />
DisplayStringHead(LastSeenBy(Myself),26234) // 'Simulacrum'<br />
ActionOverride(LastSeenBy(Myself),ChangeAIScript(&quot;gbSim&amp;quo t;,DEFAULT))<br />
ChangeSpecifics(LastSeenBy(Myself),100)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="158">158 ChangeGender(O:Object*,I:Value*Gender)</a></div>
<div class="indent1">
Changes the gender classification of the object to the value specified. The gender values are 
found in Gender.ids. Note that by changing the gender of summoned creatures to NEITHER, you can 
defeat the Bioware imposed 5 critter summoning limit. Heres an example script to do that based 
off Sarkyns above script.<br />
<br />
<div class="code">
IF<br />
See([ALLY])<br />
!InParty(LastSeenBy(Myself))<br />
Gender(LastS eenBy(Myself),SUMMONED)<br />
!Specifics(LastSeenBy(Myself),3001)<br />
THEN<br />
RESPON SE #100<br />
ChangeGender(LastSeenBy(),NEITHER)<br />
ChangeSpecifics(LastSeenBy(Myself) ,3001)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="159">159 ChangeAlignment(O:Object*,I:Value*Align)</a></div>
<div class="indent1">
Changes the alignment classification of the object to the value specified. The alignment values 
are found in Align.ids.<br />
<br />
<div class="code">
IF<br />
Global&quot;KR_ALIGN_CHANGE&quot;,&quot;LOCALS&quot;,0)&lt; br&gt;THEN<br />
RESPONSE #100<br />
SetGlobal&quot;KR_ALIGN_CHANGE&quot;,&quot;LOCALS&quot;,1)<br />
ChangeAlignment(LastSeenBy(Myself),CHAOTIC_GOOD)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="160">160 ApplySpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
Instantly (1/4 of a second or less usually.) Does not play the casting animations. Used to mimic 
contingencies for enemy spell casters. Also, the spell cannot be interrupted and area effect spells 
that target multiple objects will only affect the specified (single) object.<br />
<br />
Example is used to mimic a contigency from MAGE18Y.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Prep&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_STONE_SKIN)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_SPELL_TRAP)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_MIRROR_IMAGE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_SPELL_TURNING)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(Myself,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ApplySpell(SixthNearestEnemyOf(Myself),WIZARD_MONSTER_SUMMONING_4)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;Prep&quot;,&quot;LOCALS&quot;,1)<br />
END<br />
</div>
<br />
Note here that, whereas in normal spellcasting the dice values for effects, for example a 50% chance 
of damaging a target, are calculated right at the beginning of casting, ApplySpell() and ApplySpellRES() 
only calculate this when first initiated. For example... let's say I write ApplySpell(Myself,SPELL1) 
and ApplySpell(Myself,SPELL2) directly after one another in a script. I roll a 50 in my 1d100 die roll. 
Both SPELL1 and SPELL2 will use this die value to determine whether or not to apply random effects.<br />
<br />
</div>

<div class="actionHeader"><a name="161">161 IncrementChapter(S:RESREF*)</a></div>
<div class="indent1">
Is used to display two strings from a 2da file called CHTXT**.2da, with ** being the chapter 1-10. 
The first string from the 2da corresponds to the current chaper, and the second is the text displayed 
about that chapter.For example here is CHTEXT5.2da's top lines:<br />
<br />
<div class="code">
2DA V1.0<br />
NONE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1<br />
SWITCH
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;DEFAULT &nbsp;&nbsp;&nbsp; DEFAULT<br />
DEFAULT
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
16207 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 15839<br />
DWARF
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
</div>
<br />
Now heres the two strings' meanings:<br />
<br />
strref: 16207<br />
Text: Chapter 5<br />
<br />
strref: 15839<br />
Text: You have dealt a great blow to the organization known as the Iron Throne; a defeat that 
you are certain will not be ignored. &nbsp;Now you must travel to the great city of Baldur's Gate, 
where you are certain to find the truth behind the strange plot that plagues the citizens of the Sword Coast.<br />
<br />
And finally heres an example script that runs the action.(From AR1803.bcs)<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;Davaeorn&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Chapter&quot;,&quot;GLOBAL&quot;,4)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RevealAreaOnMap(&quot;AR0900&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IncrementChapter(&quot;Chptxt5&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AddJournalEntry(15839,USER)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="162">162 ReputationSet(I:Reputation*)</a></div>
<div class="indent1">
Not used in any in-game scripts. As the name suggests this action is used to set the reputation 
of the player characters to a set value.<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;KRGOODDEED&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetReputation(20)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SG(&quot;KRGOODDEED&quot;,1<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="163">163 ReputationInc(I:Reputation*)</a></div>
<div class="indent1">
Increases the reputation of the player characters by the specified amount. The example is from 
Baldur.bcs. Even though this is an increase you can use a negative number to lower rep.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;InParty(&quot;Viconia&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;ViconiaJoinedParty&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ReputationInc(-2)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;ViconiaJoinedParty&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="164">164 AddexperienceParty(I:XP*)</a></div>
<div class="indent1">
Adds the amount of XP specified to the party. The example is from AR1300.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;OpenState(&quot;Bridge01&quot;,TRUE)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BridgeOpen&quot;,&quot;GLOBAL&quot;,0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;Torgal&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;BridgeOpen&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DisplayString(Myself,'The
drawbridge has been lowered.')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;KPCAPT03&quot;,[2400.1592],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;KPSOLD03&quot;,[2425.1676],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;KPSOLD04&quot;,[2371.1754],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;KPSOLD05&quot;,[2315.1805],6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;TROLGI01&quot;,[2391.1592],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;TROLGI02&quot;,[2282.1742],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;KPYUAN01&quot;,[2251.1731],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AddexperienceParty(29750)<br />
(Cut short for brevity)<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="165">165 AddExperiencePartyGlobal(S:Name*,S:Area*)</a> </div>
<div class="indent1">
Adds a value of experience corresponding to a global variable to the party. For example:<br />
<br />
<div class="code">
IF<br />
Global("MyXP","GLOBAL",0)<br />
THEN<br />
RESPONSE #100<br />
SetGlobal("MyXP","GLOBAL",50)<br />
AddExperiencePartyGlobal("MyXP","GLOBAL")<br />
END<br />
</div>
<br />
Will add 50 XP to the party.<br />
<br />
</div>

<div class="actionHeader"><a name="166">166 SetNumTimesTalkedTo(I:Num*)</a></div>
<div class="indent1">
Sets the number of times the object running the script has been talked to by player characters. 
The example is from AR0103.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;BrielbaraMove&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Exists(&quot;Brielbara&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;Brielbara&quot;)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;CreateCreature(&quot;BRIELB&quot;,[418.376],0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ActionOverride(&quot;Brielbara&quot;,SetNumTimesTalkedTo(1))<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="167">167 StartMovie(S:ResRef*)</a></div>
<div class="indent1">
Is used to play a movie (.mve format). The example is from AR108.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;EnteredPalace&quot;,&quot;GLOBAL&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;StartMovie(&quot;PALACE&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;EnteredPalace&quot;,&quot;GLOBAL&quot;,1)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="168">168 Interact(O:Object*)</a></div>
<div class="indent1">
Is used for initiating interparty banter betweeen NPCs. The Example used is from Edwin.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;InParty(Myself)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Gender(Myself,FEMALE)<br />
&nbsp;&nbsp;&nbsp; &nbsp;InParty(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;See(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Dead(&quot;Aerie&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!StateCheck(&quot;Aerie&quot;,STATE_SLEEPING)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Range(&quot;Aerie&quot;,10)<br />
&nbsp;&nbsp;&nbsp; &nbsp;CombatCounter(0)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Range(SecondNearest([PC]),10)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;EdwinW1&quot;,&quot;LOCALS&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Interact(&quot;Aerie&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="169">169 DestroyItem(S:ResRef*)</a></div>
<div class="indent1">
Completly destroys all instances of the specified item from the object running the script. 
The example is from AR1000.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;CerndBaby&quot;,&quot;GLOBAL&quot;,1)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;CerndBabyTake&quot;,&quot;AR1000&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;CerndBabyTake&quot;,&quot;AR1000&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;TakePartyItem(&quot;misc8t&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DestroyItem(&quot;misc8t&quot;)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="170">170 RevealAreaOnMap(S:ResRef*)</a></div>
<div class="indent1">
Adds an ARE file to the WMP to enable traveling to it via world map.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;Davaeorn&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;Chapter&quot;,&quot;GLOBAL&quot;,4)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RevealAreaOnMap(&quot;AR0900&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IncrementChapter(&quot;Chptxt5&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AddJournalEntry(15839,USER)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="171">171 GiveGoldForce(I:Amount*)</a></div>
<div class="indent1">
Forces the amount of gold. This means that, unlike GivePartyGold(), GiveGoldForce() does 
not require the action's user to have the gold to give it. Another feasible name, then, 
could be AddPartyGold(I:Amount*). Note that using a negative value here will remove gold 
from the performer of the action, which can be very useful for scrapping gold.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;NumTimesTalkedTo(30)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetNumTimesTalkedTo(31)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GiveGoldForce(300)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="172">172 ChangeTileState(O:Tile*,I:State*Boolean)</a></div>
<div class="indent1">
Is used to toggle the open/closed state graphics of a tile in a WED file. This would most 
commonly be associated with doors, but a door does not have to exist in the ARE for this 
action to work since it references a name in the WED file.<br />
<br />
</div>

<div class="actionHeader"><a name="173">173 AddJournalEntry(I:Entry*,I:Type*JourType)</a></div>
<div class="indent1">
Adds a dialog tlk reference number into your journal. Example is from AR0511.bcs.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;JanGith1&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Dead(&quot;JanGith2&quot;)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;ThumbSeeker&quot;,&quot;GLOBAL&quot;,2)<br />
&nbsp;&nbsp;&nbsp; &nbsp;Global(&quot;HiddenJournal&quot;,&quot;AR0511&quot;,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetGlobal(&quot;HiddenJournal&quot;,&quot;AR0511&quot;,1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AddJournalEntry(34726,QUEST)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="174">174 EquipRanged()</a></div>
<div class="indent1">
Equips a ranged weapon if one is in a quickslot.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;See([EVILCUTOFF])<br />
&nbsp;&nbsp;&nbsp; &nbsp;!Range([EVILCUTOFF],4)<br />
&nbsp;&nbsp;&nbsp; &nbsp;OR(28)<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquiped(&quot;Bow01&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquiped(&quot;Bow02&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquiped(&quot;Bow03&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquiped(&quot;Bow04&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow05&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow06&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow07&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow08&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow09&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow10&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow11&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow12&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow13&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow14&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow15&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow16&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow17&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow18&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow19&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow20&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow21&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow22&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow23&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow24&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow25&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow26&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow98&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;!HasItemEquipedReal(&quot;Bow99&quot;,())<br />
&nbsp;&nbsp;&nbsp; &nbsp;THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;EquipRanged()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;AttackReevaluate([EVILCUTOFF],30)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="175">175 SetLeavePartyDialogFile()</a></div>
<div class="indent1">
Is used to set the associated NPC party leave dialog, usually a couple questions like you want me 
to stay here or go to the Copper Coronet?<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp; &nbsp;!InParty(Myself)<br />
&nbsp;&nbsp;&nbsp; &nbsp;HPGT(Myself,0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp; &nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;SetLeavePartyDialogFile()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Dialogue(Player1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ChangeAIScript(&quot;&quot;,DEFAULT)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="175">175 SetLeavePartyDialogueFile()</a></div>
<div class="indent1">
See above.<br />
<br />
Something I want add: The triggers used in the game do not ever exceed 31. So I believe that is the 
limit for them. Triggers are the conditons that determine if the script actions occur, like InParty()
 or HPPercentLT.<br />
<br />
</div>

<div class="actionHeader"><a name="176">176 EscapeAreaDestroy(I:Delay*)</a></div>
<div class="indent1">
The actor who issues this action will search for the nearest travel trigger point for the specified 
Delay time before giving up and destroying itself completely from the game (as per DestroySelf()).<br />
<br />
</div>

<div class="actionHeader"><a name="177">177 TriggerActivation(O:Object*,I:State*Boolean)</a></div>
<div class="indent1">
This action is used in conjunction with trigger points in ARE files. It will toggle the appearance 
flag of a trigger, so using TriggerActivation("TRAP01",FALSE) will stop TRAP01 from doing anything, 
and using TriggerActivation("TRAP01",TRUE) would enable it.<br />
<br />
</div>

<div class="actionHeader"><a name="178">178 BreakInstants()</a></div>
<div class="indent1">
Presumably fongs instants. And their lassies.<br />
Really, though, this is completely untested, but I'd assume that this adds instants (seen in the 
INSTANT.ids) to the action list rather than performing them immediately.<br />
<br />
</div>

<div class="actionHeader"><a name="179">179 DialogInterrupt(I:State*Boolean)</a></div>
<div class="actionHeader"><a name="179">179 DialogueInterrupt(I:State*Boolean)</a></div>
<div class="indent1">
When set to false, this prevents the creature running the script from receiving dialog requests, or issuing any verbal constants.<br />
This information is not saved.<br />
<br />
</div>

<div class="actionHeader"><a name="180">180 MoveToObjectFollow(O:Object*)</a></div>
<div class="indent1">
This will make the performer of the action move to the specified object. Once he reaches the 
object, however, the action is not over. Any time the object moves, this action will still take 
effect... at least until a different action is issued or until the creature travels between areas.<br />
<br />
</div>

<div class="actionHeader"><a name="181">181 ReallyForceSpell(O:Target,I:Spell*Spell)</a></div>
<div class="indent1">
This is yet another action in the Spell() family. This command will do the same thing as 
ForceSpell(), but with 0 casting time.<br />
The casting creature must meet the level requirements as set in the spell file.<br />
<br />
</div>

<div class="actionHeader"><a name="182">182 MakeUnselectable(I:Time*)</a></div>
<div class="indent1">
This action does what it says and a little bit more. When used, it will change the target's 
circle to purple and make it unselectable by anyone. And although it doesn't say it outright, 
the user of MakeUnselectable() has its scripts stop running for the duration. Using 
MakeUnselectable(0) will end the unselectable state.<br />
<br />
</div>

<div class="actionHeader"><a name="183">183 MultiPlayerSync()</a></div>
<div class="indent1">
This is used in multiplayer games, usually cutscenes, to ensure that players are at the same 
point before continuing play. You can think of it as a lag buffer of sorts. Players with faster 
connections will wait for players with slower connections to catch up before the game continues. 
This helps prevent both major lag and crashes.<br />
<br />
</div>

<div class="actionHeader"><a name="184">184 RunAwayFromNoInterrupt(O:Creature*,I:Time*)</a></div>
<div class="indent1">
This does the same thing as RunAwayFrom(), but prevents conditions from being tested while the 
Time is still active.<br />
<br />
</div>

<div class="actionHeader"><a name="185">185 SetMasterArea(S:Name*)</a></div>
<div class="indent1">
To explain SetMasterArea(), you must understand how area scripts are run. Whenever you enter a 
new area that is NOT in the MASTAREA.2da, it will be added to the bottom of the area script stack. 
Whenever you enter a new area that IS in the MASTAREA.2da, it will be added to the top of the area 
script stack. Let's say I have one player in AR0900 and one player in AR0902.Both scripts are 
active, with AR0900 on the top of the stack because it appears in MASTAREA.2da. Using 
SetMasterArea("AR0902") would change it so that AR0902.bcs is added to the top of the stack, 
directly above AR0900.bcs.<br />
<br />
This may seem useless at first, but if you get into priority scripting in areas, this is must 
have knowledge--otherwise you'll have problems and say "WHY ISN'T MY AREA SCRIPT WORKING!?"<br />
<br />
</div>

<div class="actionHeader"><a name="186">186 EndCredits()</a></div>
<div class="indent1">
This, surprisingly enough, starts the ending credits.<br />
<br />
</div>

<div class="actionHeader"><a name="187">187 StartMusic(I:Slot*,I:Flags*MFLAGS)</a></div>
<div class="indent1">
Starts playing a music track. The Slot parameter refers to the one of the 10 music slots contained in the .are header (see MUSICS.IDS from IWDII).
The Flags parameter refers to the way the song should be played (fade in/out, straight, etc.). See MFLAGS.ids for possible values.<br />
<br />
</div>

<div class="actionHeader"><a name="188">188 TakePartyItemAll(S:Item*)</a></div>
<div class="indent1">
Will take all instances of the specified item from the party and give them to the performer 
of this action (excepting items contained in a Bag of Holding, and possibly other containers such as Scroll cases).<br />
<br />
</div>

<div class="actionHeader"><a name="189">189 LeaveAreaLUAPanic(S:Area*,S:Parchment*,P:Point*,I:Face*)</a></div>
<div class="indent1">
This really does the same thing as LeaveAreaLUA(). Completely pointless as far as I'm concerned.<br />
<br />
</div>

<div class="actionHeader"><a name="190">190 FinalSave()</a></div>
<div class="indent1">
This will save the game, named Final Save.<br />
<br />
</div>

<div class="actionHeader"><a name="191">191 SpellNoDec(O:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
If I were to lengthen the name of this action, it would be called SpellNoDecrease. In short, it 
works the same way as Spell does--it will only cast a spell if it's in memory, and it's interruptible. 
The one difference is that it will not remove the spell from a caster's memory... it says "NO!" to 
decreasing. Yeah, that's a stupid personification. Whatever.<br />
<br />
</div>

<div class="actionHeader"><a name="192">192 SpellPointNoDec(P:Target*,I:Spell*Spell)</a></div>
<div class="indent1">
See above. This one just targets a point in [x.y] format as opposed to an object.<br />
<br />
</div>

<div class="actionHeader"><a name="193">193 TakePartyItemRange(S:Item*)</a></div>
<div class="indent1">
This seems pretty useless to me since you can't specify a range, but the performer of this action 
will only be able to take the given item if he is close to a party member.<br />
<br />
</div>

<div class="actionHeader"><a name="194">194 ChangeAnimation(S:ResRef*)</a> ChangeAnimation(S:ResRef*)</div>
<div class="indent1">
This action will change the performer into the animation of the specified CRE file.<br />
<br />
</div>

<div class="actionHeader"><a name="195">195 Lock(O:Object*)</a></div>
<div class="indent1">
The object here should be a door or container in a given area. This isn't too scriptable for 
player AI, but can be a good effect for creature/area scripts. It locks doors and containers.<br />
<br />
</div>

<div class="actionHeader"><a name="196">196 Unlock(O:Object*)</a></div>
<div class="indent1">
See above. It unlocks doors and containers.<br />
<br />
</div>

<div class="actionHeader"><a name="197">197 MoveGlobal(S:Area*,O:Object*,P:Point*)</a></div>
<div class="indent1">
This action is ONLY useful for NPC's that have already been added to the saved game file. It will 
jump the given object to the area and point specified. The syntax is pretty straightforward:<br />
<br />
<div class="code"> MoveGlobal("AREA","MINSC",[x.y]) </div>
<br />
</div>

<div class="actionHeader"><a name="198">198 StartDialogueNoSet(O:Object*)</a></div>
<div class="actionHeader"><a name="198">198 StartDialogNoSet(O:Object*)</a></div>
<div class="indent1">
Will start a dialog already assigned to the performer of this action with the object. Unlike 
Dialog(), this is used from a distance. It will initiate whether or not a character is in sight. 
If the creature using this action has been assigned a dialog that has all top level conditions 
returning false, this action will not work.<br />
<br />
</div>

<div class="actionHeader"><a name="199 TextScreen(S:TextList*)">199 TextScreen(S:TextList*) </a></div>
<div class="indent1">
The TextList parameter refers to a 2da file. The 2da file specifies both a strref and 
a MOS file which allows for text screens to be played.<br />
<br />
</div>

<div class="actionHeader"><a name="200">200</a> RandomWalkContinuous()</div>
<div class="indent1">
See RandomWalk(). The only difference here is the character tends not to stand around at all.<br />
<br />
</div>

<div class="actionHeader"><a name="201">201</a> DetectSecretDoor(O:Object*)</div>
<div class="indent1">
Not very usable in player scripts since you have to know the name of the door--which should be 
secret--before using this action. Might be good in an area script for effect, however. This will 
highlight an undetected secret door in that purple "detected" color.<br />
<br />
</div>

<div class="actionHeader"><a name="202">202</a> FadeToColor(P:Point*,I:Blue*)</div>
<div class="indent1">
This action, although some of its parameters are unknown, is frequently useful. It can be used in 
cutscene situations, and especially for masking undesirable calculations or character movements on 
the screen. The parameters, however, are strange. The Point parameter is still taken in the [x.y] 
format, but x specifies the number of AI updates rather than an actual point. For example, using 
FadeToColor([20.0],0) would fade to black in 20 AI updates. Parameters besides the x are undefined 
and could use some investigation.<br />
<br />
</div>

<div class="actionHeader"><a name="203">203</a> FadeFromColor(P:Point*,I:Blue*)</div>
<div class="indent1">
See above. The only difference this has is that it fades back to normal rather than black.<br />
<br />
</div>

<div class="actionHeader"><a name="204">204</a> TakePartyItemNum(S:ResRef*,I:Num*)</div>
<div class="indent1">
This will take a quantity of referenced items from the party. It should be noted that the game 
always runs from player1-player6. Here's an example. Player1 has 3 instances of "MYITEM" in 
his inventory, Player2 has 2 instance of "MYITEM," and Player3 has 1. If I use 
TakePartyItemNum("MYITEM",4), all 3 instances of "MYITEM" will be taken from Player1, and 
1 instance will be taken from Player2. This leaves Player2 and Player3 each with one instance 
of "MYITEM."<br />
NB. If the last item of an item type stored in a container .sto file is removed by this action, the amount becomes zero. Items with zero quantities cannot be seen in-game, cannot be removed by TakePartyItem, and will not count toward a container's current item load.<br />
<br />
</div>

<div class="actionHeader"><a name="229">229</a> FaceObject(O:Object*)</div>
<div class="indent1">
As it says, this action wall cause the user to face the specified object.<br />
<br />
</div>

<div class="actionHeader"><a name="230">230</a> RestParty()</div>
<div class="indent1">
This action will act as if the party has clicked the Rest button on the left of the screen, although it will 
work even if enemies are around and is uninterruptible.<br />
<br />
</div>

<div class="actionHeader"><a name="231">231</a> WaitRandom(I:MinTime*,I:MaxTime*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="232">232</a> StartRandomTimer(I:TimerID*,I:MinTime*,I:MaxTime*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="233">233</a> HideCreature(O:Object*,I:State*Boolean)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="234">234</a> Debug(S:Message*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="235">235</a> PlaySequence(O:Target*,I:Sequence*Sequence)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="236">236</a> SetSavedLocation()</div>
<div class="indent1">
Stores the creatures location.<br />
<br />
</div>

<div class="actionHeader"><a name="237">237</a> ReturnToSavedLocation()</div>
<div class="indent1">
Uses the saved locations from SetSavedLocation() to jump the creature back to the correct area and point.<br />
<br />
<div class="code">
IF<br />
!NearSavedLocation(7)<br />
THEN<br />
RESPONSE #100<br />
 ReturnToSavedLocation()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="238">238</a> AddXPVar(S:VarTableEntry*,I:Strref*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="239">239</a> SetInternal(O:Object*, I:Index*, I:Value*)</div>
<div class="indent1">
Each creature has 5 internal variables, indexed from 0 to 4. Each internal can hold an integer value, and acts similar to a local variable.<br />
<br />
</div>

<div class="actionHeader"><a name="240">240</a> IncrementInternal(O:Object*, I:Index*, I:Value*)</div>
<div class="indent1">
Increases the value stored at index[X] by the stated value. Value can be (probably) be negative.<br />
<br />
</div>

<div class="actionHeader"><a name="241">241</a> FloatMessage(O:Object*, I:STRREF*)</div>
<div class="indent1">
Displays the strref specified over the object specified.<br />
<br />
</div>

<div class="actionHeader"><a name="242">242</a> ChangeStat(O:Object*,I:Stat*Stats,I:Value*,I:Modifier*StatMod)</div>
<div class="indent1">
Alters a stat.<br />
Stats 12 and 13 are placeholders for saving throws
MagicDamage seems unsettable vait his command.<br />
TurnUndead seems to have no effect.<br />
UseMagicDevice set will set MoveSilently, add will set UseMagicDevice.<br />
Armourclass, ExtraStrength and Level(2/3) cause assertation failures (leftovers from 2E rules).<br />
Several other stats have no effect.<br />
<br />
</div>

<div class="actionHeader"><a name="243">243</a> IncrementGlobalOnce(S:String1*,S:String2*,S:String3*,S:String4*,I:Value*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="244">244</a> DeleteJournalEntry(I:Strref)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="245">245</a> JournalEntryDone(I:Strref)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="246">246</a> Log(S:String*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="247">247</a> BitGlobal(S:String1*,S:String2*,I:Value,I:Mode*BitMode)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="248">248</a> GlobalBitGlobal(S:String1*,S:String2*,S:String3*,S:String4*,I:Mode*BitMode)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="249">249</a> SetSavedLocationPoint(I:X*,I:Y*,I:Direction*Dir)</div>
<div class="indent1">
Acts like SetSavedLocation(), except the location is set to a specific point.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;!BitGlobal(":CREATURE_STATE_VAR","LOCALS",512,AND)<br />
&nbsp;&nbsp;GlobalGT("MIREK_QUEST","GLOBAL",3)<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;SetSavedLocationPoint(2084,1714,SE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;SetStartPos([2084.1714])<br />
&nbsp;&nbsp;&nbsp;&nbsp;BitGlobal(":CREATURE_STATE_VAR","LOCALS",512,OR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Continue()<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="250">250</a> RunAwayFromNoLeaveArea(O:Object*,I:Duration*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="251">251</a> DropInventoryEX(O:Object)</div>
<div class="indent1">
Causes the specified object to drop all inventory items (except those marked undroppable?)<br />
<br />
</div>

<div class="actionHeader"><a name="252">252</a> ChangeCurrentScript(S:Script*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="253">253</a> FadeToAndFromColor(P:Point*,I:Blue*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="254">254</a> SetHP(O:Target,I:HP*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="255">255</a> SetBestWeapon(O:Object*,I:Range*)</div>
<div class="indent1">
If the target Object is inside the specified range the creature equips their most damaging melee weapon. If the target is outside the specified range the creature equips a ranged weapon (most damaging ranged weapon?).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;See(NearestEnemyOf(Myself))<br />
&nbsp;&nbsp;!Allegiance(NearestEnemyOf(Myself),PC)<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;Shout(ATTACKING)<br />
&nbsp;&nbsp;&nbsp;&nbsp;SetBestWeapon(NearestEnemyOf(Myself),6)<br />
&nbsp;&nbsp;&nbsp;&nbsp;AttackReevaluate(NearestEnemyOf(Myself),105)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="256">256</a> SetDialogueRange(I:Range*)</div>
<div class="indent1">
Sets the range that the object in Dialogue() or DialogueNoSet() must within for those commands to trigger.<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;NumTimesTalkedTo(0)<br />
&nbsp;&nbsp;See([PC])<br />
&nbsp;&nbsp;!Allegiance(Myself,ENEMY)<br />
&nbsp;&nbsp;!Dead(Myself)<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;SetDialogueRange(75)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Dialogue([PC])<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="257">257</a> ForceHide(O:Target*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="258">258</a> RestUntilHealed()</div>
<div class="indent1">
The party rests until all PCs are fully healed. Healing Spells are cast?<br />
<br />
</div>

<div class="actionHeader"><a name="259">259</a> SetVisualRange(I:Range*)</div>
<div class="indent1">
Sets the visual range for all creatures (active? unactive?) in an area.<br />
Unknown if it affects the party. <br />
<br />
</div>

<div class="actionHeader"><a name="260">260</a> JumpToPointInstant(O:Object*,P:Point*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="261">261</a> TimedMoveToPoint(P:Point*,I:Timeout*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="262">262</a> ReturnToSavedLocationDelete()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="263">263</a> MoveToObjectUntilSee(O:Target*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="264">264</a> MoveViewPointUntilDone(P:Target*,I:ScrollSpeed*Scroll)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="265">265</a> ExpansionEndCredits()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="266">266</a> DisplayMessage(I:StrRef*)</div>
<div class="indent1">
Displays the message specified by the strref param. Can be used in creature scripts, or area scripts.<br />
<br />
</div>

<div class="actionHeader"><a name="267">267</a> ExportParty(S:Name*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="268">268</a> ClearPartyEffects()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="269">269</a> SetStartPos(P:Point*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="270">270</a> ClearSpriteEffects(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="271">271</a> StopJoinRequests()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="272">272</a> ResetJoinRequests()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="273">273</a> HideGUI()</div>
<div class="indent1">
Hides the docking borders, menus, etc. on the sides of the screen. This is usually used for cutscenes in conjunction with UnhideGUI().<br />
<br />
</div>

<div class="actionHeader"><a name="274">274</a> UnhideGUI()</div>
<div class="indent1">
Undoes the devious work of HideGUI().<br />
<br />
</div>

<div class="actionHeader"><a name="275">275</a> SaveGame(I:STRREF*)</div>
<div class="indent1">
Saves the game in a new savegame slot, using the filename specified by the strref param.<br />
<br />
</div>

<div class="actionHeader"><a name="276">276</a> PlayBardSong(I:BardSong*bardsong)</div>
<div class="indent1">
Character uses their Bard Song ability to the song specified (see BardSong.ids for more).<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;ActionListEmpty()<br />
&nbsp;&nbsp;CheckStatGT(Myself,2,LEVEL)<br />
&nbsp;&nbsp;OR(2)<br />
&nbsp;&nbsp;&nbsp;!Global("grCurrentSongPlaying","LOCALS",1)<br />
&nbsp;&nbsp;&nbsp;!ModalState(Myself,BATTLESONG)<br />
&nbsp;&nbsp;OR(6)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player1,STATE_PANIC)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player2,STATE_PANIC)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player3,STATE_PANIC)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player4,STATE_PANIC)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player5,STATE_PANIC)<br />
&nbsp;&nbsp;&nbsp;StateCheck(Player6,STATE_PANIC)<br />
THEN<br />
&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;SetGlobal("grCurrentSongPlaying","LOCALS",1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;PlayBardSong(THE_TALE_OF_CURRAN_STRONGHEART)<br />
END<br />
</div>
<br />
</div>

<div class="actionHeader"><a name="277">277</a> TurnAMT(I:Amount*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="278">278</a> DropInventoryEXExclude(S:Resref*,O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="279">279</a> AdvanceTime(I:Seconds*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="281">281</a> MarkObject(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="282">282</a> OverrideAreaDifficulty(S:AreaName*,I:Delta*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="283">283</a> SetCriticalPathObject(O:Object*,I:Critical*Boolean)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="284">284</a> SetScriptName(O:Object*,S:NewScriptName*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="285">285</a> SmallWaitRandom(I:Min*,I:Max*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="286">286</a> AllowAreaResting(I:TrueOrFalse*BOOLEAN)</div>
<div class="indent1">
Toggles weather the party is allowed to rest in this area, based on the value of the boolean parameter.<br />
<br />
</div>

<div class="actionHeader"><a name="287">287</a> SetHPPercent(O:Object*,I:Percent*,I:Flags*HPFlags)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="288">288</a> SetDoorFlag(O:Object*,I:Flags*DoorFlag,I:Value*BOOLEAN)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="289">289</a> SpellCastEffect(O:Source*,S:Voice*,S:Sound1*,S:Sound2*,I:Animation*sceffect,I:Speed*,I:Sequence*Sequence)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="290">290</a> SpellHitEffectPoint(O:Source*,P:Target*,I:Effect*sheffect,I:Height*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="291">291</a> SpellHitEffectSprite(O:Source*,O:Target*,I:Effect*sheffect,I:Height*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="292">292</a> ChunkCreature(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="293">293</a> UnHide(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="294">294</a> XEquipItem(S:Item*,O:Object*,I:Slot*Slots,I:EquipUnEquip*BOOLEAN)</div>
<div class="indent1">
Used to (un)equip items. The following code would equip theItem in the fist weapon slot:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp;&nbsp;Global("iiEquipped","GLOBAL",0)<br />
THEN<br />
&nbsp;&nbsp;&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XEquipItem("theItem",Myself,SLOT_WEAPON,TRUE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetGlobal("iiEquipped","GLOBAL",1)<br />
END  
</div>
<br />
And this code should unequipp it:<br />
<br />
<div class="code">
IF<br />
&nbsp;&nbsp;&nbsp;&nbsp;Global("iiEquipped","GLOBAL",2)<br />
THEN<br />
&nbsp;&nbsp;&nbsp;&nbsp;RESPONSE #100<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XEquipItem("theItem",Myself,SLOT_WEAPON,FALSE)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetGlobal("iiEquipped","GLOBAL",3)<br />
END  
</div>
<br />
</div>

<div class="actionHeader"><a name="295">295</a> TransferInventory(O:Source*,O:Target*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="296">296</a> ChangeStoreMarkup(S:Store*,I:BuyMarkup*,I:SellMarkup*,I:AdditionalMarkup*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="297">297</a> ScreenShake(I:Duration*,I:MagX*,I:MagY*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="298">298</a> FaceSavedLocation(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="299">299</a> EquipWeapon()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="300">300</a> JumpToSavedLocation()</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="301">301</a> SetExtendedNight(I:TrueOrFalse*BOOLEAN)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="302">302</a> ReturnToStartLoc(I:Tollerance*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="303">303</a> SetRestEncounterChance(I:DayProb*,I:NightProb*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="304">304</a> AddHP(O:Target,I:HP*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="305">305</a> SetMyTarget(O:Object*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="306">306</a> SetGlobalRandom(S:Name*,S:Area*,I:Min*,I:Max*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="307">307</a> SetGlobalTimerRandom(S:Name*,S:Area*,I:Min*,I:Max*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="308">308</a> SetGlobalTimerOnce(S:Name*,S:Area*,I:Time*GTimes)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="309">309</a> SetMarkedSpell(I:Spell*Spell)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="310">310</a> SetTeamBit(I:TeamFlag*TeamBit,I:Value*BOOLEAN)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="311">311</a> SpellWait(I:Spell*Spell)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="312">312</a> SetApparentNameSTRREF(O:Object*,I:StrRef*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="313">313</a> SetRegularNameSTRREF(O:Object*,I:StrRef*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="314">314</a> EndGame(I:StrRef*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="315">315</a> AddExperiencePartyCR(I:CR*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="316">316</a> AddFeat(O:Object*,I:Value*Feats)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="317">317</a> JumpToObject(O:Target*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="318">318</a> SetCreatureAreaFlag(O:Object*,I:Flag*CREAREFL,I:Value*BOOLEAN)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="319">319</a> ForceMarkedSpell(I:Spell*Spell)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="320">320</a> PlaySoundPoint(S:Sound*,P:Target*)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="321">321</a> MarkSpellAndObject(S:Spells*,O:Object*,I:Flags*SplCast)</div>
<div class="indent1">
Flags are from splcast.ids, values are additive.<br />
(NB. Can tell if your outdoors, for spell validation - eg. Call Lightning).<br />
<br />
</div>

<div class="actionHeader"><a name="322">322</a> MatchHP(O:Target*,I:Flags*HPFlags)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="323">323</a> WaitAnimation(O:Target*,I:Sequence*Sequence)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="324">324</a> SetMusic(I:SetSlot*MUSICS,I:With*MUSIC)</div>
<div class="indent1">
<br />
</div>

<div class="actionHeader"><a name="325">325</a> SetAreaFlags(I:Flags*AREAFLAG,I:BitMode*BITMODE)</div>
<div class="indent1">
<br />
</div>
</body>
</html>
